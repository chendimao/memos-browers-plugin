var kr=Object.defineProperty;var xr=(e,t,s)=>t in e?kr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var pe=(e,t,s)=>xr(e,typeof t!="symbol"?t+"":t,s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function s(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=s(o);fetch(o.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function On(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const he={},Kt=[],ot=()=>{},_r=()=>!1,Qs=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),In=e=>e.startsWith("onUpdate:"),De=Object.assign,Ln=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Tr=Object.prototype.hasOwnProperty,re=(e,t)=>Tr.call(e,t),X=Array.isArray,Jt=e=>xs(e)==="[object Map]",ts=e=>xs(e)==="[object Set]",po=e=>xs(e)==="[object Date]",te=e=>typeof e=="function",Ce=e=>typeof e=="string",pt=e=>typeof e=="symbol",be=e=>e!==null&&typeof e=="object",Xo=e=>(be(e)||te(e))&&te(e.then)&&te(e.catch),ei=Object.prototype.toString,xs=e=>ei.call(e),Sr=e=>xs(e).slice(8,-1),ti=e=>xs(e)==="[object Object]",Vn=e=>Ce(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,as=On(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Zs=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},$r=/-(\w)/g,At=Zs(e=>e.replace($r,(t,s)=>s?s.toUpperCase():"")),Cr=/\B([A-Z])/g,Pt=Zs(e=>e.replace(Cr,"-$1").toLowerCase()),si=Zs(e=>e.charAt(0).toUpperCase()+e.slice(1)),cn=Zs(e=>e?`on${si(e)}`:""),Et=(e,t)=>!Object.is(e,t),Is=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},ni=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},zs=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ho;const Ys=()=>ho||(ho=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function kt(e){if(X(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],o=Ce(n)?Rr(n):kt(n);if(o)for(const i in o)t[i]=o[i]}return t}else if(Ce(e)||be(e))return e}const Er=/;(?![^(]*\))/g,Ar=/:([^]+)/,Pr=/\/\*[^]*?\*\//g;function Rr(e){const t={};return e.replace(Pr,"").split(Er).forEach(s=>{if(s){const n=s.split(Ar);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Se(e){let t="";if(Ce(e))t=e;else if(X(e))for(let s=0;s<e.length;s++){const n=Se(e[s]);n&&(t+=n+" ")}else if(be(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const Mr="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Or=On(Mr);function oi(e){return!!e||e===""}function Ir(e,t){if(e.length!==t.length)return!1;let s=!0;for(let n=0;s&&n<e.length;n++)s=_s(e[n],t[n]);return s}function _s(e,t){if(e===t)return!0;let s=po(e),n=po(t);if(s||n)return s&&n?e.getTime()===t.getTime():!1;if(s=pt(e),n=pt(t),s||n)return e===t;if(s=X(e),n=X(t),s||n)return s&&n?Ir(e,t):!1;if(s=be(e),n=be(t),s||n){if(!s||!n)return!1;const o=Object.keys(e).length,i=Object.keys(t).length;if(o!==i)return!1;for(const r in e){const l=e.hasOwnProperty(r),c=t.hasOwnProperty(r);if(l&&!c||!l&&c||!_s(e[r],t[r]))return!1}}return String(e)===String(t)}function Dn(e,t){return e.findIndex(s=>_s(s,t))}const ii=e=>!!(e&&e.__v_isRef===!0),z=e=>Ce(e)?e:e==null?"":X(e)||be(e)&&(e.toString===ei||!te(e.toString))?ii(e)?z(e.value):JSON.stringify(e,ri,2):String(e),ri=(e,t)=>ii(t)?ri(e,t.value):Jt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,o],i)=>(s[un(n,i)+" =>"]=o,s),{})}:ts(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>un(s))}:pt(t)?un(t):be(t)&&!X(t)&&!ti(t)?String(t):t,un=(e,t="")=>{var s;return pt(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let je;class Lr{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=je,!t&&je&&(this.index=(je.scopes||(je.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=je;try{return je=this,t()}finally{je=s}}}on(){je=this}off(){je=this.parent}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function li(){return je}function Vr(e,t=!1){je&&je.cleanups.push(e)}let me;const fn=new WeakSet;class ai{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,je&&je.active&&je.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,fn.has(this)&&(fn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ui(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,go(this),fi(this);const t=me,s=it;me=this,it=!0;try{return this.fn()}finally{di(this),me=t,it=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)jn(t);this.deps=this.depsTail=void 0,go(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?fn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){bn(this)&&this.run()}get dirty(){return bn(this)}}let ci=0,cs,us;function ui(e,t=!1){if(e.flags|=8,t){e.next=us,us=e;return}e.next=cs,cs=e}function Bn(){ci++}function zn(){if(--ci>0)return;if(us){let t=us;for(us=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;cs;){let t=cs;for(cs=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function fi(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function di(e){let t,s=e.depsTail,n=s;for(;n;){const o=n.prevDep;n.version===-1?(n===s&&(s=o),jn(n),Dr(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=o}e.deps=t,e.depsTail=s}function bn(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(pi(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function pi(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===ms))return;e.globalVersion=ms;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!bn(e)){e.flags&=-3;return}const s=me,n=it;me=e,it=!0;try{fi(e);const o=e.fn(e._value);(t.version===0||Et(o,e._value))&&(e._value=o,t.version++)}catch(o){throw t.version++,o}finally{me=s,it=n,di(e),e.flags&=-3}}function jn(e,t=!1){const{dep:s,prevSub:n,nextSub:o}=e;if(n&&(n.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)jn(i,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Dr(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let it=!0;const hi=[];function Rt(){hi.push(it),it=!1}function Mt(){const e=hi.pop();it=e===void 0?!0:e}function go(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=me;me=void 0;try{t()}finally{me=s}}}let ms=0;class Br{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Hn{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!me||!it||me===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==me)s=this.activeLink=new Br(me,this),me.deps?(s.prevDep=me.depsTail,me.depsTail.nextDep=s,me.depsTail=s):me.deps=me.depsTail=s,gi(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=me.depsTail,s.nextDep=void 0,me.depsTail.nextDep=s,me.depsTail=s,me.deps===s&&(me.deps=n)}return s}trigger(t){this.version++,ms++,this.notify(t)}notify(t){Bn();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{zn()}}}function gi(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)gi(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const wn=new WeakMap,Vt=Symbol(""),yn=Symbol(""),vs=Symbol("");function Ie(e,t,s){if(it&&me){let n=wn.get(e);n||wn.set(e,n=new Map);let o=n.get(s);o||(n.set(s,o=new Hn),o.map=n,o.key=s),o.track()}}function bt(e,t,s,n,o,i){const r=wn.get(e);if(!r){ms++;return}const l=c=>{c&&c.trigger()};if(Bn(),t==="clear")r.forEach(l);else{const c=X(e),a=c&&Vn(s);if(c&&s==="length"){const u=Number(n);r.forEach((g,w)=>{(w==="length"||w===vs||!pt(w)&&w>=u)&&l(g)})}else switch((s!==void 0||r.has(void 0))&&l(r.get(s)),a&&l(r.get(vs)),t){case"add":c?a&&l(r.get("length")):(l(r.get(Vt)),Jt(e)&&l(r.get(yn)));break;case"delete":c||(l(r.get(Vt)),Jt(e)&&l(r.get(yn)));break;case"set":Jt(e)&&l(r.get(Vt));break}}zn()}function Ut(e){const t=ie(e);return t===e?t:(Ie(t,"iterate",vs),Xe(e)?t:t.map(Le))}function Xs(e){return Ie(e=ie(e),"iterate",vs),e}const zr={__proto__:null,[Symbol.iterator](){return dn(this,Symbol.iterator,Le)},concat(...e){return Ut(this).concat(...e.map(t=>X(t)?Ut(t):t))},entries(){return dn(this,"entries",e=>(e[1]=Le(e[1]),e))},every(e,t){return gt(this,"every",e,t,void 0,arguments)},filter(e,t){return gt(this,"filter",e,t,s=>s.map(Le),arguments)},find(e,t){return gt(this,"find",e,t,Le,arguments)},findIndex(e,t){return gt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return gt(this,"findLast",e,t,Le,arguments)},findLastIndex(e,t){return gt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return gt(this,"forEach",e,t,void 0,arguments)},includes(...e){return pn(this,"includes",e)},indexOf(...e){return pn(this,"indexOf",e)},join(e){return Ut(this).join(e)},lastIndexOf(...e){return pn(this,"lastIndexOf",e)},map(e,t){return gt(this,"map",e,t,void 0,arguments)},pop(){return ss(this,"pop")},push(...e){return ss(this,"push",e)},reduce(e,...t){return mo(this,"reduce",e,t)},reduceRight(e,...t){return mo(this,"reduceRight",e,t)},shift(){return ss(this,"shift")},some(e,t){return gt(this,"some",e,t,void 0,arguments)},splice(...e){return ss(this,"splice",e)},toReversed(){return Ut(this).toReversed()},toSorted(e){return Ut(this).toSorted(e)},toSpliced(...e){return Ut(this).toSpliced(...e)},unshift(...e){return ss(this,"unshift",e)},values(){return dn(this,"values",Le)}};function dn(e,t,s){const n=Xs(e),o=n[t]();return n!==e&&!Xe(e)&&(o._next=o.next,o.next=()=>{const i=o._next();return i.value&&(i.value=s(i.value)),i}),o}const jr=Array.prototype;function gt(e,t,s,n,o,i){const r=Xs(e),l=r!==e&&!Xe(e),c=r[t];if(c!==jr[t]){const g=c.apply(e,i);return l?Le(g):g}let a=s;r!==e&&(l?a=function(g,w){return s.call(this,Le(g),w,e)}:s.length>2&&(a=function(g,w){return s.call(this,g,w,e)}));const u=c.call(r,a,n);return l&&o?o(u):u}function mo(e,t,s,n){const o=Xs(e);let i=s;return o!==e&&(Xe(e)?s.length>3&&(i=function(r,l,c){return s.call(this,r,l,c,e)}):i=function(r,l,c){return s.call(this,r,Le(l),c,e)}),o[t](i,...n)}function pn(e,t,s){const n=ie(e);Ie(n,"iterate",vs);const o=n[t](...s);return(o===-1||o===!1)&&Wn(s[0])?(s[0]=ie(s[0]),n[t](...s)):o}function ss(e,t,s=[]){Rt(),Bn();const n=ie(e)[t].apply(e,s);return zn(),Mt(),n}const Hr=On("__proto__,__v_isRef,__isVue"),mi=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(pt));function Fr(e){pt(e)||(e=String(e));const t=ie(this);return Ie(t,"has",e),t.hasOwnProperty(e)}class vi{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const o=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!o;if(s==="__v_isReadonly")return o;if(s==="__v_isShallow")return i;if(s==="__v_raw")return n===(o?i?Yr:ki:i?yi:wi).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const r=X(t);if(!o){let c;if(r&&(c=zr[s]))return c;if(s==="hasOwnProperty")return Fr}const l=Reflect.get(t,s,Oe(t)?t:n);return(pt(s)?mi.has(s):Hr(s))||(o||Ie(t,"get",s),i)?l:Oe(l)?r&&Vn(s)?l:l.value:be(l)?o?Un(l):Nn(l):l}}class bi extends vi{constructor(t=!1){super(!1,t)}set(t,s,n,o){let i=t[s];if(!this._isShallow){const c=Dt(i);if(!Xe(n)&&!Dt(n)&&(i=ie(i),n=ie(n)),!X(t)&&Oe(i)&&!Oe(n))return c?!1:(i.value=n,!0)}const r=X(t)&&Vn(s)?Number(s)<t.length:re(t,s),l=Reflect.set(t,s,n,Oe(t)?t:o);return t===ie(o)&&(r?Et(n,i)&&bt(t,"set",s,n):bt(t,"add",s,n)),l}deleteProperty(t,s){const n=re(t,s);t[s];const o=Reflect.deleteProperty(t,s);return o&&n&&bt(t,"delete",s,void 0),o}has(t,s){const n=Reflect.has(t,s);return(!pt(s)||!mi.has(s))&&Ie(t,"has",s),n}ownKeys(t){return Ie(t,"iterate",X(t)?"length":Vt),Reflect.ownKeys(t)}}class Nr extends vi{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Ur=new bi,qr=new Nr,Wr=new bi(!0);const kn=e=>e,Es=e=>Reflect.getPrototypeOf(e);function Kr(e,t,s){return function(...n){const o=this.__v_raw,i=ie(o),r=Jt(i),l=e==="entries"||e===Symbol.iterator&&r,c=e==="keys"&&r,a=o[e](...n),u=s?kn:t?xn:Le;return!t&&Ie(i,"iterate",c?yn:Vt),{next(){const{value:g,done:w}=a.next();return w?{value:g,done:w}:{value:l?[u(g[0]),u(g[1])]:u(g),done:w}},[Symbol.iterator](){return this}}}}function As(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Jr(e,t){const s={get(o){const i=this.__v_raw,r=ie(i),l=ie(o);e||(Et(o,l)&&Ie(r,"get",o),Ie(r,"get",l));const{has:c}=Es(r),a=t?kn:e?xn:Le;if(c.call(r,o))return a(i.get(o));if(c.call(r,l))return a(i.get(l));i!==r&&i.get(o)},get size(){const o=this.__v_raw;return!e&&Ie(ie(o),"iterate",Vt),Reflect.get(o,"size",o)},has(o){const i=this.__v_raw,r=ie(i),l=ie(o);return e||(Et(o,l)&&Ie(r,"has",o),Ie(r,"has",l)),o===l?i.has(o):i.has(o)||i.has(l)},forEach(o,i){const r=this,l=r.__v_raw,c=ie(l),a=t?kn:e?xn:Le;return!e&&Ie(c,"iterate",Vt),l.forEach((u,g)=>o.call(i,a(u),a(g),r))}};return De(s,e?{add:As("add"),set:As("set"),delete:As("delete"),clear:As("clear")}:{add(o){!t&&!Xe(o)&&!Dt(o)&&(o=ie(o));const i=ie(this);return Es(i).has.call(i,o)||(i.add(o),bt(i,"add",o,o)),this},set(o,i){!t&&!Xe(i)&&!Dt(i)&&(i=ie(i));const r=ie(this),{has:l,get:c}=Es(r);let a=l.call(r,o);a||(o=ie(o),a=l.call(r,o));const u=c.call(r,o);return r.set(o,i),a?Et(i,u)&&bt(r,"set",o,i):bt(r,"add",o,i),this},delete(o){const i=ie(this),{has:r,get:l}=Es(i);let c=r.call(i,o);c||(o=ie(o),c=r.call(i,o)),l&&l.call(i,o);const a=i.delete(o);return c&&bt(i,"delete",o,void 0),a},clear(){const o=ie(this),i=o.size!==0,r=o.clear();return i&&bt(o,"clear",void 0,void 0),r}}),["keys","values","entries",Symbol.iterator].forEach(o=>{s[o]=Kr(o,e,t)}),s}function Fn(e,t){const s=Jr(e,t);return(n,o,i)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?n:Reflect.get(re(s,o)&&o in n?s:n,o,i)}const Gr={get:Fn(!1,!1)},Qr={get:Fn(!1,!0)},Zr={get:Fn(!0,!1)};const wi=new WeakMap,yi=new WeakMap,ki=new WeakMap,Yr=new WeakMap;function Xr(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function el(e){return e.__v_skip||!Object.isExtensible(e)?0:Xr(Sr(e))}function Nn(e){return Dt(e)?e:qn(e,!1,Ur,Gr,wi)}function tl(e){return qn(e,!1,Wr,Qr,yi)}function Un(e){return qn(e,!0,qr,Zr,ki)}function qn(e,t,s,n,o){if(!be(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=o.get(e);if(i)return i;const r=el(e);if(r===0)return e;const l=new Proxy(e,r===2?n:s);return o.set(e,l),l}function Gt(e){return Dt(e)?Gt(e.__v_raw):!!(e&&e.__v_isReactive)}function Dt(e){return!!(e&&e.__v_isReadonly)}function Xe(e){return!!(e&&e.__v_isShallow)}function Wn(e){return e?!!e.__v_raw:!1}function ie(e){const t=e&&e.__v_raw;return t?ie(t):e}function sl(e){return!re(e,"__v_skip")&&Object.isExtensible(e)&&ni(e,"__v_skip",!0),e}const Le=e=>be(e)?Nn(e):e,xn=e=>be(e)?Un(e):e;function Oe(e){return e?e.__v_isRef===!0:!1}function J(e){return xi(e,!1)}function nl(e){return xi(e,!0)}function xi(e,t){return Oe(e)?e:new ol(e,t)}class ol{constructor(t,s){this.dep=new Hn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:ie(t),this._value=s?t:Le(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,n=this.__v_isShallow||Xe(t)||Dt(t);t=n?t:ie(t),Et(t,s)&&(this._rawValue=t,this._value=n?t:Le(t),this.dep.trigger())}}function S(e){return Oe(e)?e.value:e}const il={get:(e,t,s)=>t==="__v_raw"?e:S(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const o=e[t];return Oe(o)&&!Oe(s)?(o.value=s,!0):Reflect.set(e,t,s,n)}};function _i(e){return Gt(e)?e:new Proxy(e,il)}class rl{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Hn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ms-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&me!==this)return ui(this,!0),!0}get value(){const t=this.dep.track();return pi(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function ll(e,t,s=!1){let n,o;return te(e)?n=e:(n=e.get,o=e.set),new rl(n,o,s)}const Ps={},js=new WeakMap;let Lt;function al(e,t=!1,s=Lt){if(s){let n=js.get(s);n||js.set(s,n=[]),n.push(e)}}function cl(e,t,s=he){const{immediate:n,deep:o,once:i,scheduler:r,augmentJob:l,call:c}=s,a=L=>o?L:Xe(L)||o===!1||o===0?wt(L,1):wt(L);let u,g,w,v,_=!1,M=!1;if(Oe(e)?(g=()=>e.value,_=Xe(e)):Gt(e)?(g=()=>a(e),_=!0):X(e)?(M=!0,_=e.some(L=>Gt(L)||Xe(L)),g=()=>e.map(L=>{if(Oe(L))return L.value;if(Gt(L))return a(L);if(te(L))return c?c(L,2):L()})):te(e)?t?g=c?()=>c(e,2):e:g=()=>{if(w){Rt();try{w()}finally{Mt()}}const L=Lt;Lt=u;try{return c?c(e,3,[v]):e(v)}finally{Lt=L}}:g=ot,t&&o){const L=g,se=o===!0?1/0:o;g=()=>wt(L(),se)}const O=li(),ee=()=>{u.stop(),O&&O.active&&Ln(O.effects,u)};if(i&&t){const L=t;t=(...se)=>{L(...se),ee()}}let q=M?new Array(e.length).fill(Ps):Ps;const Q=L=>{if(!(!(u.flags&1)||!u.dirty&&!L))if(t){const se=u.run();if(o||_||(M?se.some((ue,ce)=>Et(ue,q[ce])):Et(se,q))){w&&w();const ue=Lt;Lt=u;try{const ce=[se,q===Ps?void 0:M&&q[0]===Ps?[]:q,v];c?c(t,3,ce):t(...ce),q=se}finally{Lt=ue}}}else u.run()};return l&&l(Q),u=new ai(g),u.scheduler=r?()=>r(Q,!1):Q,v=L=>al(L,!1,u),w=u.onStop=()=>{const L=js.get(u);if(L){if(c)c(L,4);else for(const se of L)se();js.delete(u)}},t?n?Q(!0):q=u.run():r?r(Q.bind(null,!0),!0):u.run(),ee.pause=u.pause.bind(u),ee.resume=u.resume.bind(u),ee.stop=ee,ee}function wt(e,t=1/0,s){if(t<=0||!be(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,Oe(e))wt(e.value,t,s);else if(X(e))for(let n=0;n<e.length;n++)wt(e[n],t,s);else if(ts(e)||Jt(e))e.forEach(n=>{wt(n,t,s)});else if(ti(e)){for(const n in e)wt(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&wt(e[n],t,s)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ts(e,t,s,n){try{return n?e(...n):e()}catch(o){en(o,t,s)}}function ht(e,t,s,n){if(te(e)){const o=Ts(e,t,s,n);return o&&Xo(o)&&o.catch(i=>{en(i,t,s)}),o}if(X(e)){const o=[];for(let i=0;i<e.length;i++)o.push(ht(e[i],t,s,n));return o}}function en(e,t,s,n=!0){const o=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:r}=t&&t.appContext.config||he;if(t){let l=t.parent;const c=t.proxy,a=`https://vuejs.org/error-reference/#runtime-${s}`;for(;l;){const u=l.ec;if(u){for(let g=0;g<u.length;g++)if(u[g](e,c,a)===!1)return}l=l.parent}if(i){Rt(),Ts(i,null,10,[e,c,a]),Mt();return}}ul(e,s,o,n,r)}function ul(e,t,s,n=!0,o=!1){if(o)throw e;console.error(e)}const He=[];let ft=-1;const Qt=[];let St=null,Wt=0;const Ti=Promise.resolve();let Hs=null;function xe(e){const t=Hs||Ti;return e?t.then(this?e.bind(this):e):t}function fl(e){let t=ft+1,s=He.length;for(;t<s;){const n=t+s>>>1,o=He[n],i=bs(o);i<e||i===e&&o.flags&2?t=n+1:s=n}return t}function Kn(e){if(!(e.flags&1)){const t=bs(e),s=He[He.length-1];!s||!(e.flags&2)&&t>=bs(s)?He.push(e):He.splice(fl(t),0,e),e.flags|=1,Si()}}function Si(){Hs||(Hs=Ti.then(Ei))}function $i(e){X(e)?Qt.push(...e):St&&e.id===-1?St.splice(Wt+1,0,e):e.flags&1||(Qt.push(e),e.flags|=1),Si()}function vo(e,t,s=ft+1){for(;s<He.length;s++){const n=He[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;He.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Ci(e){if(Qt.length){const t=[...new Set(Qt)].sort((s,n)=>bs(s)-bs(n));if(Qt.length=0,St){St.push(...t);return}for(St=t,Wt=0;Wt<St.length;Wt++){const s=St[Wt];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}St=null,Wt=0}}const bs=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Ei(e){try{for(ft=0;ft<He.length;ft++){const t=He[ft];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Ts(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;ft<He.length;ft++){const t=He[ft];t&&(t.flags&=-2)}ft=-1,He.length=0,Ci(),Hs=null,(He.length||Qt.length)&&Ei()}}let Ke=null,Ai=null;function Fs(e){const t=Ke;return Ke=e,Ai=e&&e.type.__scopeId||null,t}function dl(e,t=Ke,s){if(!t||e._n)return e;const n=(...o)=>{n._d&&$o(-1);const i=Fs(t);let r;try{r=e(...o)}finally{Fs(i),n._d&&$o(1)}return r};return n._n=!0,n._c=!0,n._d=!0,n}function Pe(e,t){if(Ke===null)return e;const s=on(Ke),n=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[i,r,l,c=he]=t[o];i&&(te(i)&&(i={mounted:i,updated:i}),i.deep&&wt(r),n.push({dir:i,instance:s,value:r,oldValue:void 0,arg:l,modifiers:c}))}return e}function Ot(e,t,s,n){const o=e.dirs,i=t&&t.dirs;for(let r=0;r<o.length;r++){const l=o[r];i&&(l.oldValue=i[r].value);let c=l.dir[n];c&&(Rt(),ht(c,s,8,[e.el,l,e,t]),Mt())}}const pl=Symbol("_vte"),hl=e=>e.__isTeleport;function Jn(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Jn(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Gn(e,t){return te(e)?De({name:e.name},t,{setup:e}):e}function Pi(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Ns(e,t,s,n,o=!1){if(X(e)){e.forEach((_,M)=>Ns(_,t&&(X(t)?t[M]:t),s,n,o));return}if(fs(n)&&!o){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Ns(e,t,s,n.component.subTree);return}const i=n.shapeFlag&4?on(n.component):n.el,r=o?null:i,{i:l,r:c}=e,a=t&&t.r,u=l.refs===he?l.refs={}:l.refs,g=l.setupState,w=ie(g),v=g===he?()=>!1:_=>re(w,_);if(a!=null&&a!==c&&(Ce(a)?(u[a]=null,v(a)&&(g[a]=null)):Oe(a)&&(a.value=null)),te(c))Ts(c,l,12,[r,u]);else{const _=Ce(c),M=Oe(c);if(_||M){const O=()=>{if(e.f){const ee=_?v(c)?g[c]:u[c]:c.value;o?X(ee)&&Ln(ee,i):X(ee)?ee.includes(i)||ee.push(i):_?(u[c]=[i],v(c)&&(g[c]=u[c])):(c.value=[i],e.k&&(u[e.k]=c.value))}else _?(u[c]=r,v(c)&&(g[c]=r)):M&&(c.value=r,e.k&&(u[e.k]=r))};r?(O.id=-1,We(O,s)):O()}}}Ys().requestIdleCallback;Ys().cancelIdleCallback;const fs=e=>!!e.type.__asyncLoader,Ri=e=>e.type.__isKeepAlive;function gl(e,t){Mi(e,"a",t)}function ml(e,t){Mi(e,"da",t)}function Mi(e,t,s=Ve){const n=e.__wdc||(e.__wdc=()=>{let o=s;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(tn(t,n,s),s){let o=s.parent;for(;o&&o.parent;)Ri(o.parent.vnode)&&vl(n,t,s,o),o=o.parent}}function vl(e,t,s,n){const o=tn(t,e,n,!0);Bt(()=>{Ln(n[t],o)},s)}function tn(e,t,s=Ve,n=!1){if(s){const o=s[e]||(s[e]=[]),i=t.__weh||(t.__weh=(...r)=>{Rt();const l=Ss(s),c=ht(t,s,e,r);return l(),Mt(),c});return n?o.unshift(i):o.push(i),i}}const _t=e=>(t,s=Ve)=>{(!ys||e==="sp")&&tn(e,(...n)=>t(...n),s)},bl=_t("bm"),Ht=_t("m"),Oi=_t("bu"),wl=_t("u"),yl=_t("bum"),Bt=_t("um"),kl=_t("sp"),xl=_t("rtg"),_l=_t("rtc");function Tl(e,t=Ve){tn("ec",e,t)}const Sl=Symbol.for("v-ndc");function st(e,t,s,n){let o;const i=s,r=X(e);if(r||Ce(e)){const l=r&&Gt(e);let c=!1;l&&(c=!Xe(e),e=Xs(e)),o=new Array(e.length);for(let a=0,u=e.length;a<u;a++)o[a]=t(c?Le(e[a]):e[a],a,void 0,i)}else if(typeof e=="number"){o=new Array(e);for(let l=0;l<e;l++)o[l]=t(l+1,l,void 0,i)}else if(be(e))if(e[Symbol.iterator])o=Array.from(e,(l,c)=>t(l,c,void 0,i));else{const l=Object.keys(e);o=new Array(l.length);for(let c=0,a=l.length;c<a;c++){const u=l[c];o[c]=t(e[u],u,c,i)}}else o=[];return o}const _n=e=>e?sr(e)?on(e):_n(e.parent):null,ds=De(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>_n(e.parent),$root:e=>_n(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Li(e),$forceUpdate:e=>e.f||(e.f=()=>{Kn(e.update)}),$nextTick:e=>e.n||(e.n=xe.bind(e.proxy)),$watch:e=>Kl.bind(e)}),hn=(e,t)=>e!==he&&!e.__isScriptSetup&&re(e,t),$l={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:o,props:i,accessCache:r,type:l,appContext:c}=e;let a;if(t[0]!=="$"){const v=r[t];if(v!==void 0)switch(v){case 1:return n[t];case 2:return o[t];case 4:return s[t];case 3:return i[t]}else{if(hn(n,t))return r[t]=1,n[t];if(o!==he&&re(o,t))return r[t]=2,o[t];if((a=e.propsOptions[0])&&re(a,t))return r[t]=3,i[t];if(s!==he&&re(s,t))return r[t]=4,s[t];Tn&&(r[t]=0)}}const u=ds[t];let g,w;if(u)return t==="$attrs"&&Ie(e.attrs,"get",""),u(e);if((g=l.__cssModules)&&(g=g[t]))return g;if(s!==he&&re(s,t))return r[t]=4,s[t];if(w=c.config.globalProperties,re(w,t))return w[t]},set({_:e},t,s){const{data:n,setupState:o,ctx:i}=e;return hn(o,t)?(o[t]=s,!0):n!==he&&re(n,t)?(n[t]=s,!0):re(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:o,propsOptions:i}},r){let l;return!!s[r]||e!==he&&re(e,r)||hn(t,r)||(l=i[0])&&re(l,r)||re(n,r)||re(ds,r)||re(o.config.globalProperties,r)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:re(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function bo(e){return X(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Tn=!0;function Cl(e){const t=Li(e),s=e.proxy,n=e.ctx;Tn=!1,t.beforeCreate&&wo(t.beforeCreate,e,"bc");const{data:o,computed:i,methods:r,watch:l,provide:c,inject:a,created:u,beforeMount:g,mounted:w,beforeUpdate:v,updated:_,activated:M,deactivated:O,beforeDestroy:ee,beforeUnmount:q,destroyed:Q,unmounted:L,render:se,renderTracked:ue,renderTriggered:ce,errorCaptured:oe,serverPrefetch:Ue,expose:Y,inheritAttrs:fe,components:Ee,directives:ge,filters:et}=t;if(a&&El(a,n,null),r)for(const $ in r){const A=r[$];te(A)&&(n[$]=A.bind(s))}if(o){const $=o.call(s,s);be($)&&(e.data=Nn($))}if(Tn=!0,i)for(const $ in i){const A=i[$],de=te(A)?A.bind(s,s):te(A.get)?A.get.bind(s,s):ot,Ae=!te(A)&&te(A.set)?A.set.bind(s):ot,we=$e({get:de,set:Ae});Object.defineProperty(n,$,{enumerable:!0,configurable:!0,get:()=>we.value,set:j=>we.value=j})}if(l)for(const $ in l)Ii(l[$],n,s,$);if(c){const $=te(c)?c.call(s):c;Reflect.ownKeys($).forEach(A=>{Il(A,$[A])})}u&&wo(u,e,"c");function N($,A){X(A)?A.forEach(de=>$(de.bind(s))):A&&$(A.bind(s))}if(N(bl,g),N(Ht,w),N(Oi,v),N(wl,_),N(gl,M),N(ml,O),N(Tl,oe),N(_l,ue),N(xl,ce),N(yl,q),N(Bt,L),N(kl,Ue),X(Y))if(Y.length){const $=e.exposed||(e.exposed={});Y.forEach(A=>{Object.defineProperty($,A,{get:()=>s[A],set:de=>s[A]=de})})}else e.exposed||(e.exposed={});se&&e.render===ot&&(e.render=se),fe!=null&&(e.inheritAttrs=fe),Ee&&(e.components=Ee),ge&&(e.directives=ge),Ue&&Pi(e)}function El(e,t,s=ot){X(e)&&(e=Sn(e));for(const n in e){const o=e[n];let i;be(o)?"default"in o?i=Ls(o.from||n,o.default,!0):i=Ls(o.from||n):i=Ls(o),Oe(i)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:r=>i.value=r}):t[n]=i}}function wo(e,t,s){ht(X(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function Ii(e,t,s,n){let o=n.includes(".")?Gi(s,n):()=>s[n];if(Ce(e)){const i=t[e];te(i)&&ye(o,i)}else if(te(e))ye(o,e.bind(s));else if(be(e))if(X(e))e.forEach(i=>Ii(i,t,s,n));else{const i=te(e.handler)?e.handler.bind(s):t[e.handler];te(i)&&ye(o,i,e)}}function Li(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:o,optionsCache:i,config:{optionMergeStrategies:r}}=e.appContext,l=i.get(t);let c;return l?c=l:!o.length&&!s&&!n?c=t:(c={},o.length&&o.forEach(a=>Us(c,a,r,!0)),Us(c,t,r)),be(t)&&i.set(t,c),c}function Us(e,t,s,n=!1){const{mixins:o,extends:i}=t;i&&Us(e,i,s,!0),o&&o.forEach(r=>Us(e,r,s,!0));for(const r in t)if(!(n&&r==="expose")){const l=Al[r]||s&&s[r];e[r]=l?l(e[r],t[r]):t[r]}return e}const Al={data:yo,props:ko,emits:ko,methods:rs,computed:rs,beforeCreate:ze,created:ze,beforeMount:ze,mounted:ze,beforeUpdate:ze,updated:ze,beforeDestroy:ze,beforeUnmount:ze,destroyed:ze,unmounted:ze,activated:ze,deactivated:ze,errorCaptured:ze,serverPrefetch:ze,components:rs,directives:rs,watch:Rl,provide:yo,inject:Pl};function yo(e,t){return t?e?function(){return De(te(e)?e.call(this,this):e,te(t)?t.call(this,this):t)}:t:e}function Pl(e,t){return rs(Sn(e),Sn(t))}function Sn(e){if(X(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function ze(e,t){return e?[...new Set([].concat(e,t))]:t}function rs(e,t){return e?De(Object.create(null),e,t):t}function ko(e,t){return e?X(e)&&X(t)?[...new Set([...e,...t])]:De(Object.create(null),bo(e),bo(t??{})):t}function Rl(e,t){if(!e)return t;if(!t)return e;const s=De(Object.create(null),e);for(const n in t)s[n]=ze(e[n],t[n]);return s}function Vi(){return{app:null,config:{isNativeTag:_r,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ml=0;function Ol(e,t){return function(n,o=null){te(n)||(n=De({},n)),o!=null&&!be(o)&&(o=null);const i=Vi(),r=new WeakSet,l=[];let c=!1;const a=i.app={_uid:Ml++,_component:n,_props:o,_container:null,_context:i,_instance:null,version:pa,get config(){return i.config},set config(u){},use(u,...g){return r.has(u)||(u&&te(u.install)?(r.add(u),u.install(a,...g)):te(u)&&(r.add(u),u(a,...g))),a},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),a},component(u,g){return g?(i.components[u]=g,a):i.components[u]},directive(u,g){return g?(i.directives[u]=g,a):i.directives[u]},mount(u,g,w){if(!c){const v=a._ceVNode||Me(n,o);return v.appContext=i,w===!0?w="svg":w===!1&&(w=void 0),e(v,u,w),c=!0,a._container=u,u.__vue_app__=a,on(v.component)}},onUnmount(u){l.push(u)},unmount(){c&&(ht(l,a._instance,16),e(null,a._container),delete a._container.__vue_app__)},provide(u,g){return i.provides[u]=g,a},runWithContext(u){const g=Zt;Zt=a;try{return u()}finally{Zt=g}}};return a}}let Zt=null;function Il(e,t){if(Ve){let s=Ve.provides;const n=Ve.parent&&Ve.parent.provides;n===s&&(s=Ve.provides=Object.create(n)),s[e]=t}}function Ls(e,t,s=!1){const n=Ve||Ke;if(n||Zt){const o=Zt?Zt._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return s&&te(t)?t.call(n&&n.proxy):t}}const Di={},Bi=()=>Object.create(Di),zi=e=>Object.getPrototypeOf(e)===Di;function Ll(e,t,s,n=!1){const o={},i=Bi();e.propsDefaults=Object.create(null),ji(e,t,o,i);for(const r in e.propsOptions[0])r in o||(o[r]=void 0);s?e.props=n?o:tl(o):e.type.props?e.props=o:e.props=i,e.attrs=i}function Vl(e,t,s,n){const{props:o,attrs:i,vnode:{patchFlag:r}}=e,l=ie(o),[c]=e.propsOptions;let a=!1;if((n||r>0)&&!(r&16)){if(r&8){const u=e.vnode.dynamicProps;for(let g=0;g<u.length;g++){let w=u[g];if(sn(e.emitsOptions,w))continue;const v=t[w];if(c)if(re(i,w))v!==i[w]&&(i[w]=v,a=!0);else{const _=At(w);o[_]=$n(c,l,_,v,e,!1)}else v!==i[w]&&(i[w]=v,a=!0)}}}else{ji(e,t,o,i)&&(a=!0);let u;for(const g in l)(!t||!re(t,g)&&((u=Pt(g))===g||!re(t,u)))&&(c?s&&(s[g]!==void 0||s[u]!==void 0)&&(o[g]=$n(c,l,g,void 0,e,!0)):delete o[g]);if(i!==l)for(const g in i)(!t||!re(t,g))&&(delete i[g],a=!0)}a&&bt(e.attrs,"set","")}function ji(e,t,s,n){const[o,i]=e.propsOptions;let r=!1,l;if(t)for(let c in t){if(as(c))continue;const a=t[c];let u;o&&re(o,u=At(c))?!i||!i.includes(u)?s[u]=a:(l||(l={}))[u]=a:sn(e.emitsOptions,c)||(!(c in n)||a!==n[c])&&(n[c]=a,r=!0)}if(i){const c=ie(s),a=l||he;for(let u=0;u<i.length;u++){const g=i[u];s[g]=$n(o,c,g,a[g],e,!re(a,g))}}return r}function $n(e,t,s,n,o,i){const r=e[s];if(r!=null){const l=re(r,"default");if(l&&n===void 0){const c=r.default;if(r.type!==Function&&!r.skipFactory&&te(c)){const{propsDefaults:a}=o;if(s in a)n=a[s];else{const u=Ss(o);n=a[s]=c.call(null,t),u()}}else n=c;o.ce&&o.ce._setProp(s,n)}r[0]&&(i&&!l?n=!1:r[1]&&(n===""||n===Pt(s))&&(n=!0))}return n}const Dl=new WeakMap;function Hi(e,t,s=!1){const n=s?Dl:t.propsCache,o=n.get(e);if(o)return o;const i=e.props,r={},l=[];let c=!1;if(!te(e)){const u=g=>{c=!0;const[w,v]=Hi(g,t,!0);De(r,w),v&&l.push(...v)};!s&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!c)return be(e)&&n.set(e,Kt),Kt;if(X(i))for(let u=0;u<i.length;u++){const g=At(i[u]);xo(g)&&(r[g]=he)}else if(i)for(const u in i){const g=At(u);if(xo(g)){const w=i[u],v=r[g]=X(w)||te(w)?{type:w}:De({},w),_=v.type;let M=!1,O=!0;if(X(_))for(let ee=0;ee<_.length;++ee){const q=_[ee],Q=te(q)&&q.name;if(Q==="Boolean"){M=!0;break}else Q==="String"&&(O=!1)}else M=te(_)&&_.name==="Boolean";v[0]=M,v[1]=O,(M||re(v,"default"))&&l.push(g)}}const a=[r,l];return be(e)&&n.set(e,a),a}function xo(e){return e[0]!=="$"&&!as(e)}const Fi=e=>e[0]==="_"||e==="$stable",Qn=e=>X(e)?e.map(dt):[dt(e)],Bl=(e,t,s)=>{if(t._n)return t;const n=dl((...o)=>Qn(t(...o)),s);return n._c=!1,n},Ni=(e,t,s)=>{const n=e._ctx;for(const o in e){if(Fi(o))continue;const i=e[o];if(te(i))t[o]=Bl(o,i,n);else if(i!=null){const r=Qn(i);t[o]=()=>r}}},Ui=(e,t)=>{const s=Qn(t);e.slots.default=()=>s},qi=(e,t,s)=>{for(const n in t)(s||n!=="_")&&(e[n]=t[n])},zl=(e,t,s)=>{const n=e.slots=Bi();if(e.vnode.shapeFlag&32){const o=t._;o?(qi(n,t,s),s&&ni(n,"_",o,!0)):Ni(t,n)}else t&&Ui(e,t)},jl=(e,t,s)=>{const{vnode:n,slots:o}=e;let i=!0,r=he;if(n.shapeFlag&32){const l=t._;l?s&&l===1?i=!1:qi(o,t,s):(i=!t.$stable,Ni(t,o)),r=t}else t&&(Ui(e,t),r={default:1});if(i)for(const l in o)!Fi(l)&&r[l]==null&&delete o[l]},We=ea;function Hl(e){return Fl(e)}function Fl(e,t){const s=Ys();s.__VUE__=!0;const{insert:n,remove:o,patchProp:i,createElement:r,createText:l,createComment:c,setText:a,setElementText:u,parentNode:g,nextSibling:w,setScopeId:v=ot,insertStaticContent:_}=e,M=(d,m,k,P=null,C=null,E=null,D=void 0,b=null,f=!!m.dynamicChildren)=>{if(d===m)return;d&&!ns(d,m)&&(P=Re(d),j(d,C,E,!0),d=null),m.patchFlag===-2&&(f=!1,m.dynamicChildren=null);const{type:h,ref:y,shapeFlag:x}=m;switch(h){case nn:O(d,m,k,P);break;case zt:ee(d,m,k,P);break;case Vs:d==null&&q(m,k,P,D);break;case Te:Ee(d,m,k,P,C,E,D,b,f);break;default:x&1?se(d,m,k,P,C,E,D,b,f):x&6?ge(d,m,k,P,C,E,D,b,f):(x&64||x&128)&&h.process(d,m,k,P,C,E,D,b,f,Tt)}y!=null&&C&&Ns(y,d&&d.ref,E,m||d,!m)},O=(d,m,k,P)=>{if(d==null)n(m.el=l(m.children),k,P);else{const C=m.el=d.el;m.children!==d.children&&a(C,m.children)}},ee=(d,m,k,P)=>{d==null?n(m.el=c(m.children||""),k,P):m.el=d.el},q=(d,m,k,P)=>{[d.el,d.anchor]=_(d.children,m,k,P,d.el,d.anchor)},Q=({el:d,anchor:m},k,P)=>{let C;for(;d&&d!==m;)C=w(d),n(d,k,P),d=C;n(m,k,P)},L=({el:d,anchor:m})=>{let k;for(;d&&d!==m;)k=w(d),o(d),d=k;o(m)},se=(d,m,k,P,C,E,D,b,f)=>{m.type==="svg"?D="svg":m.type==="math"&&(D="mathml"),d==null?ue(m,k,P,C,E,D,b,f):Ue(d,m,C,E,D,b,f)},ue=(d,m,k,P,C,E,D,b)=>{let f,h;const{props:y,shapeFlag:x,transition:R,dirs:H}=d;if(f=d.el=r(d.type,E,y&&y.is,y),x&8?u(f,d.children):x&16&&oe(d.children,f,null,P,C,gn(d,E),D,b),H&&Ot(d,null,P,"created"),ce(f,d,d.scopeId,D,P),y){for(const F in y)F!=="value"&&!as(F)&&i(f,F,null,y[F],E,P);"value"in y&&i(f,"value",null,y.value,E),(h=y.onVnodeBeforeMount)&&ct(h,P,d)}H&&Ot(d,null,P,"beforeMount");const I=Nl(C,R);I&&R.beforeEnter(f),n(f,m,k),((h=y&&y.onVnodeMounted)||I||H)&&We(()=>{h&&ct(h,P,d),I&&R.enter(f),H&&Ot(d,null,P,"mounted")},C)},ce=(d,m,k,P,C)=>{if(k&&v(d,k),P)for(let E=0;E<P.length;E++)v(d,P[E]);if(C){let E=C.subTree;if(m===E||Zi(E.type)&&(E.ssContent===m||E.ssFallback===m)){const D=C.vnode;ce(d,D,D.scopeId,D.slotScopeIds,C.parent)}}},oe=(d,m,k,P,C,E,D,b,f=0)=>{for(let h=f;h<d.length;h++){const y=d[h]=b?$t(d[h]):dt(d[h]);M(null,y,m,k,P,C,E,D,b)}},Ue=(d,m,k,P,C,E,D)=>{const b=m.el=d.el;let{patchFlag:f,dynamicChildren:h,dirs:y}=m;f|=d.patchFlag&16;const x=d.props||he,R=m.props||he;let H;if(k&&It(k,!1),(H=R.onVnodeBeforeUpdate)&&ct(H,k,m,d),y&&Ot(m,d,k,"beforeUpdate"),k&&It(k,!0),(x.innerHTML&&R.innerHTML==null||x.textContent&&R.textContent==null)&&u(b,""),h?Y(d.dynamicChildren,h,b,k,P,gn(m,C),E):D||A(d,m,b,null,k,P,gn(m,C),E,!1),f>0){if(f&16)fe(b,x,R,k,C);else if(f&2&&x.class!==R.class&&i(b,"class",null,R.class,C),f&4&&i(b,"style",x.style,R.style,C),f&8){const I=m.dynamicProps;for(let F=0;F<I.length;F++){const K=I[F],ne=x[K],ke=R[K];(ke!==ne||K==="value")&&i(b,K,ne,ke,C,k)}}f&1&&d.children!==m.children&&u(b,m.children)}else!D&&h==null&&fe(b,x,R,k,C);((H=R.onVnodeUpdated)||y)&&We(()=>{H&&ct(H,k,m,d),y&&Ot(m,d,k,"updated")},P)},Y=(d,m,k,P,C,E,D)=>{for(let b=0;b<m.length;b++){const f=d[b],h=m[b],y=f.el&&(f.type===Te||!ns(f,h)||f.shapeFlag&70)?g(f.el):k;M(f,h,y,null,P,C,E,D,!0)}},fe=(d,m,k,P,C)=>{if(m!==k){if(m!==he)for(const E in m)!as(E)&&!(E in k)&&i(d,E,m[E],null,C,P);for(const E in k){if(as(E))continue;const D=k[E],b=m[E];D!==b&&E!=="value"&&i(d,E,b,D,C,P)}"value"in k&&i(d,"value",m.value,k.value,C)}},Ee=(d,m,k,P,C,E,D,b,f)=>{const h=m.el=d?d.el:l(""),y=m.anchor=d?d.anchor:l("");let{patchFlag:x,dynamicChildren:R,slotScopeIds:H}=m;H&&(b=b?b.concat(H):H),d==null?(n(h,k,P),n(y,k,P),oe(m.children||[],k,y,C,E,D,b,f)):x>0&&x&64&&R&&d.dynamicChildren?(Y(d.dynamicChildren,R,k,C,E,D,b),(m.key!=null||C&&m===C.subTree)&&Wi(d,m,!0)):A(d,m,k,y,C,E,D,b,f)},ge=(d,m,k,P,C,E,D,b,f)=>{m.slotScopeIds=b,d==null?m.shapeFlag&512?C.ctx.activate(m,k,P,D,f):et(m,k,P,C,E,D,f):qe(d,m,f)},et=(d,m,k,P,C,E,D)=>{const b=d.component=la(d,P,C);if(Ri(d)&&(b.ctx.renderer=Tt),aa(b,!1,D),b.asyncDep){if(C&&C.registerDep(b,N,D),!d.el){const f=b.subTree=Me(zt);ee(null,f,m,k)}}else N(b,d,m,k,C,E,D)},qe=(d,m,k)=>{const P=m.component=d.component;if(Yl(d,m,k))if(P.asyncDep&&!P.asyncResolved){$(P,m,k);return}else P.next=m,P.update();else m.el=d.el,P.vnode=m},N=(d,m,k,P,C,E,D)=>{const b=()=>{if(d.isMounted){let{next:x,bu:R,u:H,parent:I,vnode:F}=d;{const Qe=Ki(d);if(Qe){x&&(x.el=F.el,$(d,x,D)),Qe.asyncDep.then(()=>{d.isUnmounted||b()});return}}let K=x,ne;It(d,!1),x?(x.el=F.el,$(d,x,D)):x=F,R&&Is(R),(ne=x.props&&x.props.onVnodeBeforeUpdate)&&ct(ne,I,x,F),It(d,!0);const ke=To(d),Ge=d.subTree;d.subTree=ke,M(Ge,ke,g(Ge.el),Re(Ge),d,C,E),x.el=ke.el,K===null&&Xl(d,ke.el),H&&We(H,C),(ne=x.props&&x.props.onVnodeUpdated)&&We(()=>ct(ne,I,x,F),C)}else{let x;const{el:R,props:H}=m,{bm:I,m:F,parent:K,root:ne,type:ke}=d,Ge=fs(m);It(d,!1),I&&Is(I),!Ge&&(x=H&&H.onVnodeBeforeMount)&&ct(x,K,m),It(d,!0);{ne.ce&&ne.ce._injectChildStyle(ke);const Qe=d.subTree=To(d);M(null,Qe,k,P,d,C,E),m.el=Qe.el}if(F&&We(F,C),!Ge&&(x=H&&H.onVnodeMounted)){const Qe=m;We(()=>ct(x,K,Qe),C)}(m.shapeFlag&256||K&&fs(K.vnode)&&K.vnode.shapeFlag&256)&&d.a&&We(d.a,C),d.isMounted=!0,m=k=P=null}};d.scope.on();const f=d.effect=new ai(b);d.scope.off();const h=d.update=f.run.bind(f),y=d.job=f.runIfDirty.bind(f);y.i=d,y.id=d.uid,f.scheduler=()=>Kn(y),It(d,!0),h()},$=(d,m,k)=>{m.component=d;const P=d.vnode.props;d.vnode=m,d.next=null,Vl(d,m.props,P,k),jl(d,m.children,k),Rt(),vo(d),Mt()},A=(d,m,k,P,C,E,D,b,f=!1)=>{const h=d&&d.children,y=d?d.shapeFlag:0,x=m.children,{patchFlag:R,shapeFlag:H}=m;if(R>0){if(R&128){Ae(h,x,k,P,C,E,D,b,f);return}else if(R&256){de(h,x,k,P,C,E,D,b,f);return}}H&8?(y&16&&U(h,C,E),x!==h&&u(k,x)):y&16?H&16?Ae(h,x,k,P,C,E,D,b,f):U(h,C,E,!0):(y&8&&u(k,""),H&16&&oe(x,k,P,C,E,D,b,f))},de=(d,m,k,P,C,E,D,b,f)=>{d=d||Kt,m=m||Kt;const h=d.length,y=m.length,x=Math.min(h,y);let R;for(R=0;R<x;R++){const H=m[R]=f?$t(m[R]):dt(m[R]);M(d[R],H,k,null,C,E,D,b,f)}h>y?U(d,C,E,!0,!1,x):oe(m,k,P,C,E,D,b,f,x)},Ae=(d,m,k,P,C,E,D,b,f)=>{let h=0;const y=m.length;let x=d.length-1,R=y-1;for(;h<=x&&h<=R;){const H=d[h],I=m[h]=f?$t(m[h]):dt(m[h]);if(ns(H,I))M(H,I,k,null,C,E,D,b,f);else break;h++}for(;h<=x&&h<=R;){const H=d[x],I=m[R]=f?$t(m[R]):dt(m[R]);if(ns(H,I))M(H,I,k,null,C,E,D,b,f);else break;x--,R--}if(h>x){if(h<=R){const H=R+1,I=H<y?m[H].el:P;for(;h<=R;)M(null,m[h]=f?$t(m[h]):dt(m[h]),k,I,C,E,D,b,f),h++}}else if(h>R)for(;h<=x;)j(d[h],C,E,!0),h++;else{const H=h,I=h,F=new Map;for(h=I;h<=R;h++){const Be=m[h]=f?$t(m[h]):dt(m[h]);Be.key!=null&&F.set(Be.key,h)}let K,ne=0;const ke=R-I+1;let Ge=!1,Qe=0;const Nt=new Array(ke);for(h=0;h<ke;h++)Nt[h]=0;for(h=H;h<=x;h++){const Be=d[h];if(ne>=ke){j(Be,C,E,!0);continue}let at;if(Be.key!=null)at=F.get(Be.key);else for(K=I;K<=R;K++)if(Nt[K-I]===0&&ns(Be,m[K])){at=K;break}at===void 0?j(Be,C,E,!0):(Nt[at-I]=h+1,at>=Qe?Qe=at:Ge=!0,M(Be,m[at],k,null,C,E,D,b,f),ne++)}const Cs=Ge?Ul(Nt):Kt;for(K=Cs.length-1,h=ke-1;h>=0;h--){const Be=I+h,at=m[Be],fo=Be+1<y?m[Be+1].el:P;Nt[h]===0?M(null,at,k,fo,C,E,D,b,f):Ge&&(K<0||h!==Cs[K]?we(at,k,fo,2):K--)}}},we=(d,m,k,P,C=null)=>{const{el:E,type:D,transition:b,children:f,shapeFlag:h}=d;if(h&6){we(d.component.subTree,m,k,P);return}if(h&128){d.suspense.move(m,k,P);return}if(h&64){D.move(d,m,k,Tt);return}if(D===Te){n(E,m,k);for(let x=0;x<f.length;x++)we(f[x],m,k,P);n(d.anchor,m,k);return}if(D===Vs){Q(d,m,k);return}if(P!==2&&h&1&&b)if(P===0)b.beforeEnter(E),n(E,m,k),We(()=>b.enter(E),C);else{const{leave:x,delayLeave:R,afterLeave:H}=b,I=()=>n(E,m,k),F=()=>{x(E,()=>{I(),H&&H()})};R?R(E,I,F):F()}else n(E,m,k)},j=(d,m,k,P=!1,C=!1)=>{const{type:E,props:D,ref:b,children:f,dynamicChildren:h,shapeFlag:y,patchFlag:x,dirs:R,cacheIndex:H}=d;if(x===-2&&(C=!1),b!=null&&Ns(b,null,k,d,!0),H!=null&&(m.renderCache[H]=void 0),y&256){m.ctx.deactivate(d);return}const I=y&1&&R,F=!fs(d);let K;if(F&&(K=D&&D.onVnodeBeforeUnmount)&&ct(K,m,d),y&6)V(d.component,k,P);else{if(y&128){d.suspense.unmount(k,P);return}I&&Ot(d,null,m,"beforeUnmount"),y&64?d.type.remove(d,m,k,Tt,P):h&&!h.hasOnce&&(E!==Te||x>0&&x&64)?U(h,m,k,!1,!0):(E===Te&&x&384||!C&&y&16)&&U(f,m,k),P&&W(d)}(F&&(K=D&&D.onVnodeUnmounted)||I)&&We(()=>{K&&ct(K,m,d),I&&Ot(d,null,m,"unmounted")},k)},W=d=>{const{type:m,el:k,anchor:P,transition:C}=d;if(m===Te){B(k,P);return}if(m===Vs){L(d);return}const E=()=>{o(k),C&&!C.persisted&&C.afterLeave&&C.afterLeave()};if(d.shapeFlag&1&&C&&!C.persisted){const{leave:D,delayLeave:b}=C,f=()=>D(k,E);b?b(d.el,E,f):f()}else E()},B=(d,m)=>{let k;for(;d!==m;)k=w(d),o(d),d=k;o(m)},V=(d,m,k)=>{const{bum:P,scope:C,job:E,subTree:D,um:b,m:f,a:h}=d;_o(f),_o(h),P&&Is(P),C.stop(),E&&(E.flags|=8,j(D,d,m,k)),b&&We(b,m),We(()=>{d.isUnmounted=!0},m),m&&m.pendingBranch&&!m.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===m.pendingId&&(m.deps--,m.deps===0&&m.resolve())},U=(d,m,k,P=!1,C=!1,E=0)=>{for(let D=E;D<d.length;D++)j(d[D],m,k,P,C)},Re=d=>{if(d.shapeFlag&6)return Re(d.component.subTree);if(d.shapeFlag&128)return d.suspense.next();const m=w(d.anchor||d.el),k=m&&m[pl];return k?w(k):m};let rt=!1;const lt=(d,m,k)=>{d==null?m._vnode&&j(m._vnode,null,null,!0):M(m._vnode||null,d,m,null,null,null,k),m._vnode=d,rt||(rt=!0,vo(),Ci(),rt=!1)},Tt={p:M,um:j,m:we,r:W,mt:et,mc:oe,pc:A,pbc:Y,n:Re,o:e};return{render:lt,hydrate:void 0,createApp:Ol(lt)}}function gn({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function It({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Nl(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Wi(e,t,s=!1){const n=e.children,o=t.children;if(X(n)&&X(o))for(let i=0;i<n.length;i++){const r=n[i];let l=o[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[i]=$t(o[i]),l.el=r.el),!s&&l.patchFlag!==-2&&Wi(r,l)),l.type===nn&&(l.el=r.el)}}function Ul(e){const t=e.slice(),s=[0];let n,o,i,r,l;const c=e.length;for(n=0;n<c;n++){const a=e[n];if(a!==0){if(o=s[s.length-1],e[o]<a){t[n]=o,s.push(n);continue}for(i=0,r=s.length-1;i<r;)l=i+r>>1,e[s[l]]<a?i=l+1:r=l;a<e[s[i]]&&(i>0&&(t[n]=s[i-1]),s[i]=n)}}for(i=s.length,r=s[i-1];i-- >0;)s[i]=r,r=t[r];return s}function Ki(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ki(t)}function _o(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const ql=Symbol.for("v-scx"),Wl=()=>Ls(ql);function ye(e,t,s){return Ji(e,t,s)}function Ji(e,t,s=he){const{immediate:n,deep:o,flush:i,once:r}=s,l=De({},s),c=t&&n||!t&&i!=="post";let a;if(ys){if(i==="sync"){const v=Wl();a=v.__watcherHandles||(v.__watcherHandles=[])}else if(!c){const v=()=>{};return v.stop=ot,v.resume=ot,v.pause=ot,v}}const u=Ve;l.call=(v,_,M)=>ht(v,u,_,M);let g=!1;i==="post"?l.scheduler=v=>{We(v,u&&u.suspense)}:i!=="sync"&&(g=!0,l.scheduler=(v,_)=>{_?v():Kn(v)}),l.augmentJob=v=>{t&&(v.flags|=4),g&&(v.flags|=2,u&&(v.id=u.uid,v.i=u))};const w=cl(e,t,l);return ys&&(a?a.push(w):c&&w()),w}function Kl(e,t,s){const n=this.proxy,o=Ce(e)?e.includes(".")?Gi(n,e):()=>n[e]:e.bind(n,n);let i;te(t)?i=t:(i=t.handler,s=t);const r=Ss(this),l=Ji(o,i.bind(n),s);return r(),l}function Gi(e,t){const s=t.split(".");return()=>{let n=e;for(let o=0;o<s.length&&n;o++)n=n[s[o]];return n}}const Jl=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${At(t)}Modifiers`]||e[`${Pt(t)}Modifiers`];function Gl(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||he;let o=s;const i=t.startsWith("update:"),r=i&&Jl(n,t.slice(7));r&&(r.trim&&(o=s.map(u=>Ce(u)?u.trim():u)),r.number&&(o=s.map(zs)));let l,c=n[l=cn(t)]||n[l=cn(At(t))];!c&&i&&(c=n[l=cn(Pt(t))]),c&&ht(c,e,6,o);const a=n[l+"Once"];if(a){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,ht(a,e,6,o)}}function Qi(e,t,s=!1){const n=t.emitsCache,o=n.get(e);if(o!==void 0)return o;const i=e.emits;let r={},l=!1;if(!te(e)){const c=a=>{const u=Qi(a,t,!0);u&&(l=!0,De(r,u))};!s&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!i&&!l?(be(e)&&n.set(e,null),null):(X(i)?i.forEach(c=>r[c]=null):De(r,i),be(e)&&n.set(e,r),r)}function sn(e,t){return!e||!Qs(t)?!1:(t=t.slice(2).replace(/Once$/,""),re(e,t[0].toLowerCase()+t.slice(1))||re(e,Pt(t))||re(e,t))}function To(e){const{type:t,vnode:s,proxy:n,withProxy:o,propsOptions:[i],slots:r,attrs:l,emit:c,render:a,renderCache:u,props:g,data:w,setupState:v,ctx:_,inheritAttrs:M}=e,O=Fs(e);let ee,q;try{if(s.shapeFlag&4){const L=o||n,se=L;ee=dt(a.call(se,L,u,g,v,w,_)),q=l}else{const L=t;ee=dt(L.length>1?L(g,{attrs:l,slots:r,emit:c}):L(g,null)),q=t.props?l:Ql(l)}}catch(L){ps.length=0,en(L,e,1),ee=Me(zt)}let Q=ee;if(q&&M!==!1){const L=Object.keys(q),{shapeFlag:se}=Q;L.length&&se&7&&(i&&L.some(In)&&(q=Zl(q,i)),Q=Xt(Q,q,!1,!0))}return s.dirs&&(Q=Xt(Q,null,!1,!0),Q.dirs=Q.dirs?Q.dirs.concat(s.dirs):s.dirs),s.transition&&Jn(Q,s.transition),ee=Q,Fs(O),ee}const Ql=e=>{let t;for(const s in e)(s==="class"||s==="style"||Qs(s))&&((t||(t={}))[s]=e[s]);return t},Zl=(e,t)=>{const s={};for(const n in e)(!In(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function Yl(e,t,s){const{props:n,children:o,component:i}=e,{props:r,children:l,patchFlag:c}=t,a=i.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&c>=0){if(c&1024)return!0;if(c&16)return n?So(n,r,a):!!r;if(c&8){const u=t.dynamicProps;for(let g=0;g<u.length;g++){const w=u[g];if(r[w]!==n[w]&&!sn(a,w))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:n===r?!1:n?r?So(n,r,a):!0:!!r;return!1}function So(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let o=0;o<n.length;o++){const i=n[o];if(t[i]!==e[i]&&!sn(s,i))return!0}return!1}function Xl({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const Zi=e=>e.__isSuspense;function ea(e,t){t&&t.pendingBranch?X(e)?t.effects.push(...e):t.effects.push(e):$i(e)}const Te=Symbol.for("v-fgt"),nn=Symbol.for("v-txt"),zt=Symbol.for("v-cmt"),Vs=Symbol.for("v-stc"),ps=[];let Je=null;function G(e=!1){ps.push(Je=e?null:[])}function ta(){ps.pop(),Je=ps[ps.length-1]||null}let ws=1;function $o(e,t=!1){ws+=e,e<0&&Je&&t&&(Je.hasOnce=!0)}function Yi(e){return e.dynamicChildren=ws>0?Je||Kt:null,ta(),ws>0&&Je&&Je.push(e),e}function Z(e,t,s,n,o,i){return Yi(p(e,t,s,n,o,i,!0))}function Zn(e,t,s,n,o){return Yi(Me(e,t,s,n,o,!0))}function Xi(e){return e?e.__v_isVNode===!0:!1}function ns(e,t){return e.type===t.type&&e.key===t.key}const er=({key:e})=>e??null,Ds=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Ce(e)||Oe(e)||te(e)?{i:Ke,r:e,k:t,f:!!s}:e:null);function p(e,t=null,s=null,n=0,o=null,i=e===Te?0:1,r=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&er(t),ref:t&&Ds(t),scopeId:Ai,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Ke};return l?(Yn(c,s),i&128&&e.normalize(c)):s&&(c.shapeFlag|=Ce(s)?8:16),ws>0&&!r&&Je&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&Je.push(c),c}const Me=sa;function sa(e,t=null,s=null,n=0,o=null,i=!1){if((!e||e===Sl)&&(e=zt),Xi(e)){const l=Xt(e,t,!0);return s&&Yn(l,s),ws>0&&!i&&Je&&(l.shapeFlag&6?Je[Je.indexOf(e)]=l:Je.push(l)),l.patchFlag=-2,l}if(da(e)&&(e=e.__vccOpts),t){t=na(t);let{class:l,style:c}=t;l&&!Ce(l)&&(t.class=Se(l)),be(c)&&(Wn(c)&&!X(c)&&(c=De({},c)),t.style=kt(c))}const r=Ce(e)?1:Zi(e)?128:hl(e)?64:be(e)?4:te(e)?2:0;return p(e,t,s,n,o,r,i,!0)}function na(e){return e?Wn(e)||zi(e)?De({},e):e:null}function Xt(e,t,s=!1,n=!1){const{props:o,ref:i,patchFlag:r,children:l,transition:c}=e,a=t?oa(o||{},t):o,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&er(a),ref:t&&t.ref?s&&i?X(i)?i.concat(Ds(t)):[i,Ds(t)]:Ds(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Te?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Xt(e.ssContent),ssFallback:e.ssFallback&&Xt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&n&&Jn(u,c.clone(u)),u}function nt(e=" ",t=0){return Me(nn,null,e,t)}function _e(e="",t=!1){return t?(G(),Zn(zt,null,e)):Me(zt,null,e)}function dt(e){return e==null||typeof e=="boolean"?Me(zt):X(e)?Me(Te,null,e.slice()):Xi(e)?$t(e):Me(nn,null,String(e))}function $t(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Xt(e)}function Yn(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(X(t))s=16;else if(typeof t=="object")if(n&65){const o=t.default;o&&(o._c&&(o._d=!1),Yn(e,o()),o._c&&(o._d=!0));return}else{s=32;const o=t._;!o&&!zi(t)?t._ctx=Ke:o===3&&Ke&&(Ke.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else te(t)?(t={default:t,_ctx:Ke},s=32):(t=String(t),n&64?(s=16,t=[nt(t)]):s=8);e.children=t,e.shapeFlag|=s}function oa(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const o in n)if(o==="class")t.class!==n.class&&(t.class=Se([t.class,n.class]));else if(o==="style")t.style=kt([t.style,n.style]);else if(Qs(o)){const i=t[o],r=n[o];r&&i!==r&&!(X(i)&&i.includes(r))&&(t[o]=i?[].concat(i,r):r)}else o!==""&&(t[o]=n[o])}return t}function ct(e,t,s,n=null){ht(e,t,7,[s,n])}const ia=Vi();let ra=0;function la(e,t,s){const n=e.type,o=(t?t.appContext:e.appContext)||ia,i={uid:ra++,vnode:e,type:n,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Lr(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Hi(n,o),emitsOptions:Qi(n,o),emit:null,emitted:null,propsDefaults:he,inheritAttrs:n.inheritAttrs,ctx:he,data:he,props:he,attrs:he,slots:he,refs:he,setupState:he,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Gl.bind(null,i),e.ce&&e.ce(i),i}let Ve=null;const tr=()=>Ve||Ke;let qs,Cn;{const e=Ys(),t=(s,n)=>{let o;return(o=e[s])||(o=e[s]=[]),o.push(n),i=>{o.length>1?o.forEach(r=>r(i)):o[0](i)}};qs=t("__VUE_INSTANCE_SETTERS__",s=>Ve=s),Cn=t("__VUE_SSR_SETTERS__",s=>ys=s)}const Ss=e=>{const t=Ve;return qs(e),e.scope.on(),()=>{e.scope.off(),qs(t)}},Co=()=>{Ve&&Ve.scope.off(),qs(null)};function sr(e){return e.vnode.shapeFlag&4}let ys=!1;function aa(e,t=!1,s=!1){t&&Cn(t);const{props:n,children:o}=e.vnode,i=sr(e);Ll(e,n,i,t),zl(e,o,s);const r=i?ca(e,t):void 0;return t&&Cn(!1),r}function ca(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,$l);const{setup:n}=s;if(n){Rt();const o=e.setupContext=n.length>1?fa(e):null,i=Ss(e),r=Ts(n,e,0,[e.props,o]),l=Xo(r);if(Mt(),i(),(l||e.sp)&&!fs(e)&&Pi(e),l){if(r.then(Co,Co),t)return r.then(c=>{Eo(e,c)}).catch(c=>{en(c,e,0)});e.asyncDep=r}else Eo(e,r)}else nr(e)}function Eo(e,t,s){te(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:be(t)&&(e.setupState=_i(t)),nr(e)}function nr(e,t,s){const n=e.type;e.render||(e.render=n.render||ot);{const o=Ss(e);Rt();try{Cl(e)}finally{Mt(),o()}}}const ua={get(e,t){return Ie(e,"get",""),e[t]}};function fa(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,ua),slots:e.slots,emit:e.emit,expose:t}}function on(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(_i(sl(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in ds)return ds[s](e)},has(t,s){return s in t||s in ds}})):e.proxy}function da(e){return te(e)&&"__vccOpts"in e}const $e=(e,t)=>ll(e,t,ys),pa="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let En;const Ao=typeof window<"u"&&window.trustedTypes;if(Ao)try{En=Ao.createPolicy("vue",{createHTML:e=>e})}catch{}const or=En?e=>En.createHTML(e):e=>e,ha="http://www.w3.org/2000/svg",ga="http://www.w3.org/1998/Math/MathML",vt=typeof document<"u"?document:null,Po=vt&&vt.createElement("template"),ma={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const o=t==="svg"?vt.createElementNS(ha,e):t==="mathml"?vt.createElementNS(ga,e):s?vt.createElement(e,{is:s}):vt.createElement(e);return e==="select"&&n&&n.multiple!=null&&o.setAttribute("multiple",n.multiple),o},createText:e=>vt.createTextNode(e),createComment:e=>vt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>vt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,o,i){const r=s?s.previousSibling:t.lastChild;if(o&&(o===i||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),s),!(o===i||!(o=o.nextSibling)););else{Po.innerHTML=or(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const l=Po.content;if(n==="svg"||n==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,s)}return[r?r.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},va=Symbol("_vtc");function ba(e,t,s){const n=e[va];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Ro=Symbol("_vod"),wa=Symbol("_vsh"),ir=Symbol("");function ya(e){const t=tr();if(!t)return;const s=t.ut=(o=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(i=>Ws(i,o))},n=()=>{const o=e(t.proxy);t.ce?Ws(t.ce,o):An(t.subTree,o),s(o)};Oi(()=>{$i(n)}),Ht(()=>{ye(n,ot,{flush:"post"});const o=new MutationObserver(n);o.observe(t.subTree.el.parentNode,{childList:!0}),Bt(()=>o.disconnect())})}function An(e,t){if(e.shapeFlag&128){const s=e.suspense;e=s.activeBranch,s.pendingBranch&&!s.isHydrating&&s.effects.push(()=>{An(s.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)Ws(e.el,t);else if(e.type===Te)e.children.forEach(s=>An(s,t));else if(e.type===Vs){let{el:s,anchor:n}=e;for(;s&&(Ws(s,t),s!==n);)s=s.nextSibling}}function Ws(e,t){if(e.nodeType===1){const s=e.style;let n="";for(const o in t)s.setProperty(`--${o}`,t[o]),n+=`--${o}: ${t[o]};`;s[ir]=n}}const ka=/(^|;)\s*display\s*:/;function xa(e,t,s){const n=e.style,o=Ce(s);let i=!1;if(s&&!o){if(t)if(Ce(t))for(const r of t.split(";")){const l=r.slice(0,r.indexOf(":")).trim();s[l]==null&&Bs(n,l,"")}else for(const r in t)s[r]==null&&Bs(n,r,"");for(const r in s)r==="display"&&(i=!0),Bs(n,r,s[r])}else if(o){if(t!==s){const r=n[ir];r&&(s+=";"+r),n.cssText=s,i=ka.test(s)}}else t&&e.removeAttribute("style");Ro in e&&(e[Ro]=i?n.display:"",e[wa]&&(n.display="none"))}const Mo=/\s*!important$/;function Bs(e,t,s){if(X(s))s.forEach(n=>Bs(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=_a(e,t);Mo.test(s)?e.setProperty(Pt(n),s.replace(Mo,""),"important"):e[n]=s}}const Oo=["Webkit","Moz","ms"],mn={};function _a(e,t){const s=mn[t];if(s)return s;let n=At(t);if(n!=="filter"&&n in e)return mn[t]=n;n=si(n);for(let o=0;o<Oo.length;o++){const i=Oo[o]+n;if(i in e)return mn[t]=i}return t}const Io="http://www.w3.org/1999/xlink";function Lo(e,t,s,n,o,i=Or(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Io,t.slice(6,t.length)):e.setAttributeNS(Io,t,s):s==null||i&&!oi(s)?e.removeAttribute(t):e.setAttribute(t,i?"":pt(s)?String(s):s)}function Vo(e,t,s,n,o){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?or(s):s);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?e.getAttribute("value")||"":e.value,c=s==null?e.type==="checkbox"?"on":"":String(s);(l!==c||!("_value"in e))&&(e.value=c),s==null&&e.removeAttribute(t),e._value=s;return}let r=!1;if(s===""||s==null){const l=typeof e[t];l==="boolean"?s=oi(s):s==null&&l==="string"?(s="",r=!0):l==="number"&&(s=0,r=!0)}try{e[t]=s}catch{}r&&e.removeAttribute(o||t)}function Ct(e,t,s,n){e.addEventListener(t,s,n)}function Ta(e,t,s,n){e.removeEventListener(t,s,n)}const Do=Symbol("_vei");function Sa(e,t,s,n,o=null){const i=e[Do]||(e[Do]={}),r=i[t];if(n&&r)r.value=n;else{const[l,c]=$a(t);if(n){const a=i[t]=Aa(n,o);Ct(e,l,a,c)}else r&&(Ta(e,l,r,c),i[t]=void 0)}}const Bo=/(?:Once|Passive|Capture)$/;function $a(e){let t;if(Bo.test(e)){t={};let n;for(;n=e.match(Bo);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Pt(e.slice(2)),t]}let vn=0;const Ca=Promise.resolve(),Ea=()=>vn||(Ca.then(()=>vn=0),vn=Date.now());function Aa(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;ht(Pa(n,s.value),t,5,[n])};return s.value=e,s.attached=Ea(),s}function Pa(e,t){if(X(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>o=>!o._stopped&&n&&n(o))}else return t}const zo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Ra=(e,t,s,n,o,i)=>{const r=o==="svg";t==="class"?ba(e,n,r):t==="style"?xa(e,s,n):Qs(t)?In(t)||Sa(e,t,s,n,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Ma(e,t,n,r))?(Vo(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Lo(e,t,n,r,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ce(n))?Vo(e,At(t),n,i,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Lo(e,t,n,r))};function Ma(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&zo(t)&&te(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return zo(t)&&Ce(s)?!1:t in e}const es=e=>{const t=e.props["onUpdate:modelValue"]||!1;return X(t)?s=>Is(t,s):t};function Oa(e){e.target.composing=!0}function jo(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const xt=Symbol("_assign"),tt={created(e,{modifiers:{lazy:t,trim:s,number:n}},o){e[xt]=es(o);const i=n||o.props&&o.props.type==="number";Ct(e,t?"change":"input",r=>{if(r.target.composing)return;let l=e.value;s&&(l=l.trim()),i&&(l=zs(l)),e[xt](l)}),s&&Ct(e,"change",()=>{e.value=e.value.trim()}),t||(Ct(e,"compositionstart",Oa),Ct(e,"compositionend",jo),Ct(e,"change",jo))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:n,trim:o,number:i}},r){if(e[xt]=es(r),e.composing)return;const l=(i||e.type==="number")&&!/^0\d/.test(e.value)?zs(e.value):e.value,c=t??"";l!==c&&(document.activeElement===e&&e.type!=="range"&&(n&&t===s||o&&e.value.trim()===c)||(e.value=c))}},qt={deep:!0,created(e,t,s){e[xt]=es(s),Ct(e,"change",()=>{const n=e._modelValue,o=ks(e),i=e.checked,r=e[xt];if(X(n)){const l=Dn(n,o),c=l!==-1;if(i&&!c)r(n.concat(o));else if(!i&&c){const a=[...n];a.splice(l,1),r(a)}}else if(ts(n)){const l=new Set(n);i?l.add(o):l.delete(o),r(l)}else r(rr(e,i))})},mounted:Ho,beforeUpdate(e,t,s){e[xt]=es(s),Ho(e,t,s)}};function Ho(e,{value:t,oldValue:s},n){e._modelValue=t;let o;if(X(t))o=Dn(t,n.props.value)>-1;else if(ts(t))o=t.has(n.props.value);else{if(t===s)return;o=_s(t,rr(e,!0))}e.checked!==o&&(e.checked=o)}const Fo={deep:!0,created(e,{value:t,modifiers:{number:s}},n){const o=ts(t);Ct(e,"change",()=>{const i=Array.prototype.filter.call(e.options,r=>r.selected).map(r=>s?zs(ks(r)):ks(r));e[xt](e.multiple?o?new Set(i):i:i[0]),e._assigning=!0,xe(()=>{e._assigning=!1})}),e[xt]=es(n)},mounted(e,{value:t}){No(e,t)},beforeUpdate(e,t,s){e[xt]=es(s)},updated(e,{value:t}){e._assigning||No(e,t)}};function No(e,t){const s=e.multiple,n=X(t);if(!(s&&!n&&!ts(t))){for(let o=0,i=e.options.length;o<i;o++){const r=e.options[o],l=ks(r);if(s)if(n){const c=typeof l;c==="string"||c==="number"?r.selected=t.some(a=>String(a)===String(l)):r.selected=Dn(t,l)>-1}else r.selected=t.has(l);else if(_s(ks(r),t)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function ks(e){return"_value"in e?e._value:e.value}function rr(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const Ia=["ctrl","shift","alt","meta"],La={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Ia.some(s=>e[`${s}Key`]&&!t.includes(s))},Yt=(e,t)=>{const s=e._withMods||(e._withMods={}),n=t.join(".");return s[n]||(s[n]=(o,...i)=>{for(let r=0;r<t.length;r++){const l=La[t[r]];if(l&&l(o,t))return}return e(o,...i)})},Va={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Uo=(e,t)=>{const s=e._withKeys||(e._withKeys={}),n=t.join(".");return s[n]||(s[n]=o=>{if(!("key"in o))return;const i=Pt(o.key);if(t.some(r=>r===i||Va[r]===i))return e(o)})},Da=De({patchProp:Ra},ma);let qo;function Ba(){return qo||(qo=Hl(Da))}const za=(...e)=>{const t=Ba().createApp(...e),{mount:s}=t;return t.mount=n=>{const o=Ha(n);if(!o)return;const i=t._component;!te(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const r=s(o,!1,ja(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),r},t};function ja(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Ha(e){return Ce(e)?document.querySelector(e):e}function Fa(e){return li()?(Vr(e),!0):!1}function Xn(e){return typeof e=="function"?e():S(e)}const Na=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Ua=Object.prototype.toString,qa=e=>Ua.call(e)==="[object Object]",Wa=()=>{};function Ka(e,t){function s(...n){return new Promise((o,i)=>{Promise.resolve(e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})).then(o).catch(i)})}return s}const lr=e=>e();function Ja(e=lr){const t=J(!0);function s(){t.value=!1}function n(){t.value=!0}const o=(...i)=>{t.value&&e(...i)};return{isActive:Un(t),pause:s,resume:n,eventFilter:o}}function Ga(e){return tr()}function Qa(e,t,s={}){const{eventFilter:n=lr,...o}=s;return ye(e,Ka(n,t),o)}function Za(e,t,s={}){const{eventFilter:n,...o}=s,{eventFilter:i,pause:r,resume:l,isActive:c}=Ja(n);return{stop:Qa(e,t,{...o,eventFilter:i}),pause:r,resume:l,isActive:c}}function Ya(e,t=!0,s){Ga()?Ht(e,s):t?e():xe(e)}function Xa(e){var t;const s=Xn(e);return(t=s==null?void 0:s.$el)!=null?t:s}const Pn=Na?window:void 0;function Wo(...e){let t,s,n,o;if(typeof e[0]=="string"||Array.isArray(e[0])?([s,n,o]=e,t=Pn):[t,s,n,o]=e,!t)return Wa;Array.isArray(s)||(s=[s]),Array.isArray(n)||(n=[n]);const i=[],r=()=>{i.forEach(u=>u()),i.length=0},l=(u,g,w,v)=>(u.addEventListener(g,w,v),()=>u.removeEventListener(g,w,v)),c=ye(()=>[Xa(t),Xn(o)],([u,g])=>{if(r(),!u)return;const w=qa(g)?{...g}:g;i.push(...s.flatMap(v=>n.map(_=>l(u,v,_,w))))},{immediate:!0,flush:"post"}),a=()=>{c(),r()};return Fa(a),a}const Rs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ms="__vueuse_ssr_handlers__",ec=tc();function tc(){return Ms in Rs||(Rs[Ms]=Rs[Ms]||{}),Rs[Ms]}function sc(e,t){return ec[e]||t}function nc(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const oc={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},Ko="vueuse-storage";function ic(e,t,s,n={}){var o;const{flush:i="pre",deep:r=!0,listenToStorageChanges:l=!0,writeDefaults:c=!0,mergeDefaults:a=!1,shallow:u,window:g=Pn,eventFilter:w,onError:v=Y=>{console.error(Y)},initOnMounted:_}=n,M=(u?nl:J)(typeof t=="function"?t():t);if(!s)try{s=sc("getDefaultStorage",()=>{var Y;return(Y=Pn)==null?void 0:Y.localStorage})()}catch(Y){v(Y)}if(!s)return M;const O=Xn(t),ee=nc(O),q=(o=n.serializer)!=null?o:oc[ee],{pause:Q,resume:L}=Za(M,()=>ue(M.value),{flush:i,deep:r,eventFilter:w});g&&l&&Ya(()=>{Wo(g,"storage",oe),Wo(g,Ko,Ue),_&&oe()}),_||oe();function se(Y,fe){g&&g.dispatchEvent(new CustomEvent(Ko,{detail:{key:e,oldValue:Y,newValue:fe,storageArea:s}}))}function ue(Y){try{const fe=s.getItem(e);if(Y==null)se(fe,null),s.removeItem(e);else{const Ee=q.write(Y);fe!==Ee&&(s.setItem(e,Ee),se(fe,Ee))}}catch(fe){v(fe)}}function ce(Y){const fe=Y?Y.newValue:s.getItem(e);if(fe==null)return c&&O!=null&&s.setItem(e,q.write(O)),O;if(!Y&&a){const Ee=q.read(fe);return typeof a=="function"?a(Ee,O):ee==="object"&&!Array.isArray(Ee)?{...O,...Ee}:Ee}else return typeof fe!="string"?fe:q.read(fe)}function oe(Y){if(!(Y&&Y.storageArea!==s)){if(Y&&Y.key==null){M.value=O;return}if(!(Y&&Y.key!==e)){Q();try{(Y==null?void 0:Y.newValue)!==q.write(M.value)&&(M.value=ce(Y))}catch(fe){v(fe)}finally{Y?xe(L):L()}}}}function Ue(Y){oe(Y.detail)}return M}const rc={async createMemo(e,t,s,n){return fetch(`${e}/api/v1/memo`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({content:s,visibility:n})})},async testConnection(e,t){return fetch(`${e}/api/v1/status`,{headers:{Authorization:`Bearer ${t}`}})},async uploadResource(e,t,s){const n=new FormData;n.append("file",s);const o=await fetch(`${e}/api/v1/resource/blob`,{method:"POST",headers:{Authorization:`Bearer ${t}`},body:n});if(!o.ok)throw new Error("上传失败");const i=await o.json();return{id:i.id,url:`${e}/o/r/${i.id}/${i.name}`,type:s.type,name:s.name}},async getTags(e,t){const s=await fetch(`${e}/api/v1/tag`,{headers:{Authorization:`Bearer ${t}`}});if(!s.ok)throw new Error("获取标签失败");return s.json()},async getMemos(e,t,{offset:s=0,limit:n=20,content:o,visibility:i,tag:r}={}){const l=new URL(`${e}/api/v1/memo`);return l.searchParams.append("offset",s),l.searchParams.append("limit",n),o&&l.searchParams.append("content",o),i&&i!=="all"&&l.searchParams.append("visibility",i),r&&l.searchParams.append("tag",r),await fetch(l.toString(),{headers:{Authorization:`Bearer ${t}`}})},async deleteMemo(e,t,s){const n=await fetch(`${e}/api/v1/memo/${s}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error(`删除备忘录失败: ${n.statusText}`)},async updateMemo(e,t,s,n){return fetch(`${e}/api/v1/memo/${s}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({content:n.content,visibility:n.visibility,resourceIdList:n.resourceIdList||[]})})}},lc={async createMemo(e,t,s,n="PUBLIC",o=[]){return await fetch(`${e}/api/v1/memos`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({content:s,visibility:n,createdTs:Date.now(),relationList:o})})},async listMemos(e,t,s="users/-"){const n=await fetch(`${e}/api/v1/${s}/memos`,{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error("获取备忘录列表失败");return n.json()},async getMemo(e,t,s){const n=await fetch(`${e}/api/v1/${s}`,{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error("获取备忘录失败");return n.json()},async updateMemo(e,t,s,n){return await fetch(`${e}/api/v1/${s}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({content:n.content,visibility:n.visibility})})},async deleteMemo(e,t,s){if(!(await fetch(`${e}/api/v1/${s}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}})).ok)throw new Error("删除备忘录失败")},async renameTag(e,t,s,n,o){const i=await fetch(`${e}/api/v1/${s}/tags:rename`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({old_tag:n,new_tag:o})});if(!i.ok)throw new Error("重命名标签失败");return i.json()},async deleteTag(e,t,s,n){if(!(await fetch(`${e}/api/v1/${s}/tags/${n}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}})).ok)throw new Error("删除标签失败")},async setResources(e,t,s,n){const o=await fetch(`${e}/api/v1/${s}/resources`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({resources:n.map(i=>({id:i}))})});if(!o.ok)throw new Error("设置资源失败");return o.json()},async listResources(e,t,s){const n=await fetch(`${e}/api/v1/${s}/resources`,{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error("获取资源列表失败");const o=await n.json();return o.resources&&Array.isArray(o.resources)&&(o.resources=o.resources.map(i=>({...i,url:`${e}/file/${i.name}/${i.filename}?thumbnail=true`}))),o},async setRelations(e,t,s,n){const o=await fetch(`${e}/api/v1/${s}/relations`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({relations:n.map(i=>({type:i.type,memo:{id:i.memoId}}))})});if(!o.ok)throw new Error("设置关系失败");return o.json()},async listRelations(e,t,s){const n=await fetch(`${e}/api/v1/${s}/relations`,{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error("获取关系列表失败");return n.json()},async createComment(e,t,s,n){const o=await fetch(`${e}/api/v1/${s}/comments`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({comment:{content:n}})});if(!o.ok)throw new Error("创建评论失败");return o.json()},async listComments(e,t,s){const n=await fetch(`${e}/api/v1/${s}/comments`,{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error("获取评论列表失败");return n.json()},async listReactions(e,t,s){const n=await fetch(`${e}/api/v1/${s}/reactions`,{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error("获取反应列表失败");return n.json()},async setReaction(e,t,s,n){const o=await fetch(`${e}/api/v1/${s}/reactions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({reaction:{type:n}})});if(!o.ok)throw new Error("设置反应失败");return o.json()},async deleteReaction(e,t,s){if(!(await fetch(`${e}/api/v1/reactions/${s}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}})).ok)throw new Error("删除反应失败")},async getTags(e,t){try{const s=localStorage.getItem("memos-settings");if(!s)return console.log("未找到缓存设置，尝试使用通用端点获取标签"),await this.getTagsWithoutUserInfo(e,t);const n=JSON.parse(s);if(!n.userInfo||!n.userInfo.name)return console.log("用户信息不完整，尝试使用通用端点获取标签"),await this.getTagsWithoutUserInfo(e,t);const o=localStorage.getItem("memos-tags");if(o)return JSON.parse(o);const i=n.userInfo.name,r=await fetch(`${e}/api/v1/${i}/memos?pageSize=1000`,{headers:{Authorization:`Bearer ${t}`}});if(!r.ok)throw new Error("获取标签失败");const c=(await r.json()).memos.reduce((u,g)=>g.tags&&Array.isArray(g.tags)?[...u,...g.tags]:u,[]),a=[...new Set(c)];return localStorage.setItem("memos-tags",JSON.stringify(a)),a}catch(s){throw console.error("获取标签失败:",s),s}},async getTagsWithoutUserInfo(e,t){try{const s=[`${e}/api/v1/users/-/memos?pageSize=100`,`${e}/api/v1/memos?pageSize=100`];for(const n of s)try{const o=await fetch(n,{headers:{Authorization:`Bearer ${t}`}});if(o.ok){const r=((await o.json()).memos||[]).reduce((c,a)=>a.tags&&Array.isArray(a.tags)?[...c,...a.tags]:c,[]);return[...new Set(r)]}}catch(o){console.log(`端点 ${n} 失败:`,o.message);continue}return[]}catch(s){return console.error("备用标签获取方法失败:",s),[]}},clearTagCache(){localStorage.removeItem("memos-tags")},async uploadResource(e,t,s,n){const o=await new Promise((a,u)=>{const g=new FileReader;g.onload=()=>{const w=g.result.split(",")[1];a(w)},g.onerror=u,g.readAsDataURL(s)}),i=await fetch(`${e}/api/v1/resources`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({content:o,filename:s.name,type:s.type,visibility:n})});if(!i.ok)throw new Error("上传失败");const r=await i.json(),l=r.externalLink||`${e}/file/${r.name}/${r.filename}`;let c="";return s.type.startsWith("image/")?c=`![${s.name}](${l})`:c=`[${s.name}](${l})`,{id:r.name,name:r.name,url:l,type:s.type,filename:s.name,markdown:c}},async testConnection(e,t){const s=[{url:`${e}/api/v1/me`,method:"GET"},{url:`${e}/api/v1/user/me`,method:"GET"},{url:`${e}/api/v1/auth/status`,method:"POST"}];let n=null;for(const o of s)try{const i={method:o.method,headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}};o.method==="POST"&&(i.body=JSON.stringify({}));const r=await fetch(o.url,i);if(r.ok){const l=await r.json();if(l.name||l.username||l.id)return{ok:!0,data:{name:l.name||l.username||`user_${l.id}`,role:l.role||"USER",state:l.state||"NORMAL",id:l.id,endpoint:o.url}}}}catch(i){n=i;continue}throw new Error(`所有认证端点都失败。最后错误: ${(n==null?void 0:n.message)||"未知错误"}`)},async associateResources(e,t,s,n){const o=await fetch(`${e}/api/v1/${s}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(n)});if(!o.ok)throw new Error("关联资源失败");return o},async getMemos(e,t,{offset:s=null,limit:n=10,content:o,visibility:i,tag:r}={}){const l=localStorage.getItem("memos-settings");if(!l)throw new Error("未找到用户信息");const c=JSON.parse(l);if(!c.userInfo||!c.userInfo.name)throw new Error("用户信息不完整");const a=c.userInfo.name,u=new URL(`${e}/api/v1/${a}/memos`);let g="";return o&&(g=`content.contains("${o}")`),s&&u.searchParams.append("pageToken",s),u.searchParams.append("pageSize",n),g&&u.searchParams.append("filter",g),i&&i!=="all"&&u.searchParams.append("visibility",i),r&&u.searchParams.append("tag",r),await fetch(u.toString(),{headers:{Authorization:`Bearer ${t}`}})}},ac={async createMemo(e,t,s,n="PUBLIC",o=[],i=!1){const r=await fetch(`${e}/api/v1/memos`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({content:s,visibility:n,tags:o,pinned:i})});if(!r.ok)throw new Error("创建便签失败");return r},async listMemos(e,t,s={}){const{pageSize:n=50,pageToken:o,filter:i,orderBy:r="pinned desc, display_time desc",state:l="NORMAL",showDeleted:c=!1}=s,a=new URL(`${e}/api/v1/memos`);a.searchParams.append("page_size",n),o&&a.searchParams.append("page_token",o),i&&a.searchParams.append("filter",i),r&&a.searchParams.append("order_by",r),l&&a.searchParams.append("state",l),c&&a.searchParams.append("show_deleted",c);const u=await fetch(a.toString(),{headers:{Authorization:`Bearer ${t}`}});if(!u.ok)throw new Error("获取便签列表失败");return u},async getMemo(e,t,s){const n=await fetch(`${e}/api/v1/${s}`,{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error("获取便签失败");return n.json()},async updateMemo(e,t,s,n,o=[]){const i={name:s,...n};o.length>0&&(i.update_mask={paths:o}),console.log("v25 updateMemo请求:",{url:`${e}/api/v1/${s}`,body:i});const r=await fetch(`${e}/api/v1/${s}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(i)});if(!r.ok)throw new Error("更新便签失败");return r},async deleteMemo(e,t,s){if(!(await fetch(`${e}/api/v1/${s}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}})).ok)throw new Error("删除便签失败")},async renameMemoTag(e,t,s,n,o){const i=await fetch(`${e}/api/v1/${s}/tags:rename`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({old_tag:n,new_tag:o})});if(!i.ok)throw new Error("重命名标签失败");return i.json()},async deleteMemoTag(e,t,s,n){if(!(await fetch(`${e}/api/v1/${s}/tags:delete`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({tag:n})})).ok)throw new Error("删除标签失败")},async setMemoAttachments(e,t,s,n){const o=await fetch(`${e}/api/v1/${s}/attachments`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({attachments:n.map(i=>({name:i}))})});if(!o.ok)throw new Error("设置便签附件失败");return o.json()},async listMemoAttachments(e,t,s){const n=await fetch(`${e}/api/v1/${s}/attachments`,{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error("获取便签附件列表失败");const o=await n.json();return o.attachments&&Array.isArray(o.attachments)&&(o.attachments=o.attachments.map(i=>{const r=i.name.replace("attachments/","");return{...i,url:`${e}/file/attachments/${r}/${i.filename}`,thumbnailUrl:`${e}/file/attachments/${r}/${i.filename}?thumbnail=true`}})),o},async createAttachment(e,t,s,n=null){const o=await new Promise((g,w)=>{const v=new FileReader;v.onload=()=>{const _=v.result.split(",")[1];g(_)},v.onerror=w,v.readAsDataURL(s)}),i={filename:s.name,content:o,type:s.type};n&&n.startsWith("memos/")&&(i.memo=n);const r=await fetch(`${e}/api/v1/attachments`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(i)});if(!r.ok){const g=await r.json().catch(()=>({}));throw new Error(`创建附件失败: ${g.message||r.statusText}`)}const l=await r.json(),c=l.name.replace("attachments/",""),a=l.external_link||`${e}/file/attachments/${c}/${l.filename}`;let u="";return s.type.startsWith("image/")?u=`![${s.name}](${a})`:u=`[${s.name}](${a})`,{...l,id:l.name,url:a,thumbnailUrl:`${e}/file/attachments/${c}/${l.filename}?thumbnail=true`,markdown:u}},async listAttachments(e,t,s={}){const{pageSize:n=50,pageToken:o,filter:i,orderBy:r="create_time desc"}=s,l=new URL(`${e}/api/v1/attachments`);l.searchParams.append("page_size",n),o&&l.searchParams.append("page_token",o),i&&l.searchParams.append("filter",i),r&&l.searchParams.append("order_by",r);const c=await fetch(l.toString(),{headers:{Authorization:`Bearer ${t}`}});if(!c.ok)throw new Error("获取附件列表失败");return c.json()},async deleteAttachment(e,t,s){if(!(await fetch(`${e}/api/v1/${s}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}})).ok)throw new Error("删除附件失败")},async setRelations(e,t,s,n){const o=await fetch(`${e}/api/v1/${s}/relations`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({relations:n.map(i=>({type:i.type,memo:{id:i.memoId}}))})});if(!o.ok)throw new Error("设置关系失败");return o.json()},async listRelations(e,t,s){const n=await fetch(`${e}/api/v1/${s}/relations`,{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error("获取关系列表失败");return n.json()},async createComment(e,t,s,n){const o=await fetch(`${e}/api/v1/${s}/comments`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({comment:{content:n}})});if(!o.ok)throw new Error("创建评论失败");return o.json()},async listComments(e,t,s){const n=await fetch(`${e}/api/v1/${s}/comments`,{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error("获取评论列表失败");return n.json()},async listReactions(e,t,s){const n=await fetch(`${e}/api/v1/${s}/reactions`,{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error("获取反应列表失败");return n.json()},async setReaction(e,t,s,n){const o=await fetch(`${e}/api/v1/${s}/reactions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({reaction:{type:n}})});if(!o.ok)throw new Error("设置反应失败");return o.json()},async deleteReaction(e,t,s){if(!(await fetch(`${e}/api/v1/reactions/${s}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}})).ok)throw new Error("删除反应失败")},async getTags(e,t){try{const s=localStorage.getItem("memos-settings");if(!s)return console.log("未找到缓存设置，尝试使用通用端点获取标签"),await this.getTagsWithoutUserInfo(e,t);const n=JSON.parse(s);if(!n.userInfo||!n.userInfo.name)return console.log("用户信息不完整，尝试使用通用端点获取标签"),await this.getTagsWithoutUserInfo(e,t);const o=localStorage.getItem("memos-tags");if(o)return JSON.parse(o);const i=await this.listMemos(e,t,{pageSize:1e3,orderBy:"create_time desc"});if(i.ok){const l=((await i.json()).memos||[]).reduce((a,u)=>u.tags&&Array.isArray(u.tags)?[...a,...u.tags]:a,[]),c=[...new Set(l)];return localStorage.setItem("memos-tags",JSON.stringify(c)),c}else throw new Error("获取便签列表失败")}catch(s){return console.error("获取标签失败:",s),await this.getTagsWithoutUserInfo(e,t)}},async getTagsWithoutUserInfo(e,t){try{const s=[`${e}/api/v1/memos?page_size=100&order_by=create_time desc`,`${e}/api/v1/users/-/memos?page_size=100`];for(const n of s)try{const o=await fetch(n,{headers:{Authorization:`Bearer ${t}`}});if(o.ok){const r=((await o.json()).memos||[]).reduce((c,a)=>a.tags&&Array.isArray(a.tags)?[...c,...a.tags]:c,[]);return[...new Set(r)]}}catch(o){console.log(`端点 ${n} 失败:`,o.message);continue}return[]}catch(s){return console.error("备用标签获取方法失败:",s),[]}},clearTagCache(){localStorage.removeItem("memos-tags")},async uploadResource(e,t,s,n=null){return await this.createAttachment(e,t,s,n)},async testConnection(e,t){const s=[{url:`${e}/api/v1/auth/sessions/current`,method:"GET"},{url:`${e}/api/v1/users/-`,method:"GET"},{url:`${e}/api/v1/me`,method:"GET"},{url:`${e}/api/v1/user/me`,method:"GET"}];let n=null;for(const o of s)try{const i=await fetch(o.url,{method:o.method,headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(i.ok){const r=await i.json();if(r.user)return{ok:!0,data:{name:r.user.name||r.user.username||`user_${r.user.id}`,username:r.user.username,email:r.user.email,role:r.user.role||"USER",state:r.user.state||"NORMAL",id:r.user.id,lastAccessedAt:r.last_accessed_at,endpoint:o.url}};if(r.name||r.username||r.id)return{ok:!0,data:{name:r.name||r.username||`user_${r.id}`,username:r.username,email:r.email,role:r.role||"USER",state:r.state||"NORMAL",id:r.id,endpoint:o.url}}}}catch(i){n=i;continue}throw new Error(`所有认证端点都失败。最后错误: ${(n==null?void 0:n.message)||"未知错误"}`)},async createSession(e,t,s){const n=await fetch(`${e}/api/v1/auth/sessions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password_credentials:{username:t,password:s}})});if(!n.ok)throw new Error("登录失败");return n.json()},async deleteSession(e,t){if(!(await fetch(`${e}/api/v1/auth/sessions/current`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}})).ok)throw new Error("登出失败")},async associateResources(e,t,s,n){const o=await fetch(`${e}/api/v1/${s}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(n)});if(!o.ok)throw new Error("关联资源失败");return o},async getMemos(e,t,{offset:s=null,limit:n=10,content:o,visibility:i,tag:r}={}){const l=new URL(`${e}/api/v1/memos`);let c="";if(o){const a=o.trim();a&&(c=`content.contains("${a}")`)}return s&&l.searchParams.append("page_token",s),l.searchParams.append("page_size",n),c&&l.searchParams.append("filter",c),i&&i!=="all"&&(c?c+=` && visibility == '${i.toUpperCase()}'`:c=`visibility == '${i.toUpperCase()}'`,l.searchParams.set("filter",c)),r&&console.log("标签过滤将在客户端进行:",r),l.searchParams.append("order_by","pinned desc, display_time desc"),l.searchParams.append("state","NORMAL"),await fetch(l.toString(),{headers:{Authorization:`Bearer ${t}`}})},async listUsers(e,t,s={}){const{pageSize:n=50,pageToken:o,filter:i,showDeleted:r=!1}=s,l=new URL(`${e}/api/v1/users`);l.searchParams.append("page_size",n),o&&l.searchParams.append("page_token",o),i&&l.searchParams.append("filter",i),r&&l.searchParams.append("show_deleted",r);const c=await fetch(l.toString(),{headers:{Authorization:`Bearer ${t}`}});if(!c.ok)throw new Error("获取用户列表失败");return c.json()},async getUser(e,t,s){const n=await fetch(`${e}/api/v1/users/${s}`,{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error("获取用户信息失败");return n.json()},async listUserSettings(e,t,s){const n=await fetch(`${e}/api/v1/${s}/settings`,{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error("获取用户设置列表失败");return n.json()},async getUserSetting(e,t,s,n){const o=await fetch(`${e}/api/v1/${s}/settings/${n}`,{headers:{Authorization:`Bearer ${t}`}});if(!o.ok)throw new Error("获取用户设置失败");return o.json()},async updateUserSetting(e,t,s,n,o,i=[]){const r={setting:{name:`${s}/settings/${n}`,...o}};i.length>0&&(r.update_mask={paths:i});const l=await fetch(`${e}/api/v1/${s}/settings/${n}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(r)});if(!l.ok)throw new Error("更新用户设置失败");return l.json()},async getWorkspaceProfile(e,t){const s=await fetch(`${e}/api/v1/workspace/profile`,{headers:{Authorization:`Bearer ${t}`}});if(!s.ok)throw new Error("获取工作空间概况失败");return s.json()},async getWorkspaceSetting(e,t,s){const n=await fetch(`${e}/api/v1/workspace/settings/${s}`,{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error("获取工作空间设置失败");return n.json()},async updateWorkspaceSetting(e,t,s,n,o=[]){const i={setting:{name:`workspace/settings/${s}`,...n}};o.length>0&&(i.update_mask={paths:o});const r=await fetch(`${e}/api/v1/workspace/settings/${s}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(i)});if(!r.ok)throw new Error("更新工作空间设置失败");return r.json()}},yt=e=>{const t={v18:rc,v24:lc,v25:ac};if(!t[e])throw new Error(`不支持的 API 版本: ${e}`);return t[e]},ve=(e,t="success")=>{const s=document.createElement("div");s.className=`toast ${t}`;const n=document.createElement("i");n.className=cc(t);const o=document.createElement("span");o.textContent=e,s.appendChild(n),s.appendChild(o),document.body.appendChild(s),setTimeout(()=>{s.style.opacity="1",s.style.transform="translate(-50%, 0)"},10),setTimeout(()=>{s.style.opacity="0",s.style.transform="translate(-50%, -100%)",setTimeout(()=>{document.body.removeChild(s)},300)},3e3)},cc=e=>{const t={success:"fas fa-check-circle",error:"fas fa-exclamation-circle",info:"fas fa-info-circle"};return t[e]||t.success},ar=document.createElement("style");ar.textContent=`
.toast {
  position: fixed;
  top: 20px;
  left: 50%;
  transform: translate(-50%, -100%);
  padding: 12px 24px;
  border-radius: 8px;
  background: white;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  display: flex;
  align-items: center;
  gap: 8px;
  opacity: 0;
  transition: all 0.3s ease-out;
  z-index: 1000;
}

.toast.success {
  background: #10B981;
  color: white;
}

.toast.error {
  background: #EF4444;
  color: white;
}

.toast.info {
  background: #3B82F6;
  color: white;
}
`;document.head.appendChild(ar);const rn=(e,t)=>{const s=e.__vccOpts||e;for(const[n,o]of t)s[n]=o;return s},uc={class:"selected-value"},fc=["onMousedown"],dc={key:0,class:"check-mark"},pc={__name:"CustomSelect",props:{modelValue:{type:[String,Number],required:!0},options:{type:Array,required:!0,validator:e=>e.every(t=>typeof t=="object"&&"value"in t&&"label"in t)}},emits:["update:modelValue"],setup(e,{emit:t}){const s=e,n=t,o=J(null),i=J(!1),r=$e(()=>{const v=s.options.find(_=>_.value===s.modelValue);return v?v.label:""}),l=$e(()=>{if(!o.value)return!1;const v=o.value.getBoundingClientRect();return window.innerHeight-v.bottom<200}),c=$e(()=>o.value?{width:`${o.value.getBoundingClientRect().width}px`}:{}),a=()=>{i.value=!i.value},u=v=>{n("update:modelValue",v.value),i.value=!1},g=()=>{};Ht(()=>{window.addEventListener("resize",g),document.addEventListener("click",w)}),Bt(()=>{window.removeEventListener("resize",g),document.removeEventListener("click",w)});const w=v=>{o.value&&!o.value.contains(v.target)&&(i.value=!1)};return(v,_)=>(G(),Z("div",{class:"custom-select",ref_key:"containerRef",ref:o},[p("div",{class:Se(["select-input",{"is-open":i.value}]),onClick:a},[p("span",uc,z(r.value),1),_[0]||(_[0]=p("span",{class:"arrow-icon"},[p("i",{class:"fas fa-chevron-down"})],-1))],2),i.value?(G(),Z("div",{key:0,class:Se(["select-dropdown",{"dropdown-up":l.value}]),style:kt(c.value)},[(G(!0),Z(Te,null,st(e.options,M=>(G(),Z("div",{key:M.value,class:Se(["dropdown-item",{selected:e.modelValue===M.value}]),onMousedown:Yt(O=>u(M),["prevent"])},[nt(z(M.label)+" ",1),e.modelValue===M.value?(G(),Z("span",dc,"✓")):_e("",!0)],42,fc))),128))],6)):_e("",!0)],512))}},ls=rn(pc,[["__scopeId","data-v-e0a1984b"]]),hc={class:"selected-tags"},gc=["onClick"],mc=["placeholder"],vc=["onMousedown"],bc={key:0,class:"check-mark"},wc={__name:"TagSelector",props:{modelValue:{type:Array,default:()=>[]},options:{type:Array,default:()=>[]},placeholder:{type:String,default:"选择标签..."}},emits:["update:modelValue"],setup(e,{emit:t}){const s=e,n=t,o=J(null),i=J(null),r=J(!1),l=J(""),c=$e(()=>{if(!o.value)return!1;const q=o.value.getBoundingClientRect();return window.innerHeight-q.bottom<200}),a=$e(()=>({})),u=$e(()=>l.value?s.options.filter(q=>q.toLowerCase().includes(l.value.toLowerCase())):s.options),g=()=>{r.value=!0,xe(()=>{var q;(q=i.value)==null||q.focus()})},w=q=>{setTimeout(()=>{var Q;(Q=o.value)!=null&&Q.contains(q.relatedTarget)||(r.value=!1,l.value="")},200)},v=q=>{q.key==="Enter"?(q.preventDefault(),l.value&&!s.modelValue.includes(l.value)&&_(l.value),l.value=""):q.key==="Escape"&&(r.value=!1,l.value="")},_=q=>{const Q=[...s.modelValue],L=Q.indexOf(q);L===-1?Q.push(q):Q.splice(L,1),n("update:modelValue",Q),l.value="",xe(()=>{var se;(se=i.value)==null||se.focus()})},M=q=>{const Q=s.modelValue.filter(L=>L!==q);n("update:modelValue",Q),xe(()=>{var L;(L=i.value)==null||L.focus()})},O=()=>{};Ht(()=>{window.addEventListener("resize",O),document.addEventListener("click",ee)}),Bt(()=>{window.removeEventListener("resize",O),document.removeEventListener("click",ee)});const ee=q=>{o.value&&!o.value.contains(q.target)&&(r.value=!1,l.value="")};return(q,Q)=>(G(),Z("div",{class:"tag-selector",ref_key:"containerRef",ref:o},[p("div",{class:"tag-input-container",onClick:g},[p("div",hc,[(G(!0),Z(Te,null,st(e.modelValue,L=>(G(),Z("span",{key:L,class:"tag-item"},[nt(" #"+z(L)+" ",1),p("span",{class:"remove-tag",onClick:Yt(se=>M(L),["stop"])},"×",8,gc)]))),128))]),Pe(p("input",{ref_key:"inputRef",ref:i,"onUpdate:modelValue":Q[0]||(Q[0]=L=>l.value=L),class:"tag-filter",placeholder:e.placeholder,onKeydown:v,onFocus:Q[1]||(Q[1]=L=>r.value=!0),onBlur:w},null,40,mc),[[tt,l.value]])]),r.value?(G(),Z("div",{key:0,class:Se(["tag-dropdown",{"dropdown-up":c.value}]),style:kt(a.value)},[(G(!0),Z(Te,null,st(u.value,L=>(G(),Z("div",{key:L,class:Se(["dropdown-item",{selected:e.modelValue.includes(L)}]),onMousedown:Yt(se=>_(L),["prevent"])},[nt(" #"+z(L)+" ",1),e.modelValue.includes(L)?(G(),Z("span",bc,"✓")):_e("",!0)],42,vc))),128))],6)):_e("",!0)],512))}},eo=rn(wc,[["__scopeId","data-v-57123b69"]]),cr={zh:{name:"中文",code:"zh"},en:{name:"English",code:"en"}},yc={zh:{save:"保存",cancel:"取消",confirm:"确认",delete:"删除",edit:"编辑",loading:"加载中...",success:"成功",error:"错误",warning:"警告",app:{title:"Memos Quick Note",editSuccess:"更新成功",saveSuccess:"创建成功",editError:"更新失败",saveError:"创建失败",switchToEditor:"切换到编辑器",switchToList:"切换到列表",editMemo:"编辑备忘录",saveMemo:"保存备忘录"},settings:{title:"设置",basic:"基本设置",content:"内容设置",default:"默认设置",shortcut:"快捷键设置",tag:"标签设置",page:"页面设置",other:"其他设置",config:"配置管理",about:"关于",host:"Memos 主页网址",hostPlaceholder:"请输入 Memos 主页网址",apiVersion:"API 版本",token:"Access Token",tokenOpenAPI:"Access Token / OpenAPI",tokenPlaceholder:"请输入 Memos Access Tokens",tokenOpenAPIPlaceholder:"请输入 Access Token 或 OpenAPI",addSource:"自动添加来源信息",useQuote:"使用引用格式（>）包裹选中文本",skipDefaultTags:"当内容不包含标签时添加默认自定义标签",preserveFormatting:"右键添加时保留文本样式格式",defaultVisibility:"默认可见性",customTags:"自定义标签",customTagsPlaceholder:"用逗号分隔，如: daily,note",template:"内容模板",templatePlaceholder:"可用变量：{content}, {url}, {title}, {date}",enableShortcuts:"启用快捷键",shortcuts:{save:"快速保存",visibility:"切换可见性"},tagBehavior:"标签输入后行为",tagBehaviorOptions:{space:"添加空格",newline:"添加换行"},tagSpaceCount:"空格数量",tagNewlineCount:"换行数量",tagFilterStyle:"标签筛选样式",tagFilterStyleOptions:{list:"标签列表",selector:"下拉选择器"},preferredTags:"优先展示标签",preferredTagsDescription:"选择需要优先展示的标签",preferredTagsPlaceholder:"选择优先展示的标签...",preview:"预览",defaultView:"默认视图",defaultViewOptions:{editor:"编辑器",list:"列表"},width:"默认宽度",height:"输入页面高度",settingHeight:"设置页面高度",listHeight:"列表页面高度",showWordCount:"显示字数统计",theme:"主题",themeOptions:{light:"浅色",dark:"深色"},language:"语言",languageChanged:"语言已更改，页面将刷新",export:"导出配置",import:"导入配置",reset:"重置设置",about:{title:"Memos Quick Note - 您的智能笔记助手",description:"快速捕捉灵感，轻松管理知识。支持 Memos v0.18/v0.24 双版本，一键保存网页内容，智能标签补全，文件图片上传，自定义快捷键，个性化设置，让您的笔记体验更高效、更智能。",contact:"联系方式",email:"邮箱",qq:"QQ",github:"GitHub"},visibility:{public:"所有人可见",private:"仅自己可见",protected:"登录可见"}},list:{all:"全部",search:"搜索内容...",refresh:"刷新",create:"新建",noMemos:"暂无备忘录",noResults:"没有找到匹配的备忘录",loadMore:"加载更多...",expand:"展开",collapse:"收起",selectTag:"选择标签...",confirmDelete:"确定要删除这条备忘录吗？",deleteSuccess:"删除成功",deleteError:"删除失败：",visibility:{public:"所有人可见",private:"仅自己可见",protected:"登录可见"}},editor:{placeholder:"输入内容...",wordCount:"字数",charCount:"字符",lineCount:"行数",cancel:"取消",save:"保存",saving:"保存中...",emptyContent:"内容不能为空",saveSuccess:"保存成功",saveError:"保存失败：",submit:"记下",uploading:"上传中...",selectTag:"选择标签...",tools:{heading:"标题 (Ctrl+H)",bold:"粗体 (Ctrl+B)",italic:"斜体 (Ctrl+I)",strikethrough:"删除线",unorderedList:"无序列表",orderedList:"有序列表",taskList:"任务列表",quote:"引用",codeBlock:"代码块",table:"表格",link:"链接 (Ctrl+K)",divider:"分割线",uploadImage:"上传图片",uploadFile:"上传文件"},visibility:{public:"所有人可见",private:"仅自己可见",protected:"登录可见"}},memo:{expand:"展开更多",collapse:"收起",edit:"编辑",delete:"删除",visibility:{public:"公开",private:"私密",protected:"保护"},expandMore:"展开更多",showLess:"收起"}},en:{save:"Save",cancel:"Cancel",confirm:"Confirm",delete:"Delete",edit:"Edit",loading:"Loading...",success:"Success",error:"Error",warning:"Warning",app:{title:"Memos Quick Note",editSuccess:"Update successful",saveSuccess:"Create successful",editError:"Update failed",saveError:"Create failed",switchToEditor:"Switch to editor",switchToList:"Switch to list",editMemo:"Edit memo",saveMemo:"Save memo"},settings:{title:"Settings",basic:"Basic Settings",content:"Content Settings",default:"Default Settings",shortcut:"Shortcut Settings",tag:"Tag Settings",page:"Page Settings",other:"Other Settings",config:"Configuration Management",about:"About",host:"Memos Host URL",hostPlaceholder:"Enter Memos host URL",apiVersion:"API Version",token:"Access Token",tokenOpenAPI:"Access Token / OpenAPI",tokenPlaceholder:"Enter Memos Access Tokens",tokenOpenAPIPlaceholder:"Enter Access Token or OpenAPI",addSource:"Automatically add source information",useQuote:"Wrap selected text with quote format (>)",skipDefaultTags:"Add default custom tags when content contains no tags",preserveFormatting:"Preserve text formatting when adding via right-click",defaultVisibility:"Default Visibility",customTags:"Custom Tags",customTagsPlaceholder:"Separate with commas, e.g.: daily,note",template:"Content Template",templatePlaceholder:"Available variables: {content}, {url}, {title}, {date}",enableShortcuts:"Enable Shortcuts",shortcuts:{save:"Quick Save",visibility:"Toggle Visibility"},tagBehavior:"Tag Input Behavior",tagBehaviorOptions:{space:"Add Space",newline:"Add Newline"},tagSpaceCount:"Space Count",tagNewlineCount:"Newline Count",tagFilterStyle:"Tag Filter Style",tagFilterStyleOptions:{list:"Tag List",selector:"Dropdown Selector"},preferredTags:"Preferred Tags",preferredTagsDescription:"Select tags to display first",preferredTagsPlaceholder:"Select preferred tags...",preview:"Preview",defaultView:"Default View",defaultViewOptions:{editor:"Editor",list:"List"},width:"Default Width",height:"Editor Height",settingHeight:"Settings Height",listHeight:"List Height",showWordCount:"Show Word Count",theme:"Theme",themeOptions:{light:"Light",dark:"Dark"},language:"Language",languageChanged:"Language changed, page will refresh",export:"Export Configuration",import:"Import Configuration",reset:"Reset Settings",about:{title:"Memos Quick Note - Your Smart Note Assistant",description:"Quickly capture ideas and manage knowledge. Supports Memos v0.18/v0.24, one-click save webpage content, smart tag completion, file and image upload, custom shortcuts, personalized settings, making your note-taking experience more efficient and intelligent.",contact:"Contact",email:"Email",qq:"QQ",github:"GitHub"},visibility:{public:"Public",private:"Private",protected:"Protected"}},list:{all:"All",search:"Search content...",refresh:"Refresh",create:"Create",noMemos:"No memos yet",noResults:"No matching memos found",loadMore:"Load more...",expand:"Expand",collapse:"Collapse",selectTag:"Select tag...",confirmDelete:"Are you sure you want to delete this memo?",deleteSuccess:"Delete successful",deleteError:"Delete failed: ",visibility:{public:"Public",private:"Private",protected:"Protected"}},editor:{placeholder:"Enter content...",wordCount:"Words",charCount:"Characters",lineCount:"Lines",cancel:"Cancel",save:"Save",saving:"Saving...",emptyContent:"Content cannot be empty",saveSuccess:"Save successful",saveError:"Save failed: ",submit:"Save",uploading:"Uploading...",selectTag:"Select tag...",tools:{heading:"Heading (Ctrl+H)",bold:"Bold (Ctrl+B)",italic:"Italic (Ctrl+I)",strikethrough:"Strikethrough",unorderedList:"Unordered list",orderedList:"Ordered list",taskList:"Task list",quote:"Quote",codeBlock:"Code block",table:"Table",link:"Link (Ctrl+K)",divider:"Divider",uploadImage:"Upload image",uploadFile:"Upload file"},visibility:{public:"Public",private:"Private",protected:"Protected"}},memo:{expand:"Show more",collapse:"Show less",edit:"Edit",delete:"Delete",visibility:{public:"Public",private:"Private",protected:"Protected"},expandMore:"Show More",showLess:"Show Less"}}},Rn=()=>localStorage.getItem("memos-language")||"zh",kc=e=>cr[e]?(localStorage.setItem("memos-language",e),!0):!1,T=e=>{const t=Rn(),s=e.split(".");let n=yc[t];for(const o of s)if(n&&n[o])n=n[o];else return e;return n},xc=()=>Object.values(cr),_c={key:0,class:"settings-panel"},Tc={class:"settings-content"},Sc={class:"form-group"},$c=["placeholder","disabled"],Cc={class:"form-group"},Ec={class:"form-group"},Ac=["placeholder","disabled"],Pc={class:"form-group checkbox"},Rc=["disabled"],Mc={for:"addSource",class:"label-content"},Oc={class:"form-group checkbox"},Ic=["disabled"],Lc={for:"useQuote",class:"label-content"},Vc={class:"form-group checkbox"},Dc=["disabled"],Bc={for:"skipDefaultTags",class:"label-content"},zc={class:"form-group checkbox"},jc=["disabled"],Hc={for:"preserveFormatting",class:"label-content"},Fc={class:"form-group"},Nc={class:"form-group"},Uc=["placeholder","disabled"],qc={class:"form-group"},Wc=["placeholder","disabled"],Kc={class:"form-group checkbox"},Jc=["disabled"],Gc={for:"enableShortcuts"},Qc={key:0,class:"shortcut-list"},Zc={class:"shortcut-item"},Yc={class:"shortcut-item"},Xc={key:1},eu={key:2,class:"setting-item"},tu={key:3,class:"setting-item"},su={class:"setting-description"},nu={class:"form-group"},ou={class:"form-group"},iu={class:"number-input"},ru=["disabled"],lu=["disabled"],au=["disabled"],cu={class:"form-group"},uu={class:"number-input"},fu=["disabled"],du=["disabled"],pu=["disabled"],hu={class:"form-group"},gu={class:"number-input"},mu=["disabled"],vu=["disabled"],bu=["disabled"],wu={class:"form-group"},yu={class:"number-input"},ku=["disabled"],xu=["disabled"],_u=["disabled"],Tu={class:"form-group checkbox"},Su={for:"showWordCount"},$u={class:"form-group"},Cu={value:"light"},Eu={value:"dark"},Au={class:"form-group"},Pu=["value"],Ru={class:"form-group"},Mu={class:"config-actions"},Ou=["disabled"],Iu=["disabled"],Lu=["disabled"],Vu={class:"about-section"},Du={class:"contact-info"},Bu={class:"settings-footer"},zu=["disabled"],ju=["disabled"],Hu=Gn({__name:"setting",props:{showSettings:{type:Boolean,default:!1},editorRef:{type:Object,default:null},content:{type:String,default:""},settings:{type:Object,required:!0}},emits:["update:showSettings","update:content","update:settings"],setup(e,{emit:t}){ya(N=>({fef29318:`${a.value.settingHeight}px`}));const s=e,n=t,o=async()=>{if(!a.value.host||!a.value.token){console.log("跳过标签获取：缺少主机地址或token");return}try{const $=await yt(a.value.apiVersion).getTags(a.value.host,a.value.token);a.value.apiVersion==="v18"?(i.value=$||[],r.value=($||[]).reduce((A,de)=>(A[de]=1,A),{})):(i.value=$,r.value=($||[]).reduce((A,de)=>(A[de.name]=de.count,A),{}))}catch(N){console.error("获取标签失败:",N),N.message.includes("用户信息不完整")||N.message.includes("未找到用户信息")?console.log("用户信息尚未保存，跳过标签获取"):ve("获取标签失败: "+N.message,"error"),i.value=[],r.value={}}},i=J([]),r=J({}),l=J(s.content),c=J(s.showSettings);J(s.editorRef);const a=J({...s.settings});ye(()=>s.showSettings,N=>{c.value=N}),ye(()=>s.settings,N=>{c.value||(a.value={...N})},{deep:!0}),ye(()=>s.content,N=>{l.value=N}),ye(a,N=>{},{deep:!0}),ye(()=>s.showSettings,N=>{c.value=N,N&&(a.value={...s.settings})});const u=N=>{if(!N)return{isValid:!0,tags:[]};const $=N.split(",").map(we=>we.trim()).filter(we=>we),A=$.filter(we=>!!(we.includes(" ")||!/^[a-zA-Z0-9\u4e00-\u9fa5_-]+$/.test(we)||we.length>20)),de=[...new Set($)],Ae=de.length!==$.length;return{isValid:A.length===0&&!Ae,tags:de,invalidTags:A,hasDuplicates:Ae}},g=J(Rn()),w=xc(),v=N=>{g.value=N.target.value},_=async()=>{if(!ee.value){ve("请填写必要的设置项","error");return}if(!a.value.host){ve("主页网址不能为空","error");return}if(!a.value.token){ve("Access Token 不能为空","error");return}if(a.value.host.endsWith("/")&&(a.value.host=a.value.host.slice(0,-1)),a.value.customTags){const N=u(a.value.customTags);if(!N.isValid){let $="自定义标签格式错误：";N.invalidTags.length>0&&($+=`
- 以下标签包含无效字符或空格：${N.invalidTags.join(", ")}`),N.hasDuplicates&&($+=`
- 存在重复标签`),ve($,"error");return}a.value.customTags=N.tags.join(", ")}O.value=!0;try{const $=await yt(a.value.apiVersion).testConnection(a.value.host,a.value.token);if(!$.ok)throw new Error("API 连接失败");const A={...a.value,userInfo:$.data,preferredTags:a.value.preferredTags||[]};console.log("Memos: 准备保存的设置",A),console.log("Memos: preserveFormatting值",A.preserveFormatting),chrome.storage.local.set({"memos-settings":A}),n("update:settings",A),kc(g.value)?(ve(T("settings.languageChanged")),n("update:showSettings",!1),window.location.reload()):n("update:showSettings",!1),ve("设置保存成功！"),await o()}catch(N){console.error("保存设置失败:",N),ve(`保存失败: ${N.message}`,"error")}finally{O.value=!1}},M=J(!1),O=J(!1);$e(()=>({settings:a.value,content:s.content,showSettings:s.showSettings,isDev:M.value}));const ee=$e(()=>a.value.host&&a.value.token),q=()=>{a.value.width<800&&(a.value.width+=50)},Q=()=>{a.value.width>300&&(a.value.width-=50)},L=()=>{a.value.height<600&&(a.value.height+=50)},se=()=>{a.value.height>200&&(a.value.height-=50)},ue=()=>{a.value.listMaxHeight<1e3&&(a.value.listMaxHeight+=50)},ce=()=>{a.value.listMaxHeight>300&&(a.value.listMaxHeight-=50)},oe=()=>{a.value.settingHeight<1e3&&(a.value.settingHeight+=50)},Ue=()=>{a.value.settingHeight>300&&(a.value.settingHeight-=50)},Y=()=>{try{const N={...a.value,preferredTags:a.value.preferredTags||[]},$=new Blob([JSON.stringify(N,null,2)],{type:"application/json"}),A=URL.createObjectURL($),de=document.createElement("a");de.href=A,de.download="memos-settings.json",document.body.appendChild(de),de.click(),document.body.removeChild(de),URL.revokeObjectURL(A),ve("配置导出成功！")}catch(N){console.error("导出配置失败:",N),ve("导出配置失败："+N.message,"error")}},fe=N=>{const $=N.target.files[0];if(!$)return;const A=new FileReader;A.onload=de=>{try{const Ae=JSON.parse(de.target.result);if(!Ae.host||!Ae.token)throw new Error("无效的配置文件");const we=a.value.width,j=a.value.height;Object.assign(a.value,Ae),a.value.width=we,a.value.height=j,ve("配置导入成功！")}catch(Ae){console.error("导入配置失败:",Ae),ve("导入配置失败："+Ae.message,"error")}},A.readAsText($),N.target.value=""},Ee=()=>{confirm("确定要重置所有设置吗？")&&(a.value={host:"",token:"",apiVersion:"v25",addSource:!0,useQuote:!0,skipDefaultTags:!1,defaultVisibility:"PRIVATE",customTags:"",template:`{content}

来源：[{title}]({url})`,enableShortcuts:!0,tagSpaceCount:1,defaultView:"editor",showWordCount:!0,theme:"light",width:550,height:400,listMaxHeight:600,settingHeight:600,tagFilterStyle:"list",preferredTags:[],preserveFormatting:!0},ve("设置已重置"))},ge=()=>{a.value={...s.settings},g.value=Rn(),n("update:showSettings",!1)};let et=null;const qe=()=>{et&&clearTimeout(et),et=setTimeout(()=>{o()},1e3)};return ye(()=>a.value.host,N=>{N&&a.value.token&&qe()}),ye(()=>a.value.token,N=>{N&&a.value.host&&qe()}),ye(()=>a.value.apiVersion,()=>{a.value.host&&a.value.token&&qe()}),(N,$)=>c.value?(G(),Z("div",_c,[p("div",Tc,[p("h2",null,z(S(T)("settings.basic")),1),p("div",Sc,[p("label",null,z(S(T)("settings.host")),1),Pe(p("input",{"onUpdate:modelValue":$[0]||($[0]=A=>a.value.host=A),type:"text",placeholder:S(T)("settings.hostPlaceholder"),disabled:O.value},null,8,$c),[[tt,a.value.host]])]),p("div",Cc,[p("label",null,z(S(T)("settings.apiVersion")),1),Me(ls,{modelValue:a.value.apiVersion,"onUpdate:modelValue":$[1]||($[1]=A=>a.value.apiVersion=A),options:[{value:"v18",label:"0.18"},{value:"v24",label:"0.24"},{value:"v25",label:"0.25"}],disabled:O.value},null,8,["modelValue","disabled"])]),p("div",Ec,[p("label",null,z(a.value.apiVersion==="v18"?S(T)("settings.token"):S(T)("settings.tokenOpenAPI")),1),Pe(p("input",{"onUpdate:modelValue":$[2]||($[2]=A=>a.value.token=A),type:"password",placeholder:a.value.apiVersion==="v18"?S(T)("settings.tokenPlaceholder"):S(T)("settings.tokenOpenAPIPlaceholder"),disabled:O.value},null,8,Ac),[[tt,a.value.token]])]),p("h2",null,z(S(T)("settings.content")),1),p("div",Pc,[Pe(p("input",{type:"checkbox",id:"addSource","onUpdate:modelValue":$[3]||($[3]=A=>a.value.addSource=A),disabled:O.value},null,8,Rc),[[qt,a.value.addSource]]),p("label",Mc,z(S(T)("settings.addSource")),1)]),p("div",Oc,[Pe(p("input",{type:"checkbox",id:"useQuote","onUpdate:modelValue":$[4]||($[4]=A=>a.value.useQuote=A),disabled:O.value},null,8,Ic),[[qt,a.value.useQuote]]),p("label",Lc,z(S(T)("settings.useQuote")),1)]),p("div",Vc,[Pe(p("input",{type:"checkbox",id:"skipDefaultTags","onUpdate:modelValue":$[5]||($[5]=A=>a.value.skipDefaultTags=A),disabled:O.value},null,8,Dc),[[qt,a.value.skipDefaultTags]]),p("label",Bc,z(S(T)("settings.skipDefaultTags")),1)]),p("div",zc,[Pe(p("input",{type:"checkbox",id:"preserveFormatting","onUpdate:modelValue":$[6]||($[6]=A=>a.value.preserveFormatting=A),disabled:O.value},null,8,jc),[[qt,a.value.preserveFormatting]]),p("label",Hc,z(S(T)("settings.preserveFormatting")),1)]),p("h2",null,z(S(T)("settings.default")),1),p("div",Fc,[p("label",null,z(S(T)("settings.defaultVisibility")),1),Me(ls,{modelValue:a.value.defaultVisibility,"onUpdate:modelValue":$[7]||($[7]=A=>a.value.defaultVisibility=A),options:[{value:"PUBLIC",label:S(T)("settings.visibility.public")},{value:"PRIVATE",label:S(T)("settings.visibility.private")},{value:"PROTECTED",label:S(T)("settings.visibility.protected")}],disabled:O.value},null,8,["modelValue","options","disabled"])]),p("div",Nc,[p("label",null,z(S(T)("settings.customTags")),1),Pe(p("input",{"onUpdate:modelValue":$[8]||($[8]=A=>a.value.customTags=A),type:"text",placeholder:S(T)("settings.customTagsPlaceholder"),disabled:O.value},null,8,Uc),[[tt,a.value.customTags]])]),p("div",qc,[p("label",null,z(S(T)("settings.template")),1),Pe(p("textarea",{"onUpdate:modelValue":$[9]||($[9]=A=>a.value.template=A),placeholder:S(T)("settings.templatePlaceholder"),rows:"3",disabled:O.value},null,8,Wc),[[tt,a.value.template]])]),p("h2",null,z(S(T)("settings.shortcut")),1),p("div",Kc,[Pe(p("input",{type:"checkbox",id:"enableShortcuts","onUpdate:modelValue":$[10]||($[10]=A=>a.value.enableShortcuts=A),disabled:O.value},null,8,Jc),[[qt,a.value.enableShortcuts]]),p("label",Gc,z(S(T)("settings.enableShortcuts")),1)]),a.value.enableShortcuts?(G(),Z("div",Qc,[p("div",Zc,[$[21]||($[21]=p("span",null,"Ctrl/Cmd + Enter",-1)),p("span",null,z(S(T)("settings.shortcuts.save")),1)]),p("div",Yc,[$[22]||($[22]=p("span",null,"Ctrl/Cmd + Shift + P",-1)),p("span",null,z(S(T)("settings.shortcuts.visibility")),1)])])):_e("",!0),a.value.apiVersion!=="v24"?(G(),Z("h2",Xc,z(S(T)("settings.tag")),1)):_e("",!0),a.value.apiVersion!=="v24"?(G(),Z("div",eu,[p("label",null,z(S(T)("settings.tagFilterStyle")),1),Me(ls,{modelValue:a.value.tagFilterStyle,"onUpdate:modelValue":$[11]||($[11]=A=>a.value.tagFilterStyle=A),options:[{value:"list",label:S(T)("settings.tagFilterStyleOptions.list")},{value:"selector",label:S(T)("settings.tagFilterStyleOptions.selector")}],disabled:O.value},null,8,["modelValue","options","disabled"])])):_e("",!0),a.value.apiVersion!=="v24"?(G(),Z("div",tu,[p("label",null,z(S(T)("settings.preferredTags")),1),p("div",su,z(S(T)("settings.preferredTagsDescription")),1),Me(eo,{modelValue:a.value.preferredTags,"onUpdate:modelValue":$[12]||($[12]=A=>a.value.preferredTags=A),options:i.value,placeholder:S(T)("settings.preferredTagsPlaceholder"),multiple:"",disabled:O.value||!a.value.host||!a.value.token},null,8,["modelValue","options","placeholder","disabled"])])):_e("",!0),p("h2",null,z(S(T)("settings.page")),1),p("div",nu,[p("label",null,z(S(T)("settings.defaultView")),1),Me(ls,{modelValue:a.value.defaultView,"onUpdate:modelValue":$[13]||($[13]=A=>a.value.defaultView=A),options:[{value:"editor",label:S(T)("settings.defaultViewOptions.editor")},{value:"list",label:S(T)("settings.defaultViewOptions.list")}],disabled:O.value},null,8,["modelValue","options","disabled"])]),p("div",ou,[p("label",null,z(S(T)("settings.width")),1),p("div",iu,[p("button",{onClick:Q,type:"button",class:"number-btn",disabled:O.value},"-",8,ru),Pe(p("input",{type:"number","onUpdate:modelValue":$[14]||($[14]=A=>a.value.width=A),min:"300",max:"800",class:"count-input",disabled:O.value},null,8,lu),[[tt,a.value.width,void 0,{number:!0}]]),p("button",{onClick:q,type:"button",class:"number-btn",disabled:O.value},"+",8,au)])]),p("div",cu,[p("label",null,z(S(T)("settings.height")),1),p("div",uu,[p("button",{onClick:se,type:"button",class:"number-btn",disabled:O.value},"-",8,fu),Pe(p("input",{type:"number","onUpdate:modelValue":$[15]||($[15]=A=>a.value.height=A),min:"400",max:"600",class:"count-input",disabled:O.value},null,8,du),[[tt,a.value.height,void 0,{number:!0}]]),p("button",{onClick:L,type:"button",class:"number-btn",disabled:O.value},"+",8,pu)])]),p("div",hu,[p("label",null,z(S(T)("settings.settingHeight")),1),p("div",gu,[p("button",{onClick:Ue,type:"button",class:"number-btn",disabled:O.value},"-",8,mu),Pe(p("input",{type:"number","onUpdate:modelValue":$[16]||($[16]=A=>a.value.settingHeight=A),min:"400",max:"600",step:"50",class:"count-input",disabled:O.value},null,8,vu),[[tt,a.value.settingHeight,void 0,{number:!0}]]),p("button",{onClick:oe,type:"button",class:"number-btn",disabled:O.value},"+",8,bu)])]),p("div",wu,[p("label",null,z(S(T)("settings.listHeight")),1),p("div",yu,[p("button",{onClick:ce,type:"button",class:"number-btn",disabled:O.value},"-",8,ku),Pe(p("input",{type:"number","onUpdate:modelValue":$[17]||($[17]=A=>a.value.listMaxHeight=A),min:"400",max:"600",step:"50",class:"count-input",disabled:O.value},null,8,xu),[[tt,a.value.listMaxHeight,void 0,{number:!0}]]),p("button",{onClick:ue,type:"button",class:"number-btn",disabled:O.value},"+",8,_u)])]),p("h2",null,z(S(T)("settings.other")),1),p("div",Tu,[Pe(p("input",{type:"checkbox",id:"showWordCount","onUpdate:modelValue":$[18]||($[18]=A=>a.value.showWordCount=A)},null,512),[[qt,a.value.showWordCount]]),p("label",Su,z(S(T)("settings.showWordCount")),1)]),p("div",$u,[p("label",null,z(S(T)("settings.theme")),1),Pe(p("select",{"onUpdate:modelValue":$[19]||($[19]=A=>a.value.theme=A)},[p("option",Cu,z(S(T)("settings.themeOptions.light")),1),p("option",Eu,z(S(T)("settings.themeOptions.dark")),1)],512),[[Fo,a.value.theme]])]),p("div",Au,[p("label",null,z(S(T)("settings.language")),1),Pe(p("select",{"onUpdate:modelValue":$[20]||($[20]=A=>g.value=A),onChange:v},[(G(!0),Z(Te,null,st(S(w),A=>(G(),Z("option",{key:A.code,value:A.code},z(A.name),9,Pu))),128))],544),[[Fo,g.value]])]),p("h2",null,z(S(T)("settings.config")),1),p("div",Ru,[p("div",Mu,[p("button",{class:"export-btn",onClick:Y,disabled:O.value},z(S(T)("settings.export")),9,Ou),p("label",{class:Se(["import-btn",{disabled:O.value}])},[nt(z(S(T)("settings.import"))+" ",1),p("input",{type:"file",accept:".json",onChange:fe,disabled:O.value,style:{display:"none"}},null,40,Iu)],2),p("button",{class:"reset-btn",onClick:Ee,disabled:O.value},z(S(T)("settings.reset")),9,Lu)])]),p("h2",null,z(S(T)("settings.about.title")),1),p("div",Vu,[p("p",null,z(S(T)("settings.about.title")),1),p("p",null,z(S(T)("settings.about.description")),1),p("div",Du,[p("h3",null,z(S(T)("settings.about.contact")),1),p("p",null,[$[23]||($[23]=p("i",{class:"fas fa-envelope"},null,-1)),nt(" "+z(S(T)("settings.about.email"))+"：",1),$[24]||($[24]=p("a",{href:"mailto:admin@chendimao.com"},"admin@chendimao.com",-1))]),p("p",null,[$[25]||($[25]=p("i",{class:"fab fa-qq"},null,-1)),nt(" "+z(S(T)("settings.about.qq"))+"：122803265",1)]),p("p",null,[$[26]||($[26]=p("i",{class:"fab fa-github"},null,-1)),nt(" "+z(S(T)("settings.about.github"))+"：",1),$[27]||($[27]=p("a",{href:"https://github.com/chendimao/memos-browers-plugin/",target:"_blank"},"chendimao/memos-browers-plugin",-1))])])])]),p("div",Bu,[p("button",{class:"cancel-btn",onClick:ge,disabled:O.value},z(S(T)("cancel")),9,zu),p("button",{class:"save-btn",onClick:_,disabled:O.value},z(O.value?S(T)("loading"):S(T)("save")),9,ju)])])):_e("",!0)}}),Fu=rn(Hu,[["__scopeId","data-v-35b6f300"]]),Nu=e=>{if(!e)return"";let t;if(typeof e=="string"&&e.includes("T"))t=new Date(e);else{const a=Number(e);if(isNaN(a))return"";a.toString().length===10?t=new Date(a*1e3):t=new Date(a)}if(isNaN(t.getTime()))return console.error("Invalid date:",e),"";const s=a=>a.toString().padStart(2,"0"),n=t.getFullYear(),o=s(t.getMonth()+1),i=s(t.getDate()),r=s(t.getHours()),l=s(t.getMinutes()),c=s(t.getSeconds());return`${n}-${o}-${i} ${r}:${l}:${c}`};function to(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let Ft=to();function ur(e){Ft=e}const hs={exec:()=>null};function ae(e,t=""){let s=typeof e=="string"?e:e.source;const n={replace:(o,i)=>{let r=typeof i=="string"?i:i.source;return r=r.replace(Fe.caret,"$1"),s=s.replace(o,r),n},getRegex:()=>new RegExp(s,t)};return n}const Fe={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},Uu=/^(?:[ \t]*(?:\n|$))+/,qu=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Wu=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,$s=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Ku=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,so=/(?:[*+-]|\d{1,9}[.)])/,fr=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,dr=ae(fr).replace(/bull/g,so).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Ju=ae(fr).replace(/bull/g,so).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),no=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Gu=/^[^\n]+/,oo=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Qu=ae(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",oo).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Zu=ae(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,so).getRegex(),ln="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",io=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Yu=ae("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",io).replace("tag",ln).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),pr=ae(no).replace("hr",$s).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ln).getRegex(),Xu=ae(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",pr).getRegex(),ro={blockquote:Xu,code:qu,def:Qu,fences:Wu,heading:Ku,hr:$s,html:Yu,lheading:dr,list:Zu,newline:Uu,paragraph:pr,table:hs,text:Gu},Jo=ae("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",$s).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ln).getRegex(),ef={...ro,lheading:Ju,table:Jo,paragraph:ae(no).replace("hr",$s).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Jo).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ln).getRegex()},tf={...ro,html:ae(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",io).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:hs,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ae(no).replace("hr",$s).replace("heading",` *#{1,6} *[^
]`).replace("lheading",dr).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},sf=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,nf=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,hr=/^( {2,}|\\)\n(?!\s*$)/,of=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,an=/[\p{P}\p{S}]/u,lo=/[\s\p{P}\p{S}]/u,gr=/[^\s\p{P}\p{S}]/u,rf=ae(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,lo).getRegex(),mr=/(?!~)[\p{P}\p{S}]/u,lf=/(?!~)[\s\p{P}\p{S}]/u,af=/(?:[^\s\p{P}\p{S}]|~)/u,cf=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,vr=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,uf=ae(vr,"u").replace(/punct/g,an).getRegex(),ff=ae(vr,"u").replace(/punct/g,mr).getRegex(),br="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",df=ae(br,"gu").replace(/notPunctSpace/g,gr).replace(/punctSpace/g,lo).replace(/punct/g,an).getRegex(),pf=ae(br,"gu").replace(/notPunctSpace/g,af).replace(/punctSpace/g,lf).replace(/punct/g,mr).getRegex(),hf=ae("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,gr).replace(/punctSpace/g,lo).replace(/punct/g,an).getRegex(),gf=ae(/\\(punct)/,"gu").replace(/punct/g,an).getRegex(),mf=ae(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),vf=ae(io).replace("(?:-->|$)","-->").getRegex(),bf=ae("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",vf).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Ks=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,wf=ae(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Ks).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),wr=ae(/^!?\[(label)\]\[(ref)\]/).replace("label",Ks).replace("ref",oo).getRegex(),yr=ae(/^!?\[(ref)\](?:\[\])?/).replace("ref",oo).getRegex(),yf=ae("reflink|nolink(?!\\()","g").replace("reflink",wr).replace("nolink",yr).getRegex(),ao={_backpedal:hs,anyPunctuation:gf,autolink:mf,blockSkip:cf,br:hr,code:nf,del:hs,emStrongLDelim:uf,emStrongRDelimAst:df,emStrongRDelimUnd:hf,escape:sf,link:wf,nolink:yr,punctuation:rf,reflink:wr,reflinkSearch:yf,tag:bf,text:of,url:hs},kf={...ao,link:ae(/^!?\[(label)\]\((.*?)\)/).replace("label",Ks).getRegex(),reflink:ae(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ks).getRegex()},Mn={...ao,emStrongRDelimAst:pf,emStrongLDelim:ff,url:ae(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},xf={...Mn,br:ae(hr).replace("{2,}","*").getRegex(),text:ae(Mn.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Os={normal:ro,gfm:ef,pedantic:tf},os={normal:ao,gfm:Mn,breaks:xf,pedantic:kf},_f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Go=e=>_f[e];function ut(e,t){if(t){if(Fe.escapeTest.test(e))return e.replace(Fe.escapeReplace,Go)}else if(Fe.escapeTestNoEncode.test(e))return e.replace(Fe.escapeReplaceNoEncode,Go);return e}function Qo(e){try{e=encodeURI(e).replace(Fe.percentDecode,"%")}catch{return null}return e}function Zo(e,t){var i;const s=e.replace(Fe.findPipe,(r,l,c)=>{let a=!1,u=l;for(;--u>=0&&c[u]==="\\";)a=!a;return a?"|":" |"}),n=s.split(Fe.splitPipe);let o=0;if(n[0].trim()||n.shift(),n.length>0&&!((i=n.at(-1))!=null&&i.trim())&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;o<n.length;o++)n[o]=n[o].trim().replace(Fe.slashPipe,"|");return n}function is(e,t,s){const n=e.length;if(n===0)return"";let o=0;for(;o<n&&e.charAt(n-o-1)===t;)o++;return e.slice(0,n-o)}function Tf(e,t){if(e.indexOf(t[1])===-1)return-1;let s=0;for(let n=0;n<e.length;n++)if(e[n]==="\\")n++;else if(e[n]===t[0])s++;else if(e[n]===t[1]&&(s--,s<0))return n;return s>0?-2:-1}function Yo(e,t,s,n,o){const i=t.href,r=t.title||null,l=e[1].replace(o.other.outputLinkReplace,"$1");if(e[0].charAt(0)!=="!"){n.state.inLink=!0;const c={type:"link",raw:s,href:i,title:r,text:l,tokens:n.inlineTokens(l)};return n.state.inLink=!1,c}return{type:"image",raw:s,href:i,title:r,text:l}}function Sf(e,t,s){const n=e.match(s.other.indentCodeCompensation);if(n===null)return t;const o=n[1];return t.split(`
`).map(i=>{const r=i.match(s.other.beginningSpace);if(r===null)return i;const[l]=r;return l.length>=o.length?i.slice(o.length):i}).join(`
`)}class Js{constructor(t){pe(this,"options");pe(this,"rules");pe(this,"lexer");this.options=t||Ft}space(t){const s=this.rules.block.newline.exec(t);if(s&&s[0].length>0)return{type:"space",raw:s[0]}}code(t){const s=this.rules.block.code.exec(t);if(s){const n=s[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:s[0],codeBlockStyle:"indented",text:this.options.pedantic?n:is(n,`
`)}}}fences(t){const s=this.rules.block.fences.exec(t);if(s){const n=s[0],o=Sf(n,s[3]||"",this.rules);return{type:"code",raw:n,lang:s[2]?s[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):s[2],text:o}}}heading(t){const s=this.rules.block.heading.exec(t);if(s){let n=s[2].trim();if(this.rules.other.endingHash.test(n)){const o=is(n,"#");(this.options.pedantic||!o||this.rules.other.endingSpaceChar.test(o))&&(n=o.trim())}return{type:"heading",raw:s[0],depth:s[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){const s=this.rules.block.hr.exec(t);if(s)return{type:"hr",raw:is(s[0],`
`)}}blockquote(t){const s=this.rules.block.blockquote.exec(t);if(s){let n=is(s[0],`
`).split(`
`),o="",i="";const r=[];for(;n.length>0;){let l=!1;const c=[];let a;for(a=0;a<n.length;a++)if(this.rules.other.blockquoteStart.test(n[a]))c.push(n[a]),l=!0;else if(!l)c.push(n[a]);else break;n=n.slice(a);const u=c.join(`
`),g=u.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");o=o?`${o}
${u}`:u,i=i?`${i}
${g}`:g;const w=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(g,r,!0),this.lexer.state.top=w,n.length===0)break;const v=r.at(-1);if((v==null?void 0:v.type)==="code")break;if((v==null?void 0:v.type)==="blockquote"){const _=v,M=_.raw+`
`+n.join(`
`),O=this.blockquote(M);r[r.length-1]=O,o=o.substring(0,o.length-_.raw.length)+O.raw,i=i.substring(0,i.length-_.text.length)+O.text;break}else if((v==null?void 0:v.type)==="list"){const _=v,M=_.raw+`
`+n.join(`
`),O=this.list(M);r[r.length-1]=O,o=o.substring(0,o.length-v.raw.length)+O.raw,i=i.substring(0,i.length-_.raw.length)+O.raw,n=M.substring(r.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:o,tokens:r,text:i}}}list(t){let s=this.rules.block.list.exec(t);if(s){let n=s[1].trim();const o=n.length>1,i={type:"list",raw:"",ordered:o,start:o?+n.slice(0,-1):"",loose:!1,items:[]};n=o?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=o?n:"[*+-]");const r=this.rules.other.listItemRegex(n);let l=!1;for(;t;){let a=!1,u="",g="";if(!(s=r.exec(t))||this.rules.block.hr.test(t))break;u=s[0],t=t.substring(u.length);let w=s[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,q=>" ".repeat(3*q.length)),v=t.split(`
`,1)[0],_=!w.trim(),M=0;if(this.options.pedantic?(M=2,g=w.trimStart()):_?M=s[1].length+1:(M=s[2].search(this.rules.other.nonSpaceChar),M=M>4?1:M,g=w.slice(M),M+=s[1].length),_&&this.rules.other.blankLine.test(v)&&(u+=v+`
`,t=t.substring(v.length+1),a=!0),!a){const q=this.rules.other.nextBulletRegex(M),Q=this.rules.other.hrRegex(M),L=this.rules.other.fencesBeginRegex(M),se=this.rules.other.headingBeginRegex(M),ue=this.rules.other.htmlBeginRegex(M);for(;t;){const ce=t.split(`
`,1)[0];let oe;if(v=ce,this.options.pedantic?(v=v.replace(this.rules.other.listReplaceNesting,"  "),oe=v):oe=v.replace(this.rules.other.tabCharGlobal,"    "),L.test(v)||se.test(v)||ue.test(v)||q.test(v)||Q.test(v))break;if(oe.search(this.rules.other.nonSpaceChar)>=M||!v.trim())g+=`
`+oe.slice(M);else{if(_||w.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||L.test(w)||se.test(w)||Q.test(w))break;g+=`
`+v}!_&&!v.trim()&&(_=!0),u+=ce+`
`,t=t.substring(ce.length+1),w=oe.slice(M)}}i.loose||(l?i.loose=!0:this.rules.other.doubleBlankLine.test(u)&&(l=!0));let O=null,ee;this.options.gfm&&(O=this.rules.other.listIsTask.exec(g),O&&(ee=O[0]!=="[ ] ",g=g.replace(this.rules.other.listReplaceTask,""))),i.items.push({type:"list_item",raw:u,task:!!O,checked:ee,loose:!1,text:g,tokens:[]}),i.raw+=u}const c=i.items.at(-1);if(c)c.raw=c.raw.trimEnd(),c.text=c.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let a=0;a<i.items.length;a++)if(this.lexer.state.top=!1,i.items[a].tokens=this.lexer.blockTokens(i.items[a].text,[]),!i.loose){const u=i.items[a].tokens.filter(w=>w.type==="space"),g=u.length>0&&u.some(w=>this.rules.other.anyLine.test(w.raw));i.loose=g}if(i.loose)for(let a=0;a<i.items.length;a++)i.items[a].loose=!0;return i}}html(t){const s=this.rules.block.html.exec(t);if(s)return{type:"html",block:!0,raw:s[0],pre:s[1]==="pre"||s[1]==="script"||s[1]==="style",text:s[0]}}def(t){const s=this.rules.block.def.exec(t);if(s){const n=s[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),o=s[2]?s[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=s[3]?s[3].substring(1,s[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):s[3];return{type:"def",tag:n,raw:s[0],href:o,title:i}}}table(t){var l;const s=this.rules.block.table.exec(t);if(!s||!this.rules.other.tableDelimiter.test(s[2]))return;const n=Zo(s[1]),o=s[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=(l=s[3])!=null&&l.trim()?s[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],r={type:"table",raw:s[0],header:[],align:[],rows:[]};if(n.length===o.length){for(const c of o)this.rules.other.tableAlignRight.test(c)?r.align.push("right"):this.rules.other.tableAlignCenter.test(c)?r.align.push("center"):this.rules.other.tableAlignLeft.test(c)?r.align.push("left"):r.align.push(null);for(let c=0;c<n.length;c++)r.header.push({text:n[c],tokens:this.lexer.inline(n[c]),header:!0,align:r.align[c]});for(const c of i)r.rows.push(Zo(c,r.header.length).map((a,u)=>({text:a,tokens:this.lexer.inline(a),header:!1,align:r.align[u]})));return r}}lheading(t){const s=this.rules.block.lheading.exec(t);if(s)return{type:"heading",raw:s[0],depth:s[2].charAt(0)==="="?1:2,text:s[1],tokens:this.lexer.inline(s[1])}}paragraph(t){const s=this.rules.block.paragraph.exec(t);if(s){const n=s[1].charAt(s[1].length-1)===`
`?s[1].slice(0,-1):s[1];return{type:"paragraph",raw:s[0],text:n,tokens:this.lexer.inline(n)}}}text(t){const s=this.rules.block.text.exec(t);if(s)return{type:"text",raw:s[0],text:s[0],tokens:this.lexer.inline(s[0])}}escape(t){const s=this.rules.inline.escape.exec(t);if(s)return{type:"escape",raw:s[0],text:s[1]}}tag(t){const s=this.rules.inline.tag.exec(t);if(s)return!this.lexer.state.inLink&&this.rules.other.startATag.test(s[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(s[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(s[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(s[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:s[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:s[0]}}link(t){const s=this.rules.inline.link.exec(t);if(s){const n=s[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;const r=is(n.slice(0,-1),"\\");if((n.length-r.length)%2===0)return}else{const r=Tf(s[2],"()");if(r===-2)return;if(r>-1){const c=(s[0].indexOf("!")===0?5:4)+s[1].length+r;s[2]=s[2].substring(0,r),s[0]=s[0].substring(0,c).trim(),s[3]=""}}let o=s[2],i="";if(this.options.pedantic){const r=this.rules.other.pedanticHrefTitle.exec(o);r&&(o=r[1],i=r[3])}else i=s[3]?s[3].slice(1,-1):"";return o=o.trim(),this.rules.other.startAngleBracket.test(o)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?o=o.slice(1):o=o.slice(1,-1)),Yo(s,{href:o&&o.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},s[0],this.lexer,this.rules)}}reflink(t,s){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){const o=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),i=s[o.toLowerCase()];if(!i){const r=n[0].charAt(0);return{type:"text",raw:r,text:r}}return Yo(n,i,n[0],this.lexer,this.rules)}}emStrong(t,s,n=""){let o=this.rules.inline.emStrongLDelim.exec(t);if(!o||o[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;if(!(o[1]||o[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const r=[...o[0]].length-1;let l,c,a=r,u=0;const g=o[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(g.lastIndex=0,s=s.slice(-1*t.length+r);(o=g.exec(s))!=null;){if(l=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!l)continue;if(c=[...l].length,o[3]||o[4]){a+=c;continue}else if((o[5]||o[6])&&r%3&&!((r+c)%3)){u+=c;continue}if(a-=c,a>0)continue;c=Math.min(c,c+a+u);const w=[...o[0]][0].length,v=t.slice(0,r+o.index+w+c);if(Math.min(r,c)%2){const M=v.slice(1,-1);return{type:"em",raw:v,text:M,tokens:this.lexer.inlineTokens(M)}}const _=v.slice(2,-2);return{type:"strong",raw:v,text:_,tokens:this.lexer.inlineTokens(_)}}}}codespan(t){const s=this.rules.inline.code.exec(t);if(s){let n=s[2].replace(this.rules.other.newLineCharGlobal," ");const o=this.rules.other.nonSpaceChar.test(n),i=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return o&&i&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:s[0],text:n}}}br(t){const s=this.rules.inline.br.exec(t);if(s)return{type:"br",raw:s[0]}}del(t){const s=this.rules.inline.del.exec(t);if(s)return{type:"del",raw:s[0],text:s[2],tokens:this.lexer.inlineTokens(s[2])}}autolink(t){const s=this.rules.inline.autolink.exec(t);if(s){let n,o;return s[2]==="@"?(n=s[1],o="mailto:"+n):(n=s[1],o=n),{type:"link",raw:s[0],text:n,href:o,tokens:[{type:"text",raw:n,text:n}]}}}url(t){var n;let s;if(s=this.rules.inline.url.exec(t)){let o,i;if(s[2]==="@")o=s[0],i="mailto:"+o;else{let r;do r=s[0],s[0]=((n=this.rules.inline._backpedal.exec(s[0]))==null?void 0:n[0])??"";while(r!==s[0]);o=s[0],s[1]==="www."?i="http://"+s[0]:i=s[0]}return{type:"link",raw:s[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(t){const s=this.rules.inline.text.exec(t);if(s){const n=this.lexer.state.inRawBlock;return{type:"text",raw:s[0],text:s[0],escaped:n}}}}class Ze{constructor(t){pe(this,"tokens");pe(this,"options");pe(this,"state");pe(this,"tokenizer");pe(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Ft,this.options.tokenizer=this.options.tokenizer||new Js,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const s={other:Fe,block:Os.normal,inline:os.normal};this.options.pedantic?(s.block=Os.pedantic,s.inline=os.pedantic):this.options.gfm&&(s.block=Os.gfm,this.options.breaks?s.inline=os.breaks:s.inline=os.gfm),this.tokenizer.rules=s}static get rules(){return{block:Os,inline:os}}static lex(t,s){return new Ze(s).lex(t)}static lexInline(t,s){return new Ze(s).inlineTokens(t)}lex(t){t=t.replace(Fe.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let s=0;s<this.inlineQueue.length;s++){const n=this.inlineQueue[s];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,s=[],n=!1){var o,i,r;for(this.options.pedantic&&(t=t.replace(Fe.tabCharGlobal,"    ").replace(Fe.spaceLine,""));t;){let l;if((i=(o=this.options.extensions)==null?void 0:o.block)!=null&&i.some(a=>(l=a.call({lexer:this},t,s))?(t=t.substring(l.raw.length),s.push(l),!0):!1))continue;if(l=this.tokenizer.space(t)){t=t.substring(l.raw.length);const a=s.at(-1);l.raw.length===1&&a!==void 0?a.raw+=`
`:s.push(l);continue}if(l=this.tokenizer.code(t)){t=t.substring(l.raw.length);const a=s.at(-1);(a==null?void 0:a.type)==="paragraph"||(a==null?void 0:a.type)==="text"?(a.raw+=`
`+l.raw,a.text+=`
`+l.text,this.inlineQueue.at(-1).src=a.text):s.push(l);continue}if(l=this.tokenizer.fences(t)){t=t.substring(l.raw.length),s.push(l);continue}if(l=this.tokenizer.heading(t)){t=t.substring(l.raw.length),s.push(l);continue}if(l=this.tokenizer.hr(t)){t=t.substring(l.raw.length),s.push(l);continue}if(l=this.tokenizer.blockquote(t)){t=t.substring(l.raw.length),s.push(l);continue}if(l=this.tokenizer.list(t)){t=t.substring(l.raw.length),s.push(l);continue}if(l=this.tokenizer.html(t)){t=t.substring(l.raw.length),s.push(l);continue}if(l=this.tokenizer.def(t)){t=t.substring(l.raw.length);const a=s.at(-1);(a==null?void 0:a.type)==="paragraph"||(a==null?void 0:a.type)==="text"?(a.raw+=`
`+l.raw,a.text+=`
`+l.raw,this.inlineQueue.at(-1).src=a.text):this.tokens.links[l.tag]||(this.tokens.links[l.tag]={href:l.href,title:l.title});continue}if(l=this.tokenizer.table(t)){t=t.substring(l.raw.length),s.push(l);continue}if(l=this.tokenizer.lheading(t)){t=t.substring(l.raw.length),s.push(l);continue}let c=t;if((r=this.options.extensions)!=null&&r.startBlock){let a=1/0;const u=t.slice(1);let g;this.options.extensions.startBlock.forEach(w=>{g=w.call({lexer:this},u),typeof g=="number"&&g>=0&&(a=Math.min(a,g))}),a<1/0&&a>=0&&(c=t.substring(0,a+1))}if(this.state.top&&(l=this.tokenizer.paragraph(c))){const a=s.at(-1);n&&(a==null?void 0:a.type)==="paragraph"?(a.raw+=`
`+l.raw,a.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):s.push(l),n=c.length!==t.length,t=t.substring(l.raw.length);continue}if(l=this.tokenizer.text(t)){t=t.substring(l.raw.length);const a=s.at(-1);(a==null?void 0:a.type)==="text"?(a.raw+=`
`+l.raw,a.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):s.push(l);continue}if(t){const a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,s}inline(t,s=[]){return this.inlineQueue.push({src:t,tokens:s}),s}inlineTokens(t,s=[]){var l,c,a;let n=t,o=null;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(o=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)u.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(o=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,o.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(o=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)n=n.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let i=!1,r="";for(;t;){i||(r=""),i=!1;let u;if((c=(l=this.options.extensions)==null?void 0:l.inline)!=null&&c.some(w=>(u=w.call({lexer:this},t,s))?(t=t.substring(u.raw.length),s.push(u),!0):!1))continue;if(u=this.tokenizer.escape(t)){t=t.substring(u.raw.length),s.push(u);continue}if(u=this.tokenizer.tag(t)){t=t.substring(u.raw.length),s.push(u);continue}if(u=this.tokenizer.link(t)){t=t.substring(u.raw.length),s.push(u);continue}if(u=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(u.raw.length);const w=s.at(-1);u.type==="text"&&(w==null?void 0:w.type)==="text"?(w.raw+=u.raw,w.text+=u.text):s.push(u);continue}if(u=this.tokenizer.emStrong(t,n,r)){t=t.substring(u.raw.length),s.push(u);continue}if(u=this.tokenizer.codespan(t)){t=t.substring(u.raw.length),s.push(u);continue}if(u=this.tokenizer.br(t)){t=t.substring(u.raw.length),s.push(u);continue}if(u=this.tokenizer.del(t)){t=t.substring(u.raw.length),s.push(u);continue}if(u=this.tokenizer.autolink(t)){t=t.substring(u.raw.length),s.push(u);continue}if(!this.state.inLink&&(u=this.tokenizer.url(t))){t=t.substring(u.raw.length),s.push(u);continue}let g=t;if((a=this.options.extensions)!=null&&a.startInline){let w=1/0;const v=t.slice(1);let _;this.options.extensions.startInline.forEach(M=>{_=M.call({lexer:this},v),typeof _=="number"&&_>=0&&(w=Math.min(w,_))}),w<1/0&&w>=0&&(g=t.substring(0,w+1))}if(u=this.tokenizer.inlineText(g)){t=t.substring(u.raw.length),u.raw.slice(-1)!=="_"&&(r=u.raw.slice(-1)),i=!0;const w=s.at(-1);(w==null?void 0:w.type)==="text"?(w.raw+=u.raw,w.text+=u.text):s.push(u);continue}if(t){const w="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(w);break}else throw new Error(w)}}return s}}class Gs{constructor(t){pe(this,"options");pe(this,"parser");this.options=t||Ft}space(t){return""}code({text:t,lang:s,escaped:n}){var r;const o=(r=(s||"").match(Fe.notSpaceStart))==null?void 0:r[0],i=t.replace(Fe.endingNewline,"")+`
`;return o?'<pre><code class="language-'+ut(o)+'">'+(n?i:ut(i,!0))+`</code></pre>
`:"<pre><code>"+(n?i:ut(i,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}heading({tokens:t,depth:s}){return`<h${s}>${this.parser.parseInline(t)}</h${s}>
`}hr(t){return`<hr>
`}list(t){const s=t.ordered,n=t.start;let o="";for(let l=0;l<t.items.length;l++){const c=t.items[l];o+=this.listitem(c)}const i=s?"ol":"ul",r=s&&n!==1?' start="'+n+'"':"";return"<"+i+r+`>
`+o+"</"+i+`>
`}listitem(t){var n;let s="";if(t.task){const o=this.checkbox({checked:!!t.checked});t.loose?((n=t.tokens[0])==null?void 0:n.type)==="paragraph"?(t.tokens[0].text=o+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=o+" "+ut(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:o+" ",text:o+" ",escaped:!0}):s+=o+" "}return s+=this.parser.parse(t.tokens,!!t.loose),`<li>${s}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let s="",n="";for(let i=0;i<t.header.length;i++)n+=this.tablecell(t.header[i]);s+=this.tablerow({text:n});let o="";for(let i=0;i<t.rows.length;i++){const r=t.rows[i];n="";for(let l=0;l<r.length;l++)n+=this.tablecell(r[l]);o+=this.tablerow({text:n})}return o&&(o=`<tbody>${o}</tbody>`),`<table>
<thead>
`+s+`</thead>
`+o+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){const s=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+s+`</${n}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${ut(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:s,tokens:n}){const o=this.parser.parseInline(n),i=Qo(t);if(i===null)return o;t=i;let r='<a href="'+t+'"';return s&&(r+=' title="'+ut(s)+'"'),r+=">"+o+"</a>",r}image({href:t,title:s,text:n}){const o=Qo(t);if(o===null)return ut(n);t=o;let i=`<img src="${t}" alt="${n}"`;return s&&(i+=` title="${ut(s)}"`),i+=">",i}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:ut(t.text)}}class co{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}}class Ye{constructor(t){pe(this,"options");pe(this,"renderer");pe(this,"textRenderer");this.options=t||Ft,this.options.renderer=this.options.renderer||new Gs,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new co}static parse(t,s){return new Ye(s).parse(t)}static parseInline(t,s){return new Ye(s).parseInline(t)}parse(t,s=!0){var o,i;let n="";for(let r=0;r<t.length;r++){const l=t[r];if((i=(o=this.options.extensions)==null?void 0:o.renderers)!=null&&i[l.type]){const a=l,u=this.options.extensions.renderers[a.type].call({parser:this},a);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a.type)){n+=u||"";continue}}const c=l;switch(c.type){case"space":{n+=this.renderer.space(c);continue}case"hr":{n+=this.renderer.hr(c);continue}case"heading":{n+=this.renderer.heading(c);continue}case"code":{n+=this.renderer.code(c);continue}case"table":{n+=this.renderer.table(c);continue}case"blockquote":{n+=this.renderer.blockquote(c);continue}case"list":{n+=this.renderer.list(c);continue}case"html":{n+=this.renderer.html(c);continue}case"paragraph":{n+=this.renderer.paragraph(c);continue}case"text":{let a=c,u=this.renderer.text(a);for(;r+1<t.length&&t[r+1].type==="text";)a=t[++r],u+=`
`+this.renderer.text(a);s?n+=this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u,escaped:!0}]}):n+=u;continue}default:{const a='Token with "'+c.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return n}parseInline(t,s=this.renderer){var o,i;let n="";for(let r=0;r<t.length;r++){const l=t[r];if((i=(o=this.options.extensions)==null?void 0:o.renderers)!=null&&i[l.type]){const a=this.options.extensions.renderers[l.type].call({parser:this},l);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type)){n+=a||"";continue}}const c=l;switch(c.type){case"escape":{n+=s.text(c);break}case"html":{n+=s.html(c);break}case"link":{n+=s.link(c);break}case"image":{n+=s.image(c);break}case"strong":{n+=s.strong(c);break}case"em":{n+=s.em(c);break}case"codespan":{n+=s.codespan(c);break}case"br":{n+=s.br(c);break}case"del":{n+=s.del(c);break}case"text":{n+=s.text(c);break}default:{const a='Token with "'+c.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return n}}class gs{constructor(t){pe(this,"options");pe(this,"block");this.options=t||Ft}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}provideLexer(){return this.block?Ze.lex:Ze.lexInline}provideParser(){return this.block?Ye.parse:Ye.parseInline}}pe(gs,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class $f{constructor(...t){pe(this,"defaults",to());pe(this,"options",this.setOptions);pe(this,"parse",this.parseMarkdown(!0));pe(this,"parseInline",this.parseMarkdown(!1));pe(this,"Parser",Ye);pe(this,"Renderer",Gs);pe(this,"TextRenderer",co);pe(this,"Lexer",Ze);pe(this,"Tokenizer",Js);pe(this,"Hooks",gs);this.use(...t)}walkTokens(t,s){var o,i;let n=[];for(const r of t)switch(n=n.concat(s.call(this,r)),r.type){case"table":{const l=r;for(const c of l.header)n=n.concat(this.walkTokens(c.tokens,s));for(const c of l.rows)for(const a of c)n=n.concat(this.walkTokens(a.tokens,s));break}case"list":{const l=r;n=n.concat(this.walkTokens(l.items,s));break}default:{const l=r;(i=(o=this.defaults.extensions)==null?void 0:o.childTokens)!=null&&i[l.type]?this.defaults.extensions.childTokens[l.type].forEach(c=>{const a=l[c].flat(1/0);n=n.concat(this.walkTokens(a,s))}):l.tokens&&(n=n.concat(this.walkTokens(l.tokens,s)))}}return n}use(...t){const s=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{const o={...n};if(o.async=this.defaults.async||o.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){const r=s.renderers[i.name];r?s.renderers[i.name]=function(...l){let c=i.renderer.apply(this,l);return c===!1&&(c=r.apply(this,l)),c}:s.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const r=s[i.level];r?r.unshift(i.tokenizer):s[i.level]=[i.tokenizer],i.start&&(i.level==="block"?s.startBlock?s.startBlock.push(i.start):s.startBlock=[i.start]:i.level==="inline"&&(s.startInline?s.startInline.push(i.start):s.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(s.childTokens[i.name]=i.childTokens)}),o.extensions=s),n.renderer){const i=this.defaults.renderer||new Gs(this.defaults);for(const r in n.renderer){if(!(r in i))throw new Error(`renderer '${r}' does not exist`);if(["options","parser"].includes(r))continue;const l=r,c=n.renderer[l],a=i[l];i[l]=(...u)=>{let g=c.apply(i,u);return g===!1&&(g=a.apply(i,u)),g||""}}o.renderer=i}if(n.tokenizer){const i=this.defaults.tokenizer||new Js(this.defaults);for(const r in n.tokenizer){if(!(r in i))throw new Error(`tokenizer '${r}' does not exist`);if(["options","rules","lexer"].includes(r))continue;const l=r,c=n.tokenizer[l],a=i[l];i[l]=(...u)=>{let g=c.apply(i,u);return g===!1&&(g=a.apply(i,u)),g}}o.tokenizer=i}if(n.hooks){const i=this.defaults.hooks||new gs;for(const r in n.hooks){if(!(r in i))throw new Error(`hook '${r}' does not exist`);if(["options","block"].includes(r))continue;const l=r,c=n.hooks[l],a=i[l];gs.passThroughHooks.has(r)?i[l]=u=>{if(this.defaults.async)return Promise.resolve(c.call(i,u)).then(w=>a.call(i,w));const g=c.call(i,u);return a.call(i,g)}:i[l]=(...u)=>{let g=c.apply(i,u);return g===!1&&(g=a.apply(i,u)),g}}o.hooks=i}if(n.walkTokens){const i=this.defaults.walkTokens,r=n.walkTokens;o.walkTokens=function(l){let c=[];return c.push(r.call(this,l)),i&&(c=c.concat(i.call(this,l))),c}}this.defaults={...this.defaults,...o}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,s){return Ze.lex(t,s??this.defaults)}parser(t,s){return Ye.parse(t,s??this.defaults)}parseMarkdown(t){return(n,o)=>{const i={...o},r={...this.defaults,...i},l=this.onError(!!r.silent,!!r.async);if(this.defaults.async===!0&&i.async===!1)return l(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));r.hooks&&(r.hooks.options=r,r.hooks.block=t);const c=r.hooks?r.hooks.provideLexer():t?Ze.lex:Ze.lexInline,a=r.hooks?r.hooks.provideParser():t?Ye.parse:Ye.parseInline;if(r.async)return Promise.resolve(r.hooks?r.hooks.preprocess(n):n).then(u=>c(u,r)).then(u=>r.hooks?r.hooks.processAllTokens(u):u).then(u=>r.walkTokens?Promise.all(this.walkTokens(u,r.walkTokens)).then(()=>u):u).then(u=>a(u,r)).then(u=>r.hooks?r.hooks.postprocess(u):u).catch(l);try{r.hooks&&(n=r.hooks.preprocess(n));let u=c(n,r);r.hooks&&(u=r.hooks.processAllTokens(u)),r.walkTokens&&this.walkTokens(u,r.walkTokens);let g=a(u,r);return r.hooks&&(g=r.hooks.postprocess(g)),g}catch(u){return l(u)}}}onError(t,s){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t){const o="<p>An error occurred:</p><pre>"+ut(n.message+"",!0)+"</pre>";return s?Promise.resolve(o):o}if(s)return Promise.reject(n);throw n}}}const jt=new $f;function le(e,t){return jt.parse(e,t)}le.options=le.setOptions=function(e){return jt.setOptions(e),le.defaults=jt.defaults,ur(le.defaults),le};le.getDefaults=to;le.defaults=Ft;le.use=function(...e){return jt.use(...e),le.defaults=jt.defaults,ur(le.defaults),le};le.walkTokens=function(e,t){return jt.walkTokens(e,t)};le.parseInline=jt.parseInline;le.Parser=Ye;le.parser=Ye.parse;le.Renderer=Gs;le.TextRenderer=co;le.Lexer=Ze;le.lexer=Ze.lex;le.Tokenizer=Js;le.Hooks=gs;le.parse=le;le.options;le.setOptions;le.use;le.walkTokens;le.parseInline;Ye.parse;Ze.lex;const Cf={class:"memos-list-wrapper"},Ef={class:"memos-list"},Af={key:0,class:"tag-list-container"},Pf=["onClick"],Rf={class:"list-header"},Mf={class:"filters"},Of={class:"filters-row"},If={class:"search-box"},Lf=["placeholder"],Vf={class:"actions"},Df=["disabled"],Bf={key:0,class:"loading"},zf={key:1,class:"empty-state"},jf={key:2,class:"memo-list"},Hf=["data-memo-id"],Ff={class:"memo-content-wrapper"},Nf=["innerHTML"],Uf=["onClick"],qf={class:"expand-button-content"},Wf={class:"memo-meta"},Kf={class:"memo-time"},Jf={class:"memo-visibility"},Gf={key:0,class:"memo-tags"},Qf=["onClick"],Zf={class:"memo-actions"},Yf=["onClick"],Xf=["onClick"],ed={key:0,class:"resources-container"},td={class:"resources-list"},sd=["src","alt","onClick"],nd={class:"resource-filename"},od=["href","download"],id={class:"resource-filename"},rd={key:0,class:"loading-more"},Ne=50,ld=Gn({__name:"MemosList",props:{settings:{type:Object,required:!0}},emits:["switchToEditor","editMemo"],setup(e,{emit:t}){const s=e,n=t,o=J([]),i=J(!1);J("all");const r=J(""),l=J([]),c=J({}),a=J(null),u=J(1),g=J(!1),w=J(null),v=J(!0),_=J(null),M=J(!1),O=J(new Set),ee=J(new Map),q={code({text:j}){return`<pre class="plain-code"><code>@${j}</code></pre>`}};le.use({renderer:q});const Q=j=>{switch(j){case"PUBLIC":return"fas fa-globe";case"PRIVATE":return"fas fa-lock";case"PROTECTED":return"fas fa-user-shield";default:return"fas fa-question"}},L=j=>le(j),se=async()=>{if(!(!s.settings.host||!s.settings.token))try{const W=await yt(s.settings.apiVersion).getTags(s.settings.host,s.settings.token);s.settings.apiVersion==="v18"?(l.value=W||[],c.value=(W||[]).reduce((B,V)=>(B[V]=1,B),{})):(l.value=W||[],c.value=(W||[]).reduce((B,V)=>(B[V]=1,B),{}))}catch(j){console.error("获取标签失败:",j),ve("获取标签失败: "+j.message,"error"),l.value=[],c.value={}}},ue=j=>{a.value=j&&j.length>0?j[0]:null,u.value=1,oe()},ce=j=>{a.value=j,u.value=1,oe()},oe=async()=>{if(!(!s.settings.host||!s.settings.token)){i.value=!0;try{const j=yt(s.settings.apiVersion),W=0;u.value=1,v.value=!0;const B=await j.getMemos(s.settings.host,s.settings.token,{offset:W,limit:Ne,visibility:s.settings.visibilityFilter,content:r.value,tag:a.value});if(!B.ok)throw new Error("获取备忘录失败");let V=await B.json();if(s.settings.apiVersion==="v24"){_.value=V.nextPageToken,V=V.memos;for(const U of V){const Re=await j.listResources(s.settings.host,s.settings.token,U.name);console.log(Re,"resources"),Re&&Re.resources.length>0&&(U.resources=Re.resources)}}else if(s.settings.apiVersion==="v25"){_.value=V.nextPageToken,V=V.memos;for(const U of V)if(U.createTime&&!U.createdTs&&(U.createdTs=new Date(U.createTime).getTime()),U.displayTime&&!U.displayTs&&(U.displayTs=new Date(U.displayTime).getTime()),U.updateTime&&!U.updatedTs&&(U.updatedTs=new Date(U.updateTime).getTime()),U.attachments&&U.attachments.length>0)try{const Re=await j.listMemoAttachments(s.settings.host,s.settings.token,U.name);Re&&Re.attachments&&(U.resources=Re.attachments)}catch(Re){console.warn("获取附件失败:",Re)}}s.settings.apiVersion==="v25"&&a.value&&(V=V.filter(U=>U.tags&&U.tags.includes(a.value)),console.log("客户端标签过滤结果:",V.length,"条便签包含标签:",a.value)),s.settings.apiVersion==="v25"?V.length>=Ne?(v.value=!0,console.log("fetchMemos保持hasMore为true (v25版本，数据量达到limit):",{dataLength:V.length,limit:Ne,nextPageToken:_.value})):(v.value=!1,console.log("fetchMemos设置hasMore为false (v25版本，数据量不足):",{dataLength:V.length,limit:Ne,nextPageToken:_.value})):(!_.value||_.value==="")&&V.length<Ne?(v.value=!1,console.log("fetchMemos设置hasMore为false (nextPageToken为空且数据不足):",{dataLength:V.length,limit:Ne,nextPageToken:_.value})):(v.value=!0,console.log("fetchMemos保持hasMore为true:",{dataLength:V.length,limit:Ne,nextPageToken:_.value,reason:_.value?"has nextPageToken":"data equals limit"})),console.log("fetchMemos完成:",{dataCount:V.length,hasMore:v.value,nextPageToken:_.value}),o.value=V,xe(()=>{o.value.forEach(U=>{Ae(U)})})}catch(j){console.error("获取备忘录失败:",j),ve("获取备忘录失败: "+j.message,"error")}finally{i.value=!1}}},Ue=()=>{oe()},Y=j=>{let W;return s.settings.apiVersion==="v18"?W=j.id:s.settings.apiVersion==="v24"||s.settings.apiVersion==="v25"?W=j.name:W=j.name||j.id,console.log("getMemoIdentifier:",{apiVersion:s.settings.apiVersion,memo:{id:j.id,name:j.name},identifier:W}),W},fe=async j=>{if(confirm(T("list.confirmDelete")))try{await yt(s.settings.apiVersion).deleteMemo(s.settings.host,s.settings.token,j),ve(T("list.deleteSuccess")),oe()}catch(W){console.error("删除备忘录失败:",W),ve(T("list.deleteError")+W.message,"error")}},Ee=j=>{n("editMemo",j)},ge=()=>{n("switchToEditor")};ye(r,()=>{oe()}),ye(a,()=>{oe()}),ye(()=>s.settings,()=>{oe(),se()},{deep:!0}),Ht(()=>{oe(),se()}),$e(()=>({maxHeight:g.value?"none":"64px",overflow:"hidden",transition:"max-height 0.3s ease"})),$e(()=>l.value.length>10);const et=()=>{g.value=!g.value},qe=async j=>{if(!v.value||i.value||M.value)return;const W=j.target;W.scrollHeight-W.scrollTop-W.clientHeight<50&&await N()},N=async()=>{if(!(!v.value||M.value)){console.log("loadMore开始执行:",{hasMore:v.value,isLoadingMore:M.value,nextPageToken:_.value,currentMemosCount:o.value.length}),M.value=!0;try{const j=yt(s.settings.apiVersion),W=await j.getMemos(s.settings.host,s.settings.token,{offset:_.value,limit:Ne,visibility:s.settings.visibilityFilter,content:r.value,tag:a.value});if(!W.ok)throw new Error("获取备忘录失败");let B=await W.json();if(console.log(B),s.settings.apiVersion==="v24"){_.value=B.nextPageToken,B=B.memos;for(const V of B){const U=await j.listResources(s.settings.host,s.settings.token,V.name);console.log(U,"resources"),U&&U.resources.length>0&&(V.resources=U.resources)}}else if(s.settings.apiVersion==="v25"){_.value=B.nextPageToken,B=B.memos;for(const V of B)if(V.createTime&&!V.createdTs&&(V.createdTs=new Date(V.createTime).getTime()),V.displayTime&&!V.displayTs&&(V.displayTs=new Date(V.displayTime).getTime()),V.updateTime&&!V.updatedTs&&(V.updatedTs=new Date(V.updateTime).getTime()),V.attachments&&V.attachments.length>0)try{const U=await j.listMemoAttachments(s.settings.host,s.settings.token,V.name);U&&U.attachments&&(V.resources=U.attachments)}catch(U){console.warn("获取附件失败:",U)}}s.settings.apiVersion==="v25"&&a.value&&(B=B.filter(V=>V.tags&&V.tags.includes(a.value)),console.log("loadMore客户端标签过滤结果:",B.length,"条便签包含标签:",a.value)),s.settings.apiVersion==="v25"?B.length>=Ne?(v.value=!0,console.log("loadMore保持hasMore为true (v25版本，数据量达到limit):",{dataLength:B.length,limit:Ne,nextPageToken:_.value})):(v.value=!1,console.log("loadMore设置hasMore为false (v25版本，数据量不足):",{dataLength:B.length,limit:Ne,nextPageToken:_.value})):(!_.value||_.value==="")&&B.length<Ne?(v.value=!1,console.log("loadMore设置hasMore为false (nextPageToken为空且数据不足):",{dataLength:B.length,limit:Ne,nextPageToken:_.value})):(v.value=!0,console.log("loadMore保持hasMore为true:",{dataLength:B.length,limit:Ne,nextPageToken:_.value,reason:_.value?"has nextPageToken":"data equals limit"})),o.value=[...o.value,...B],u.value++,console.log("loadMore完成:",{newDataCount:B.length,totalMemosCount:o.value.length,hasMore:v.value,nextPageToken:_.value}),xe(()=>{B.forEach(V=>{Ae(V)})})}catch(j){console.error("加载更多备忘录失败:",j),ve("加载更多失败: "+j.message,"error")}finally{M.value=!1}}},$=$e(()=>{if(!s.settings.preferredTags||s.settings.preferredTags.length===0)return l.value;const j=s.settings.preferredTags.filter(B=>B&&B.trim()),W=l.value.filter(B=>!j.includes(B)&&B&&B.trim());return[...j,...W]}),A=j=>{window.open(j,"_blank")},de=j=>ee.value.get(j)||!1,Ae=j=>{const W=Y(j);console.log("checkOverflow调用:",W,j),xe(()=>{const B=document.querySelector(`[data-memo-id="${W}"] .memo-content`);console.log("DOM查询结果:",B,`[data-memo-id="${W}"] .memo-content`),B&&setTimeout(()=>{const V=B.scrollHeight,U=V>300;ee.value.set(W,U),console.log("溢出检查结果:",{memoId:W,contentHeight:V,threshold:300,isOverflowing:U})},100)})},we=j=>{O.value.has(j)?O.value.delete(j):O.value.add(j)};return(j,W)=>(G(),Z("div",Cf,[p("div",Ef,[e.settings.tagFilterStyle==="list"&&e.settings.apiVersion!=="v24"&&e.settings.apiVersion!=="v25"?(G(),Z("div",Af,[p("div",{class:Se(["tag-list",{expanded:g.value}])},[p("button",{class:Se(["tag-item",{active:!a.value}]),onClick:W[0]||(W[0]=B=>ce(null))},z(S(T)("list.all")),3),(G(!0),Z(Te,null,st($.value,B=>{var V;return G(),Z("button",{key:B,class:Se(["tag-item",{active:a.value===B,preferred:(V=e.settings.preferredTags)==null?void 0:V.includes(B)}]),onClick:U=>ce(B)},z(B),11,Pf)}),128))],2),p("button",{class:Se(["expand-tags",{expanded:g.value}]),onClick:et},[nt(z(g.value?S(T)("list.collapse"):S(T)("list.expand"))+" ",1),W[2]||(W[2]=p("i",{class:"fas fa-chevron-down"},null,-1))],2)])):_e("",!0),p("div",Rf,[p("div",Mf,[p("div",Of,[e.settings.tagFilterStyle==="selector"&&e.settings.apiVersion!=="v24"&&e.settings.apiVersion!=="v25"?(G(),Zn(eo,{key:0,modelValue:a.value?[a.value]:[],options:l.value,placeholder:S(T)("list.selectTag"),"onUpdate:modelValue":ue},null,8,["modelValue","options","placeholder"])):_e("",!0),p("div",If,[Pe(p("input",{"onUpdate:modelValue":W[1]||(W[1]=B=>r.value=B),type:"text",placeholder:S(T)("list.search"),class:"search-input"},null,8,Lf),[[tt,r.value]]),W[3]||(W[3]=p("i",{class:"fas fa-search search-icon"},null,-1))]),p("div",Vf,[p("button",{class:"refresh-btn",onClick:Ue,disabled:i.value},[p("i",{class:Se(["fas fa-sync-alt",{"fa-spin":i.value}])},null,2)],8,Df),p("button",{class:"create-btn",onClick:ge},W[4]||(W[4]=[p("i",{class:"fas fa-plus"},null,-1)]))])])])]),p("div",{class:"memos-container",style:kt({maxHeight:e.settings.listMaxHeight+"px"}),onScroll:qe,ref_key:"memosContainerRef",ref:w},[i.value?(G(),Z("div",Bf,W[5]||(W[5]=[p("i",{class:"fas fa-spinner fa-spin"},null,-1)]))):o.value.length===0?(G(),Z("div",zf,z(r.value?S(T)("list.noResults"):S(T)("list.noMemos")),1)):(G(),Z("div",jf,[(G(!0),Z(Te,null,st(o.value,B=>(G(),Z("div",{key:Y(B),class:"memo-item","data-memo-id":Y(B)},[p("div",Ff,[p("div",{class:Se(["memo-content",{expanded:O.value.has(Y(B))}])},[p("div",{class:"memo-text",innerHTML:L(B.content)},null,8,Nf)],2),de(Y(B))?(G(),Z("div",{key:0,class:"expand-button",onClick:V=>we(Y(B))},[p("div",qf,[p("span",null,z(O.value.has(Y(B))?S(T)("memo.showLess"):S(T)("memo.expandMore")),1),p("i",{class:Se(["fas",O.value.has(Y(B))?"fa-chevron-up":"fa-chevron-down"])},null,2)])],8,Uf)):_e("",!0)]),p("div",Wf,[p("span",Kf,z(S(Nu)(e.settings.apiVersion=="v18"?B.createdTs:B.updateTime)),1),p("span",Jf,[p("i",{class:Se(Q(B.visibility))},null,2)]),B.tags&&B.tags.length>0?(G(),Z("div",Gf,[(G(!0),Z(Te,null,st(B.tags,V=>(G(),Z("span",{key:V,class:"tag",onClick:U=>ce(V)},[W[6]||(W[6]=p("i",{class:"fas fa-tag"},null,-1)),nt(z(V),1)],8,Qf))),128))])):_e("",!0),p("div",Zf,[p("button",{class:"edit-btn",onClick:V=>Ee(B)},W[7]||(W[7]=[p("i",{class:"fas fa-edit"},null,-1)]),8,Yf),p("button",{class:"delete-btn",onClick:V=>fe(Y(B))},W[8]||(W[8]=[p("i",{class:"fas fa-trash"},null,-1)]),8,Xf)])]),(e.settings.apiVersion==="v24"||e.settings.apiVersion==="v25")&&B.resources&&B.resources.length>0?(G(),Z("div",ed,[p("div",td,[(G(!0),Z(Te,null,st(B.resources.filter(V=>V.type.startsWith("image/")),V=>(G(),Z("div",{key:V.name,class:"resource-item image-resource"},[p("img",{src:V.url,alt:V.filename,onClick:U=>A(V.url),class:"resource-image"},null,8,sd),p("span",nd,z(V.filename),1)]))),128)),(G(!0),Z(Te,null,st(B.resources.filter(V=>!V.type.startsWith("image/")),V=>(G(),Z("div",{key:V.name,class:"resource-item file-resource"},[p("a",{href:V.url,download:V.filename,class:"file-link"},[W[9]||(W[9]=p("i",{class:"fas fa-file"},null,-1)),p("span",id,z(V.filename),1)],8,od)]))),128))])])):_e("",!0)],8,Hf))),128)),v.value?(G(),Z("div",rd,[W[10]||(W[10]=p("i",{class:"fas fa-spinner fa-spin"},null,-1)),nt(" "+z(S(T)("list.loadMore")),1)])):_e("",!0)]))],36)])]))}}),ad={class:"header-actions"},cd=["title"],ud={key:0,class:"format-notification"},fd={key:0,class:"editor-container"},dd={key:0,class:"upload-preview"},pd={class:"upload-content"},hd=["src","alt"],gd={key:1,class:"file-info"},md=["onClick"],vd={class:"editor-wrapper"},bd=["placeholder","onKeydown"],wd=["onClick"],yd={key:1,class:"stats-panel"},kd={class:"toolbar"},xd={class:"markdown-tools"},_d=["title"],Td=["title"],Sd=["title"],$d=["title"],Cd=["title"],Ed=["title"],Ad=["title"],Pd=["title"],Rd=["title"],Md=["title"],Od=["title"],Id=["title"],Ld={class:"action-tools"},Vd={class:"left-tools"},Dd=["title"],Bd=["title"],zd={class:"right-tools"},jd={key:1,class:"upload-progress"},Hd={class:"progress-text"},Fd={key:1,class:"list-view"},Nd=800,mt=600,Ud=Gn({__name:"App",emits:["refresh","switchToList"],setup(e,{emit:t}){const s=t,n=J(!1),o=J(!1),i=J(""),r=J("PUBLIC"),l=J(null),c=J(null),a=J(null),u=J("PUBLIC"),g=J(!1),w=J(!1),v=ic("memos-settings",{host:"",token:"",apiVersion:"v25",addSource:!0,useQuote:!0,skipDefaultTags:!1,defaultVisibility:"PRIVATE",customTags:"",template:`{content}

来源：[{title}]({url})`,enableShortcuts:!0,tagBehavior:"space",tagSpaceCount:1,width:550,height:400,preferredTags:[],tagFilterStyle:"list",listMaxHeight:600,settingHeight:600,showWordCount:!0,enablePreview:!0,theme:"light",defaultView:"editor",preserveFormatting:!0}),_=J([]),M=J(!1),O=J(0),ee=J([]),q=J({}),Q=J(!1),L=J(0),se=J(""),ue=J([]),ce=J([]),oe=J(!1),Ue=J("");J(null),$e(()=>Ue.value?ce.value.filter(b=>b.toLowerCase().includes(Ue.value.toLowerCase())):ce.value);const Y=$e(()=>i.value.length),fe=$e(()=>i.value.replace(/\s/g,"").length),Ee=$e(()=>i.value.split(`
`).length);$e(()=>({settings:v.value,content:i.value,visibility:r.value,lastError:l.value,isDev:n.value})),$e(()=>i.value);const ge=J(v.value.defaultView||"editor"),et=$e(()=>{const b={width:v.value.width+"px"};return ge.value==="list"?b.height=Math.min(v.value.listMaxHeight,mt)+"px":o.value?b.height=Math.min(v.value.settingHeight,mt)+"px":(b.minHeight=Math.min(v.value.height,mt)+"px",b.height="auto"),b}),qe=J({top:0,left:0,width:0}),N=()=>{o.value=!0},$=async()=>{r.value=v.value.defaultVisibility,v.value.enableShortcuts?document.addEventListener("keydown",lt,{capture:!0}):document.removeEventListener("keydown",lt,{capture:!0}),await A(),v.value.defaultView&&(ge.value=v.value.defaultView),xe(()=>{E()}),o.value=!1},A=async()=>{if(!(!v.value.host||!v.value.token))try{const f=await yt(v.value.apiVersion).getTags(v.value.host,v.value.token);let h=[];v.value.apiVersion==="v18"?(h=f,q.value=f.reduce((x,R)=>(x[R]=1,x),{})):(h=f.map(x=>x.name),q.value=f.reduce((x,R)=>(x[R.name]=R.count,x),{}));const y=v.value.customTags?v.value.customTags.split(",").map(x=>x.trim()).filter(x=>x):[];ee.value=[...new Set([...h,...y])],ce.value=ee.value}catch(b){console.error("获取标签失败:",b)}};Ht(()=>{r.value=v.value.defaultVisibility,chrome.storage.local.get(["selectedText","sourceUrl","sourceTitle","hasFormatting"],h=>{h.selectedText&&(i.value=m(h.selectedText,h.sourceUrl,h.sourceTitle),chrome.storage.local.remove(["selectedText","sourceUrl","sourceTitle","hasFormatting"]),ge.value="editor",h.hasFormatting?(console.log("Memos: 已保留原文的格式样式"),d()):console.log("Memos: 使用纯文本模式"))}),chrome.storage.onChanged.addListener(h=>{var y,x,R;h.selectedText&&h.selectedText.newValue&&(i.value=m(h.selectedText.newValue,(y=h.sourceUrl)==null?void 0:y.newValue,(x=h.sourceTitle)==null?void 0:x.newValue),ge.value="editor",(R=h.hasFormatting)!=null&&R.newValue&&(console.log("Memos: 已保留原文的格式样式"),d()))}),v.value.enableShortcuts&&document.addEventListener("keydown",lt,{capture:!0}),A(),document.addEventListener("click",h=>{const y=document.querySelector(".custom-tags-selector");y&&!y.contains(h.target)&&(oe.value=!1)});const b=new ResizeObserver(()=>{E()}),f=document.querySelector(".editor-container");f&&b.observe(f),Bt(()=>{b.disconnect()})}),ye(()=>v.value,b=>{b.host&&b.token&&A()},{deep:!0}),ye(()=>v.value.enableShortcuts,b=>{b?document.addEventListener("keydown",lt,{capture:!0}):document.removeEventListener("keydown",lt,{capture:!0})}),Bt(()=>{document.removeEventListener("keydown",lt,{capture:!0}),document.removeEventListener("click",()=>{})});const de=()=>{U("\n```\n\n```\n");const f=c.value,h=f.selectionStart-4;xe(()=>{f.setSelectionRange(h,h)})},Ae=()=>{U(`
| 标题1 | 标题2 | 标题3 |
| --- | --- | --- |
| 内容1 | 内容2 | 内容3 |
`)},we=async b=>{const f=b.target.files;if(f.length)try{M.value=!0;const h=yt(v.value.apiVersion);for(let y=0;y<f.length;y++){const x=f[y];O.value=Math.round(y/f.length*100);const R=await h.uploadResource(v.value.host,v.value.token,x,r.value);_.value.push(R),v.value.apiVersion!=="v24"&&(x.type.startsWith("image/")?U(`![${x.name}](${R.url})`):U(`[${x.name}](${R.url})`))}b.target.value=""}catch(h){console.error("上传错误:",h),ve("上传失败："+h.message,"error")}finally{M.value=!1,O.value=0}},j=async b=>{b.preventDefault();const f=b.dataTransfer.files;if(f.length>0){const h=document.createElement("input");h.type="file",h.multiple=!0,h.files=f,we({target:h})}},W=async b=>{const h=(b.clipboardData||b.originalEvent.clipboardData).items,y=Array.from(h).some(H=>H.type==="text/plain"),x=[];let R=!1;for(const H of h)if(H.kind==="file"){const I=H.getAsFile();if(I)if(I.name==="image.png"){const F=new File([I],`screenshot-${new Date().getTime()}.png`,{type:I.type});x.push(F)}else x.push(I)}else if(H.type==="text/plain"&&!R)try{const I=await new Promise(F=>H.getAsString(F));if(I.match(/^https?:\/\/.*\.(jpg|jpeg|png|gif|webp)$/i)){R=!0;const K=await(await fetch(I)).blob(),ne=I.split("/").pop(),ke=new File([K],ne,{type:K.type});x.push(ke)}}catch(I){console.error("处理图片URL失败:",I)}if(x.length>0&&(!y||R)){b.preventDefault();const H=document.createElement("input");H.type="file",H.multiple=!0;const I=new DataTransfer;x.forEach(F=>I.items.add(F)),H.files=I.files,await we({target:H})}},B=async b=>{const f=_.value.findIndex(h=>h.id===b);if(f!==-1){const h=_.value[f];if(_.value.splice(f,1),h.type.startsWith("image/")){const y=new RegExp(`!\\[([^\\]]*)\\]\\(${h.url}\\)`,"g");i.value=i.value.replace(y,"")}else{const y=new RegExp(`\\[${h.name}\\]\\(${h.url}\\)`,"g");i.value=i.value.replace(y,"")}i.value=i.value.replace(/\n{3,}/g,`

`),await xe(),E()}},V=async()=>{if(!i.value.trim()){ve(T("editor.emptyContent"));return}g.value=!0;const b=!!a.value;try{const f=yt(v.value.apiVersion);let h;const y=v.value;let x=i.value;if(!((i.value.match(/#[^\s#]+/g)||[]).length>0||ue.value.length>0)&&y.customTags&&y.skipDefaultTags){const I=y.customTags.split(",").map(F=>F.trim()).filter(F=>F);if(I.length>0){x.endsWith(`
`)||(x+=`
`);const F=Math.min(Math.max(y.tagSpaceCount,1),5),K=y.tagBehavior==="space"?" ".repeat(F):`
`.repeat(F);x+=I.map(ne=>`#${ne}`).join(K)+K}}if(b){console.log(a,663);let I;y.apiVersion==="v18"?I=a.value.id:y.apiVersion==="v24"||y.apiVersion==="v25"?I=a.value.name:I=a.value.name||a.value.id,console.log("更新便签标识符:",{apiVersion:y.apiVersion,memo:{id:a.value.id,name:a.value.name},selectedIdentifier:I});let F={content:x,visibility:r.value};if(y.apiVersion!=="v25"&&(F.resourceIdList=_.value.map(K=>K.id)),h=await f.updateMemo(y.host,y.token,I,F),console.log("updateMemo响应:",{ok:h.ok,status:h.status,statusText:h.statusText}),!h.ok)throw new Error(T("app.editError"));if(ve(T("app.editSuccess")),y.apiVersion==="v25"&&_.value.length>0)try{const K=_.value.map(ne=>ne.id).filter(ne=>ne!=null);K.length>0&&(await f.setMemoAttachments(y.host,y.token,I,K),console.log("v25版本：附件已关联到便签",{memo:I,attachments:K}))}catch(K){console.warn("关联附件失败:",K)}}else if(y.apiVersion==="v24"){const I=await f.createMemo(y.host,y.token,x,r.value);if(console.log(_.value,I,"result"),_.value.length>0){const F=await I.json();if(F&&F.name){const K=_.value.map(ne=>({createTime:new Date().toISOString(),name:ne.name,type:ne.type}));await f.associateResources(y.host,y.token,F.name,{resources:K})}}h=I,ve(T("app.saveSuccess"))}else{if(y.apiVersion==="v25"){const I=ue.value.filter(F=>F&&F.trim()!=="");if(h=await f.createMemo(y.host,y.token,x,r.value,I,!1),_.value.length>0&&h.ok)try{const K=await h.clone().json(),ne=_.value.map(ke=>ke.id).filter(ke=>ke!=null);ne.length>0&&(await f.setMemoAttachments(y.host,y.token,K.name,ne),console.log("v25版本：附件已关联到便签",{memo:K.name,attachments:ne}))}catch(F){console.warn("关联附件失败:",F)}}else if(y.apiVersion==="v18"){if(h=await f.createMemo(y.host,y.token,x,r.value),_.value.length>0&&h.ok)try{const F=await h.clone().json(),K=_.value.map(ne=>ne.id).filter(ne=>ne!=null);K.length>0&&F.id&&(await f.updateMemo(y.host,y.token,F.id,{content:x,visibility:r.value,resourceIdList:K}),console.log("v18版本：资源已关联到便签",{memo:F.id,resources:K}))}catch(I){console.warn("v18版本关联资源失败:",I)}}else{const I=_.value.map(F=>F.id).filter(F=>F!=null);h=await f.createMemo(y.host,y.token,x,r.value,I)}ve(T("app.saveSuccess"))}if(!b&&!h.ok)throw new Error(T("app.saveError"));i.value="",_.value=[],a.value=null,ue.value=[],s("refresh"),b&&(ge.value="list")}catch(f){console.error(T(b?"app.editError":"app.saveError"),f),ve(T(b?"app.editError":"app.saveError")+f.message,"error")}finally{g.value=!1}},U=(b,f="")=>{const h=c.value,y=h.selectionStart,x=h.selectionEnd,R=i.value,H=R.substring(y,x);if(H)i.value=R.substring(0,y)+b+H+f+R.substring(x),xe(()=>{h.setSelectionRange(y+b.length,x+b.length)});else{i.value=R.substring(0,y)+b+f+R.substring(x);const I=y+b.length;xe(()=>{h.setSelectionRange(I,I)})}h.focus()},Re=()=>{const b=c.value,f=b.value,h=b.selectionStart,x=f.slice(0,h).match(/#([^#\s]*)$/);x?(se.value=x[1].toLowerCase(),Q.value=!0,L.value=0,xe(()=>{const R=b.getBoundingClientRect(),I=b.closest(".editor-wrapper").getBoundingClientRect();qe.value={top:R.bottom-I.top+4,left:R.left-I.left,width:R.width}})):(Q.value=!1,se.value="")},rt=$e(()=>se.value?ee.value.filter(b=>b.toLowerCase().includes(se.value)&&b.toLowerCase()!==se.value):ee.value),lt=b=>{if(Q.value&&rt.value.length>0)switch(b.key){case"ArrowUp":b.preventDefault(),b.stopPropagation(),L.value>0&&(L.value--,D());return;case"ArrowDown":b.preventDefault(),b.stopPropagation(),L.value<rt.value.length-1&&(L.value++,D());return;case"Enter":case"Tab":rt.value.length>0&&(b.preventDefault(),b.stopPropagation(),Tt(rt.value[L.value]));return;case"Escape":b.preventDefault(),b.stopPropagation(),Q.value=!1;return}if(v.value.enableShortcuts&&((b.ctrlKey||b.metaKey)&&b.key==="Enter"&&(b.preventDefault(),V()),b.ctrlKey&&b.altKey&&b.key.toLowerCase()==="p")){b.preventDefault();const f=["PUBLIC","PRIVATE","PROTECTED"],y=(f.indexOf(r.value)+1)%f.length;r.value=f[y],ve(T("editor.visibility."+r.value.toLowerCase()))}},Tt=b=>{const f=c.value,h=f.value,y=f.selectionStart,x=h.slice(0,y),R=h.slice(y),H=v.value,I=Math.min(Math.max(H.tagSpaceCount,1),5),F=H.tagBehavior==="space"?" ".repeat(I):`
`.repeat(I),K=x.replace(/#[^#\s]*$/,`#${b}${F}`);i.value=K+R,xe(()=>{const ne=K.length;f.setSelectionRange(ne,ne),f.focus()}),Q.value=!1};ye([()=>v.value.width,()=>v.value.height,()=>v.value.listMaxHeight,()=>v.value.settingHeight,()=>ge.value,()=>o.value,()=>i.value],([b,f,h,y,x,R])=>{const H=Math.min(b,Nd);let I;if(R)I=Math.min(y,mt);else if(x==="list")I=Math.min(h,mt);else{const F=document.querySelector(".editor-container"),K=document.querySelector(".content-editor"),ne=document.querySelector(".toolbar"),ke=document.querySelector(".upload-preview");if(F&&K&&ne){const Ge=ne.offsetHeight,Qe=ke?ke.offsetHeight:0,Cs=K.scrollHeight+Ge+Qe+32,Be=Math.min(f,mt);I=Math.min(Math.max(Cs,Be),mt)}else I=Math.min(f,mt)}document.documentElement.style.width=`${H}px`,document.documentElement.style.height=`${I}px`,document.body.style.width=`${H}px`,document.body.style.height=`${I}px`},{immediate:!0}),ye(()=>ge.value,b=>{b==="editor"&&xe(()=>{E()})}),ye(()=>v.value.defaultView,b=>{b&&(ge.value=b)}),ye(i,b=>{const h=(b.match(/#[^\s#]+/g)||[]).map(y=>y.slice(1));ue.value=h.filter(y=>ce.value.includes(y)),localStorage.setItem("memos-cached-tags",JSON.stringify(ue.value))},{immediate:!0});const uo=()=>{const f=(i.value.match(/#[^\s#]+/g)||[]).map(R=>R.slice(1)),h=f.filter(R=>!ue.value.includes(R)&&ce.value.includes(R)),y=ue.value.filter(R=>!f.includes(R));let x=i.value;h.forEach(R=>{x=x.replace(`#${R}`,"")}),y.forEach(R=>{x=x+(x.endsWith(`
`)?"":`
`)+`#${R}`}),x=x.replace(/\n{3,}/g,`

`),i.value=x,localStorage.setItem("memos-cached-tags",JSON.stringify(ue.value))},d=()=>{w.value=!0,setTimeout(()=>{w.value=!1},3e3)},m=(b,f,h)=>{let y=b;return v.value.useQuote&&(y=`> ${y.replace(/\n/g,`
> `)}`),v.value.addSource&&f&&(y=v.value.template.replace("{content}",y).replace("{url}",f).replace("{title}",h||"")),y},k=()=>{o.value&&(o.value=!1),ge.value="editor",xe(()=>{E()})},P=()=>{ge.value==="editor"&&(i.value="",a.value=null,_.value=[]),o.value&&(o.value=!1),ge.value="list"},C=b=>{a.value=b,i.value=b.content,u.value=b.visibility,ge.value="editor"},E=()=>{ge.value==="editor"&&!o.value&&xe(()=>{const b=document.querySelector(".editor-container");if(b){const f=Math.min(v.value.height,mt);requestAnimationFrame(()=>{b.style.height=`${f}px`,document.documentElement.style.height=`${f}px`,document.body.style.height=`${f}px`})}})};ye(()=>_.value,()=>{xe(()=>{E()})},{deep:!0});const D=()=>{xe(()=>{const b=document.querySelector(".tag-item.active");b&&b.scrollIntoView({block:"nearest",behavior:"smooth"})})};return(b,f)=>(G(),Z("div",{class:Se(["memos-extension",{dark:S(v).theme==="dark"}]),style:kt(et.value)},[p("header",null,[p("h1",null,z(S(T)("app.title")),1),p("div",ad,[p("button",{class:"view-switch-btn",onClick:f[0]||(f[0]=h=>ge.value==="editor"?P():k()),title:ge.value==="editor"?S(T)("app.switchToList"):S(T)("app.switchToEditor")},[p("i",{class:Se(ge.value==="editor"?"fas fa-list":"fas fa-edit")},null,2)],8,cd),p("div",{class:"settings-icon",onClick:N},f[17]||(f[17]=[p("i",{class:"fas fa-cog"},null,-1)]))])]),w.value?(G(),Z("div",ud,f[18]||(f[18]=[p("i",{class:"fas fa-check-circle"},null,-1),p("span",null,"已保留原文格式样式",-1)]))):_e("",!0),Me(Fu,{content:i.value,"onUpdate:content":f[1]||(f[1]=h=>i.value=h),settings:S(v),"onUpdate:settings":f[2]||(f[2]=h=>Oe(v)?v.value=h:null),editorRef:c.value,showSettings:o.value,"onUpdate:showSettings":f[3]||(f[3]=h=>o.value=h),onSettingsSaved:$},null,8,["content","settings","editorRef","showSettings"]),o.value?_e("",!0):(G(),Z(Te,{key:1},[ge.value==="editor"?(G(),Z("div",fd,[_.value.length>0?(G(),Z("div",dd,[(G(!0),Z(Te,null,st(_.value,h=>(G(),Z("div",{key:h.id,class:"upload-item"},[p("div",pd,[h.type.startsWith("image/")?(G(),Z("img",{key:0,src:h.url,alt:h.name},null,8,hd)):(G(),Z("div",gd,[f[19]||(f[19]=p("i",{class:"fas fa-file"},null,-1)),p("span",null,z(h.name),1)]))]),p("button",{class:"remove-file",onClick:y=>B(h.id)},f[20]||(f[20]=[p("i",{class:"fas fa-times"},null,-1)]),8,md)]))),128))])):_e("",!0),p("div",vd,[Pe(p("textarea",{"onUpdate:modelValue":f[4]||(f[4]=h=>i.value=h),placeholder:S(T)("editor.placeholder"),class:"content-editor",onKeydown:[Uo(Yt(V,["ctrl","prevent"]),["enter"]),Uo(Yt(V,["meta","prevent"]),["enter"]),lt],onDrop:Yt(j,["prevent"]),onPaste:W,onInput:Re,ref_key:"editorRef",ref:c},null,40,bd),[[tt,i.value]]),Q.value&&rt.value.length>0?(G(),Z("div",{key:0,class:"tag-suggestions",style:kt({position:"absolute",top:qe.value.top+"px",left:qe.value.left+"px",width:qe.value.width+"px"})},[(G(!0),Z(Te,null,st(rt.value,(h,y)=>(G(),Z("div",{key:h,class:Se(["tag-item",{active:y===L.value}]),onClick:x=>Tt(h)}," #"+z(h),11,wd))),128))],4)):_e("",!0),S(v).showWordCount?(G(),Z("div",yd,[p("span",null,z(S(T)("editor.wordCount"))+": "+z(Y.value)+"   ",1),p("span",null,z(S(T)("editor.charCount"))+": "+z(fe.value)+"   ",1),p("span",null,z(S(T)("editor.lineCount"))+": "+z(Ee.value)+"   ",1)])):_e("",!0)]),p("div",kd,[p("div",xd,[p("button",{title:S(T)("editor.tools.heading"),onClick:f[5]||(f[5]=h=>U("# "))},f[21]||(f[21]=[p("i",{class:"fas fa-heading"},null,-1)]),8,_d),p("button",{title:S(T)("editor.tools.bold"),onClick:f[6]||(f[6]=h=>U("**","**"))},f[22]||(f[22]=[p("i",{class:"fas fa-bold"},null,-1)]),8,Td),p("button",{title:S(T)("editor.tools.italic"),onClick:f[7]||(f[7]=h=>U("*","*"))},f[23]||(f[23]=[p("i",{class:"fas fa-italic"},null,-1)]),8,Sd),p("button",{title:S(T)("editor.tools.strikethrough"),onClick:f[8]||(f[8]=h=>U("~~","~~"))},f[24]||(f[24]=[p("i",{class:"fas fa-strikethrough"},null,-1)]),8,$d),f[33]||(f[33]=p("span",{class:"divider"},null,-1)),p("button",{title:S(T)("editor.tools.unorderedList"),onClick:f[9]||(f[9]=h=>U("- "))},f[25]||(f[25]=[p("i",{class:"fas fa-list-ul"},null,-1)]),8,Cd),p("button",{title:S(T)("editor.tools.orderedList"),onClick:f[10]||(f[10]=h=>U("1. "))},f[26]||(f[26]=[p("i",{class:"fas fa-list-ol"},null,-1)]),8,Ed),p("button",{title:S(T)("editor.tools.taskList"),onClick:f[11]||(f[11]=h=>U("- [ ] "))},f[27]||(f[27]=[p("i",{class:"fas fa-tasks"},null,-1)]),8,Ad),f[34]||(f[34]=p("span",{class:"divider"},null,-1)),p("button",{title:S(T)("editor.tools.quote"),onClick:f[12]||(f[12]=h=>U("> "))},f[28]||(f[28]=[p("i",{class:"fas fa-quote-right"},null,-1)]),8,Pd),p("button",{title:S(T)("editor.tools.codeBlock"),onClick:de},f[29]||(f[29]=[p("i",{class:"fas fa-code"},null,-1)]),8,Rd),p("button",{title:S(T)("editor.tools.table"),onClick:Ae},f[30]||(f[30]=[p("i",{class:"fas fa-table"},null,-1)]),8,Md),p("button",{title:S(T)("editor.tools.link"),onClick:f[13]||(f[13]=h=>U("[","](url)"))},f[31]||(f[31]=[p("i",{class:"fas fa-link"},null,-1)]),8,Od),p("button",{title:S(T)("editor.tools.divider"),onClick:f[14]||(f[14]=h=>U(`
---
`))},f[32]||(f[32]=[p("i",{class:"fas fa-minus"},null,-1)]),8,Id)]),p("div",Ld,[p("div",Vd,[p("label",{class:"upload-btn",title:S(T)("editor.tools.uploadImage")},[f[35]||(f[35]=p("i",{class:"fas fa-image"},null,-1)),p("input",{type:"file",accept:"image/*",multiple:"",onChange:we,style:{display:"none"}},null,32)],8,Dd),p("label",{class:"upload-btn",title:S(T)("editor.tools.uploadFile")},[f[36]||(f[36]=p("i",{class:"fas fa-paperclip"},null,-1)),p("input",{type:"file",multiple:"",onChange:we,style:{display:"none"}},null,32)],8,Bd)]),p("div",zd,[S(v).apiVersion!=="v25"?(G(),Zn(eo,{key:0,modelValue:ue.value,"onUpdate:modelValue":[f[15]||(f[15]=h=>ue.value=h),uo],options:ce.value,placeholder:S(T)("editor.selectTag")},null,8,["modelValue","options","placeholder"])):_e("",!0),Me(ls,{modelValue:r.value,"onUpdate:modelValue":f[16]||(f[16]=h=>r.value=h),options:[{value:"PUBLIC",label:S(T)("editor.visibility.public")},{value:"PRIVATE",label:S(T)("editor.visibility.private")},{value:"PROTECTED",label:S(T)("editor.visibility.protected")}]},null,8,["modelValue","options"]),p("button",{class:"submit-btn",onClick:V},z(S(T)("editor.submit")),1)])])]),M.value?(G(),Z("div",jd,[p("div",{class:"progress-bar",style:kt({width:O.value+"%"})},null,4),p("span",Hd,z(S(T)("editor.uploading"))+" "+z(O.value)+"%",1)])):_e("",!0)])):(G(),Z("div",Fd,[Me(ld,{settings:S(v),onSwitchToEditor:k,onEditMemo:C},null,8,["settings"])]))],64))],6))}}),qd=rn(Ud,[["__scopeId","data-v-3e0cb7f3"]]),Wd=za(qd);Wd.mount("#app");
