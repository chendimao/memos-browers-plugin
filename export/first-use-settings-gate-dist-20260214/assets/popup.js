var $i=Object.defineProperty;var Ci=(e,t,s)=>t in e?$i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var pe=(e,t,s)=>Ci(e,typeof t!="symbol"?t+"":t,s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Bn(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const ve={},Qt=[],ot=()=>{},Ei=()=>!1,Xs=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),zn=e=>e.startsWith("onUpdate:"),je=Object.assign,jn=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Ai=Object.prototype.hasOwnProperty,fe=(e,t)=>Ai.call(e,t),se=Array.isArray,Gt=e=>Ts(e)==="[object Map]",ss=e=>Ts(e)==="[object Set]",gr=e=>Ts(e)==="[object Date]",re=e=>typeof e=="function",Pe=e=>typeof e=="string",dt=e=>typeof e=="symbol",ye=e=>e!==null&&typeof e=="object",to=e=>(ye(e)||re(e))&&re(e.then)&&re(e.catch),so=Object.prototype.toString,Ts=e=>so.call(e),Pi=e=>Ts(e).slice(8,-1),no=e=>Ts(e)==="[object Object]",Hn=e=>Pe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,us=Bn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),en=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Ri=/-(\w)/g,Et=en(e=>e.replace(Ri,(t,s)=>s?s.toUpperCase():"")),Mi=/\B([A-Z])/g,At=en(e=>e.replace(Mi,"-$1").toLowerCase()),ro=en(e=>e.charAt(0).toUpperCase()+e.slice(1)),dn=en(e=>e?`on${ro(e)}`:""),Ct=(e,t)=>!Object.is(e,t),Ds=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},oo=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},Fs=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let mr;const tn=()=>mr||(mr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function kt(e){if(se(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],r=Pe(n)?Li(n):kt(n);if(r)for(const o in r)t[o]=r[o]}return t}else if(Pe(e)||ye(e))return e}const Oi=/;(?![^(]*\))/g,Ii=/:([^]+)/,Vi=/\/\*[^]*?\*\//g;function Li(e){const t={};return e.replace(Vi,"").split(Oi).forEach(s=>{if(s){const n=s.split(Ii);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Ae(e){let t="";if(Pe(e))t=e;else if(se(e))for(let s=0;s<e.length;s++){const n=Ae(e[s]);n&&(t+=n+" ")}else if(ye(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const Di="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Bi=Bn(Di);function io(e){return!!e||e===""}function zi(e,t){if(e.length!==t.length)return!1;let s=!0;for(let n=0;s&&n<e.length;n++)s=Ss(e[n],t[n]);return s}function Ss(e,t){if(e===t)return!0;let s=gr(e),n=gr(t);if(s||n)return s&&n?e.getTime()===t.getTime():!1;if(s=dt(e),n=dt(t),s||n)return e===t;if(s=se(e),n=se(t),s||n)return s&&n?zi(e,t):!1;if(s=ye(e),n=ye(t),s||n){if(!s||!n)return!1;const r=Object.keys(e).length,o=Object.keys(t).length;if(r!==o)return!1;for(const i in e){const l=e.hasOwnProperty(i),c=t.hasOwnProperty(i);if(l&&!c||!l&&c||!Ss(e[i],t[i]))return!1}}return String(e)===String(t)}function Fn(e,t){return e.findIndex(s=>Ss(s,t))}const lo=e=>!!(e&&e.__v_isRef===!0),H=e=>Pe(e)?e:e==null?"":se(e)||ye(e)&&(e.toString===so||!re(e.toString))?lo(e)?H(e.value):JSON.stringify(e,ao,2):String(e),ao=(e,t)=>lo(t)?ao(e,t.value):Gt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,r],o)=>(s[pn(n,o)+" =>"]=r,s),{})}:ss(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>pn(s))}:dt(t)?pn(t):ye(t)&&!se(t)&&!no(t)?String(t):t,pn=(e,t="")=>{var s;return dt(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ne;class ji{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ne,!t&&Ne&&(this.index=(Ne.scopes||(Ne.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=Ne;try{return Ne=this,t()}finally{Ne=s}}}on(){Ne=this}off(){Ne=this.parent}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function co(){return Ne}function Hi(e,t=!1){Ne&&Ne.cleanups.push(e)}let be;const hn=new WeakSet;class uo{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ne&&Ne.active&&Ne.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,hn.has(this)&&(hn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||po(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,vr(this),ho(this);const t=be,s=it;be=this,it=!0;try{return this.fn()}finally{go(this),be=t,it=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Wn(t);this.deps=this.depsTail=void 0,vr(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?hn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){kn(this)&&this.run()}get dirty(){return kn(this)}}let fo=0,fs,ds;function po(e,t=!1){if(e.flags|=8,t){e.next=ds,ds=e;return}e.next=fs,fs=e}function Un(){fo++}function Nn(){if(--fo>0)return;if(ds){let t=ds;for(ds=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;fs;){let t=fs;for(fs=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function ho(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function go(e){let t,s=e.depsTail,n=s;for(;n;){const r=n.prevDep;n.version===-1?(n===s&&(s=r),Wn(n),Fi(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=r}e.deps=t,e.depsTail=s}function kn(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(mo(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function mo(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===ms))return;e.globalVersion=ms;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!kn(e)){e.flags&=-3;return}const s=be,n=it;be=e,it=!0;try{ho(e);const r=e.fn(e._value);(t.version===0||Ct(r,e._value))&&(e._value=r,t.version++)}catch(r){throw t.version++,r}finally{be=s,it=n,go(e),e.flags&=-3}}function Wn(e,t=!1){const{dep:s,prevSub:n,nextSub:r}=e;if(n&&(n.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let o=s.computed.deps;o;o=o.nextDep)Wn(o,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Fi(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let it=!0;const vo=[];function Pt(){vo.push(it),it=!1}function Rt(){const e=vo.pop();it=e===void 0?!0:e}function vr(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=be;be=void 0;try{t()}finally{be=s}}}let ms=0;class Ui{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class qn{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!be||!it||be===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==be)s=this.activeLink=new Ui(be,this),be.deps?(s.prevDep=be.depsTail,be.depsTail.nextDep=s,be.depsTail=s):be.deps=be.depsTail=s,bo(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=be.depsTail,s.nextDep=void 0,be.depsTail.nextDep=s,be.depsTail=s,be.deps===s&&(be.deps=n)}return s}trigger(t){this.version++,ms++,this.notify(t)}notify(t){Un();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Nn()}}}function bo(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)bo(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const xn=new WeakMap,zt=Symbol(""),Tn=Symbol(""),vs=Symbol("");function De(e,t,s){if(it&&be){let n=xn.get(e);n||xn.set(e,n=new Map);let r=n.get(s);r||(n.set(s,r=new qn),r.map=n,r.key=s),r.track()}}function bt(e,t,s,n,r,o){const i=xn.get(e);if(!i){ms++;return}const l=c=>{c&&c.trigger()};if(Un(),t==="clear")i.forEach(l);else{const c=se(e),a=c&&Hn(s);if(c&&s==="length"){const u=Number(n);i.forEach((g,y)=>{(y==="length"||y===vs||!dt(y)&&y>=u)&&l(g)})}else switch((s!==void 0||i.has(void 0))&&l(i.get(s)),a&&l(i.get(vs)),t){case"add":c?a&&l(i.get("length")):(l(i.get(zt)),Gt(e)&&l(i.get(Tn)));break;case"delete":c||(l(i.get(zt)),Gt(e)&&l(i.get(Tn)));break;case"set":Gt(e)&&l(i.get(zt));break}}Nn()}function qt(e){const t=ue(e);return t===e?t:(De(t,"iterate",vs),Ze(e)?t:t.map(Be))}function sn(e){return De(e=ue(e),"iterate",vs),e}const Ni={__proto__:null,[Symbol.iterator](){return gn(this,Symbol.iterator,Be)},concat(...e){return qt(this).concat(...e.map(t=>se(t)?qt(t):t))},entries(){return gn(this,"entries",e=>(e[1]=Be(e[1]),e))},every(e,t){return ht(this,"every",e,t,void 0,arguments)},filter(e,t){return ht(this,"filter",e,t,s=>s.map(Be),arguments)},find(e,t){return ht(this,"find",e,t,Be,arguments)},findIndex(e,t){return ht(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return ht(this,"findLast",e,t,Be,arguments)},findLastIndex(e,t){return ht(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return ht(this,"forEach",e,t,void 0,arguments)},includes(...e){return mn(this,"includes",e)},indexOf(...e){return mn(this,"indexOf",e)},join(e){return qt(this).join(e)},lastIndexOf(...e){return mn(this,"lastIndexOf",e)},map(e,t){return ht(this,"map",e,t,void 0,arguments)},pop(){return ns(this,"pop")},push(...e){return ns(this,"push",e)},reduce(e,...t){return br(this,"reduce",e,t)},reduceRight(e,...t){return br(this,"reduceRight",e,t)},shift(){return ns(this,"shift")},some(e,t){return ht(this,"some",e,t,void 0,arguments)},splice(...e){return ns(this,"splice",e)},toReversed(){return qt(this).toReversed()},toSorted(e){return qt(this).toSorted(e)},toSpliced(...e){return qt(this).toSpliced(...e)},unshift(...e){return ns(this,"unshift",e)},values(){return gn(this,"values",Be)}};function gn(e,t,s){const n=sn(e),r=n[t]();return n!==e&&!Ze(e)&&(r._next=r.next,r.next=()=>{const o=r._next();return o.value&&(o.value=s(o.value)),o}),r}const Wi=Array.prototype;function ht(e,t,s,n,r,o){const i=sn(e),l=i!==e&&!Ze(e),c=i[t];if(c!==Wi[t]){const g=c.apply(e,o);return l?Be(g):g}let a=s;i!==e&&(l?a=function(g,y){return s.call(this,Be(g),y,e)}:s.length>2&&(a=function(g,y){return s.call(this,g,y,e)}));const u=c.call(i,a,n);return l&&r?r(u):u}function br(e,t,s,n){const r=sn(e);let o=s;return r!==e&&(Ze(e)?s.length>3&&(o=function(i,l,c){return s.call(this,i,l,c,e)}):o=function(i,l,c){return s.call(this,i,Be(l),c,e)}),r[t](o,...n)}function mn(e,t,s){const n=ue(e);De(n,"iterate",vs);const r=n[t](...s);return(r===-1||r===!1)&&Zn(s[0])?(s[0]=ue(s[0]),n[t](...s)):r}function ns(e,t,s=[]){Pt(),Un();const n=ue(e)[t].apply(e,s);return Nn(),Rt(),n}const qi=Bn("__proto__,__v_isRef,__isVue"),wo=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(dt));function Ki(e){dt(e)||(e=String(e));const t=ue(this);return De(t,"has",e),t.hasOwnProperty(e)}class yo{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const r=this._isReadonly,o=this._isShallow;if(s==="__v_isReactive")return!r;if(s==="__v_isReadonly")return r;if(s==="__v_isShallow")return o;if(s==="__v_raw")return n===(r?o?nl:So:o?To:xo).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const i=se(t);if(!r){let c;if(i&&(c=Ni[s]))return c;if(s==="hasOwnProperty")return Ki}const l=Reflect.get(t,s,Le(t)?t:n);return(dt(s)?wo.has(s):qi(s))||(r||De(t,"get",s),o)?l:Le(l)?i&&Hn(s)?l:l.value:ye(l)?r?Qn(l):Jn(l):l}}class ko extends yo{constructor(t=!1){super(!1,t)}set(t,s,n,r){let o=t[s];if(!this._isShallow){const c=jt(o);if(!Ze(n)&&!jt(n)&&(o=ue(o),n=ue(n)),!se(t)&&Le(o)&&!Le(n))return c?!1:(o.value=n,!0)}const i=se(t)&&Hn(s)?Number(s)<t.length:fe(t,s),l=Reflect.set(t,s,n,Le(t)?t:r);return t===ue(r)&&(i?Ct(n,o)&&bt(t,"set",s,n):bt(t,"add",s,n)),l}deleteProperty(t,s){const n=fe(t,s);t[s];const r=Reflect.deleteProperty(t,s);return r&&n&&bt(t,"delete",s,void 0),r}has(t,s){const n=Reflect.has(t,s);return(!dt(s)||!wo.has(s))&&De(t,"has",s),n}ownKeys(t){return De(t,"iterate",se(t)?"length":zt),Reflect.ownKeys(t)}}class Ji extends yo{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Qi=new ko,Gi=new Ji,Zi=new ko(!0);const Sn=e=>e,Ps=e=>Reflect.getPrototypeOf(e);function Yi(e,t,s){return function(...n){const r=this.__v_raw,o=ue(r),i=Gt(o),l=e==="entries"||e===Symbol.iterator&&i,c=e==="keys"&&i,a=r[e](...n),u=s?Sn:t?_n:Be;return!t&&De(o,"iterate",c?Tn:zt),{next(){const{value:g,done:y}=a.next();return y?{value:g,done:y}:{value:l?[u(g[0]),u(g[1])]:u(g),done:y}},[Symbol.iterator](){return this}}}}function Rs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Xi(e,t){const s={get(r){const o=this.__v_raw,i=ue(o),l=ue(r);e||(Ct(r,l)&&De(i,"get",r),De(i,"get",l));const{has:c}=Ps(i),a=t?Sn:e?_n:Be;if(c.call(i,r))return a(o.get(r));if(c.call(i,l))return a(o.get(l));o!==i&&o.get(r)},get size(){const r=this.__v_raw;return!e&&De(ue(r),"iterate",zt),Reflect.get(r,"size",r)},has(r){const o=this.__v_raw,i=ue(o),l=ue(r);return e||(Ct(r,l)&&De(i,"has",r),De(i,"has",l)),r===l?o.has(r):o.has(r)||o.has(l)},forEach(r,o){const i=this,l=i.__v_raw,c=ue(l),a=t?Sn:e?_n:Be;return!e&&De(c,"iterate",zt),l.forEach((u,g)=>r.call(o,a(u),a(g),i))}};return je(s,e?{add:Rs("add"),set:Rs("set"),delete:Rs("delete"),clear:Rs("clear")}:{add(r){!t&&!Ze(r)&&!jt(r)&&(r=ue(r));const o=ue(this);return Ps(o).has.call(o,r)||(o.add(r),bt(o,"add",r,r)),this},set(r,o){!t&&!Ze(o)&&!jt(o)&&(o=ue(o));const i=ue(this),{has:l,get:c}=Ps(i);let a=l.call(i,r);a||(r=ue(r),a=l.call(i,r));const u=c.call(i,r);return i.set(r,o),a?Ct(o,u)&&bt(i,"set",r,o):bt(i,"add",r,o),this},delete(r){const o=ue(this),{has:i,get:l}=Ps(o);let c=i.call(o,r);c||(r=ue(r),c=i.call(o,r)),l&&l.call(o,r);const a=o.delete(r);return c&&bt(o,"delete",r,void 0),a},clear(){const r=ue(this),o=r.size!==0,i=r.clear();return o&&bt(r,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(r=>{s[r]=Yi(r,e,t)}),s}function Kn(e,t){const s=Xi(e,t);return(n,r,o)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?n:Reflect.get(fe(s,r)&&r in n?s:n,r,o)}const el={get:Kn(!1,!1)},tl={get:Kn(!1,!0)},sl={get:Kn(!0,!1)};const xo=new WeakMap,To=new WeakMap,So=new WeakMap,nl=new WeakMap;function rl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ol(e){return e.__v_skip||!Object.isExtensible(e)?0:rl(Pi(e))}function Jn(e){return jt(e)?e:Gn(e,!1,Qi,el,xo)}function il(e){return Gn(e,!1,Zi,tl,To)}function Qn(e){return Gn(e,!0,Gi,sl,So)}function Gn(e,t,s,n,r){if(!ye(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=r.get(e);if(o)return o;const i=ol(e);if(i===0)return e;const l=new Proxy(e,i===2?n:s);return r.set(e,l),l}function Zt(e){return jt(e)?Zt(e.__v_raw):!!(e&&e.__v_isReactive)}function jt(e){return!!(e&&e.__v_isReadonly)}function Ze(e){return!!(e&&e.__v_isShallow)}function Zn(e){return e?!!e.__v_raw:!1}function ue(e){const t=e&&e.__v_raw;return t?ue(t):e}function ll(e){return!fe(e,"__v_skip")&&Object.isExtensible(e)&&oo(e,"__v_skip",!0),e}const Be=e=>ye(e)?Jn(e):e,_n=e=>ye(e)?Qn(e):e;function Le(e){return e?e.__v_isRef===!0:!1}function J(e){return _o(e,!1)}function al(e){return _o(e,!0)}function _o(e,t){return Le(e)?e:new cl(e,t)}class cl{constructor(t,s){this.dep=new qn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:ue(t),this._value=s?t:Be(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,n=this.__v_isShallow||Ze(t)||jt(t);t=n?t:ue(t),Ct(t,s)&&(this._rawValue=t,this._value=n?t:Be(t),this.dep.trigger())}}function T(e){return Le(e)?e.value:e}const ul={get:(e,t,s)=>t==="__v_raw"?e:T(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const r=e[t];return Le(r)&&!Le(s)?(r.value=s,!0):Reflect.set(e,t,s,n)}};function $o(e){return Zt(e)?e:new Proxy(e,ul)}class fl{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new qn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ms-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&be!==this)return po(this,!0),!0}get value(){const t=this.dep.track();return mo(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function dl(e,t,s=!1){let n,r;return re(e)?n=e:(n=e.get,r=e.set),new fl(n,r,s)}const Ms={},Us=new WeakMap;let Dt;function pl(e,t=!1,s=Dt){if(s){let n=Us.get(s);n||Us.set(s,n=[]),n.push(e)}}function hl(e,t,s=ve){const{immediate:n,deep:r,once:o,scheduler:i,augmentJob:l,call:c}=s,a=V=>r?V:Ze(V)||r===!1||r===0?wt(V,1):wt(V);let u,g,y,f,S=!1,$=!1;if(Le(e)?(g=()=>e.value,S=Ze(e)):Zt(e)?(g=()=>a(e),S=!0):se(e)?($=!0,S=e.some(V=>Zt(V)||Ze(V)),g=()=>e.map(V=>{if(Le(V))return V.value;if(Zt(V))return a(V);if(re(V))return c?c(V,2):V()})):re(e)?t?g=c?()=>c(e,2):e:g=()=>{if(y){Pt();try{y()}finally{Rt()}}const V=Dt;Dt=u;try{return c?c(e,3,[f]):e(f)}finally{Dt=V}}:g=ot,t&&r){const V=g,ie=r===!0?1/0:r;g=()=>wt(V(),ie)}const P=co(),N=()=>{u.stop(),P&&P.active&&jn(P.effects,u)};if(o&&t){const V=t;t=(...ie)=>{V(...ie),N()}}let q=$?new Array(e.length).fill(Ms):Ms;const X=V=>{if(!(!(u.flags&1)||!u.dirty&&!V))if(t){const ie=u.run();if(r||S||($?ie.some((ke,ce)=>Ct(ke,q[ce])):Ct(ie,q))){y&&y();const ke=Dt;Dt=u;try{const ce=[ie,q===Ms?void 0:$&&q[0]===Ms?[]:q,f];c?c(t,3,ce):t(...ce),q=ie}finally{Dt=ke}}}else u.run()};return l&&l(X),u=new uo(g),u.scheduler=i?()=>i(X,!1):X,f=V=>pl(V,!1,u),y=u.onStop=()=>{const V=Us.get(u);if(V){if(c)c(V,4);else for(const ie of V)ie();Us.delete(u)}},t?n?X(!0):q=u.run():i?i(X.bind(null,!0),!0):u.run(),N.pause=u.pause.bind(u),N.resume=u.resume.bind(u),N.stop=N,N}function wt(e,t=1/0,s){if(t<=0||!ye(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,Le(e))wt(e.value,t,s);else if(se(e))for(let n=0;n<e.length;n++)wt(e[n],t,s);else if(ss(e)||Gt(e))e.forEach(n=>{wt(n,t,s)});else if(no(e)){for(const n in e)wt(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&wt(e[n],t,s)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function _s(e,t,s,n){try{return n?e(...n):e()}catch(r){nn(r,t,s)}}function pt(e,t,s,n){if(re(e)){const r=_s(e,t,s,n);return r&&to(r)&&r.catch(o=>{nn(o,t,s)}),r}if(se(e)){const r=[];for(let o=0;o<e.length;o++)r.push(pt(e[o],t,s,n));return r}}function nn(e,t,s,n=!0){const r=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||ve;if(t){let l=t.parent;const c=t.proxy,a=`https://vuejs.org/error-reference/#runtime-${s}`;for(;l;){const u=l.ec;if(u){for(let g=0;g<u.length;g++)if(u[g](e,c,a)===!1)return}l=l.parent}if(o){Pt(),_s(o,null,10,[e,c,a]),Rt();return}}gl(e,s,r,n,i)}function gl(e,t,s,n=!0,r=!1){if(r)throw e;console.error(e)}const We=[];let ut=-1;const Yt=[];let St=null,Jt=0;const Co=Promise.resolve();let Ns=null;function _e(e){const t=Ns||Co;return e?t.then(this?e.bind(this):e):t}function ml(e){let t=ut+1,s=We.length;for(;t<s;){const n=t+s>>>1,r=We[n],o=bs(r);o<e||o===e&&r.flags&2?t=n+1:s=n}return t}function Yn(e){if(!(e.flags&1)){const t=bs(e),s=We[We.length-1];!s||!(e.flags&2)&&t>=bs(s)?We.push(e):We.splice(ml(t),0,e),e.flags|=1,Eo()}}function Eo(){Ns||(Ns=Co.then(Ro))}function Ao(e){se(e)?Yt.push(...e):St&&e.id===-1?St.splice(Jt+1,0,e):e.flags&1||(Yt.push(e),e.flags|=1),Eo()}function wr(e,t,s=ut+1){for(;s<We.length;s++){const n=We[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;We.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Po(e){if(Yt.length){const t=[...new Set(Yt)].sort((s,n)=>bs(s)-bs(n));if(Yt.length=0,St){St.push(...t);return}for(St=t,Jt=0;Jt<St.length;Jt++){const s=St[Jt];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}St=null,Jt=0}}const bs=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Ro(e){try{for(ut=0;ut<We.length;ut++){const t=We[ut];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),_s(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;ut<We.length;ut++){const t=We[ut];t&&(t.flags&=-2)}ut=-1,We.length=0,Po(),Ns=null,(We.length||Yt.length)&&Ro()}}let Qe=null,Mo=null;function Ws(e){const t=Qe;return Qe=e,Mo=e&&e.type.__scopeId||null,t}function vl(e,t=Qe,s){if(!t||e._n)return e;const n=(...r)=>{n._d&&Er(-1);const o=Ws(t);let i;try{i=e(...r)}finally{Ws(o),n._d&&Er(1)}return i};return n._n=!0,n._c=!0,n._d=!0,n}function Oe(e,t){if(Qe===null)return e;const s=an(Qe),n=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,i,l,c=ve]=t[r];o&&(re(o)&&(o={mounted:o,updated:o}),o.deep&&wt(i),n.push({dir:o,instance:s,value:i,oldValue:void 0,arg:l,modifiers:c}))}return e}function Vt(e,t,s,n){const r=e.dirs,o=t&&t.dirs;for(let i=0;i<r.length;i++){const l=r[i];o&&(l.oldValue=o[i].value);let c=l.dir[n];c&&(Pt(),pt(c,s,8,[e.el,l,e,t]),Rt())}}const bl=Symbol("_vte"),wl=e=>e.__isTeleport;function Xn(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Xn(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function er(e,t){return re(e)?je({name:e.name},t,{setup:e}):e}function Oo(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function qs(e,t,s,n,r=!1){if(se(e)){e.forEach((S,$)=>qs(S,t&&(se(t)?t[$]:t),s,n,r));return}if(ps(n)&&!r){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&qs(e,t,s,n.component.subTree);return}const o=n.shapeFlag&4?an(n.component):n.el,i=r?null:o,{i:l,r:c}=e,a=t&&t.r,u=l.refs===ve?l.refs={}:l.refs,g=l.setupState,y=ue(g),f=g===ve?()=>!1:S=>fe(y,S);if(a!=null&&a!==c&&(Pe(a)?(u[a]=null,f(a)&&(g[a]=null)):Le(a)&&(a.value=null)),re(c))_s(c,l,12,[i,u]);else{const S=Pe(c),$=Le(c);if(S||$){const P=()=>{if(e.f){const N=S?f(c)?g[c]:u[c]:c.value;r?se(N)&&jn(N,o):se(N)?N.includes(o)||N.push(o):S?(u[c]=[o],f(c)&&(g[c]=u[c])):(c.value=[o],e.k&&(u[e.k]=c.value))}else S?(u[c]=i,f(c)&&(g[c]=i)):$&&(c.value=i,e.k&&(u[e.k]=i))};i?(P.id=-1,Je(P,s)):P()}}}tn().requestIdleCallback;tn().cancelIdleCallback;const ps=e=>!!e.type.__asyncLoader,Io=e=>e.type.__isKeepAlive;function yl(e,t){Vo(e,"a",t)}function kl(e,t){Vo(e,"da",t)}function Vo(e,t,s=ze){const n=e.__wdc||(e.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(rn(t,n,s),s){let r=s.parent;for(;r&&r.parent;)Io(r.parent.vnode)&&xl(n,t,s,r),r=r.parent}}function xl(e,t,s,n){const r=rn(t,e,n,!0);Ht(()=>{jn(n[t],r)},s)}function rn(e,t,s=ze,n=!1){if(s){const r=s[e]||(s[e]=[]),o=t.__weh||(t.__weh=(...i)=>{Pt();const l=$s(s),c=pt(t,s,e,i);return l(),Rt(),c});return n?r.unshift(o):r.push(o),o}}const Tt=e=>(t,s=ze)=>{(!ys||e==="sp")&&rn(e,(...n)=>t(...n),s)},Tl=Tt("bm"),Nt=Tt("m"),Lo=Tt("bu"),Sl=Tt("u"),_l=Tt("bum"),Ht=Tt("um"),$l=Tt("sp"),Cl=Tt("rtg"),El=Tt("rtc");function Al(e,t=ze){rn("ec",e,t)}const Pl=Symbol.for("v-ndc");function nt(e,t,s,n){let r;const o=s,i=se(e);if(i||Pe(e)){const l=i&&Zt(e);let c=!1;l&&(c=!Ze(e),e=sn(e)),r=new Array(e.length);for(let a=0,u=e.length;a<u;a++)r[a]=t(c?Be(e[a]):e[a],a,void 0,o)}else if(typeof e=="number"){r=new Array(e);for(let l=0;l<e;l++)r[l]=t(l+1,l,void 0,o)}else if(ye(e))if(e[Symbol.iterator])r=Array.from(e,(l,c)=>t(l,c,void 0,o));else{const l=Object.keys(e);r=new Array(l.length);for(let c=0,a=l.length;c<a;c++){const u=l[c];r[c]=t(e[u],u,c,o)}}else r=[];return r}const $n=e=>e?oi(e)?an(e):$n(e.parent):null,hs=je(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>$n(e.parent),$root:e=>$n(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Bo(e),$forceUpdate:e=>e.f||(e.f=()=>{Yn(e.update)}),$nextTick:e=>e.n||(e.n=_e.bind(e.proxy)),$watch:e=>Yl.bind(e)}),vn=(e,t)=>e!==ve&&!e.__isScriptSetup&&fe(e,t),Rl={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:r,props:o,accessCache:i,type:l,appContext:c}=e;let a;if(t[0]!=="$"){const f=i[t];if(f!==void 0)switch(f){case 1:return n[t];case 2:return r[t];case 4:return s[t];case 3:return o[t]}else{if(vn(n,t))return i[t]=1,n[t];if(r!==ve&&fe(r,t))return i[t]=2,r[t];if((a=e.propsOptions[0])&&fe(a,t))return i[t]=3,o[t];if(s!==ve&&fe(s,t))return i[t]=4,s[t];Cn&&(i[t]=0)}}const u=hs[t];let g,y;if(u)return t==="$attrs"&&De(e.attrs,"get",""),u(e);if((g=l.__cssModules)&&(g=g[t]))return g;if(s!==ve&&fe(s,t))return i[t]=4,s[t];if(y=c.config.globalProperties,fe(y,t))return y[t]},set({_:e},t,s){const{data:n,setupState:r,ctx:o}=e;return vn(r,t)?(r[t]=s,!0):n!==ve&&fe(n,t)?(n[t]=s,!0):fe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:r,propsOptions:o}},i){let l;return!!s[i]||e!==ve&&fe(e,i)||vn(t,i)||(l=o[0])&&fe(l,i)||fe(n,i)||fe(hs,i)||fe(r.config.globalProperties,i)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:fe(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function yr(e){return se(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Cn=!0;function Ml(e){const t=Bo(e),s=e.proxy,n=e.ctx;Cn=!1,t.beforeCreate&&kr(t.beforeCreate,e,"bc");const{data:r,computed:o,methods:i,watch:l,provide:c,inject:a,created:u,beforeMount:g,mounted:y,beforeUpdate:f,updated:S,activated:$,deactivated:P,beforeDestroy:N,beforeUnmount:q,destroyed:X,unmounted:V,render:ie,renderTracked:ke,renderTriggered:ce,errorCaptured:le,serverPrefetch:Se,expose:G,inheritAttrs:ge,components:Ee,directives:lt,filters:Ye}=t;if(a&&Ol(a,n,null),i)for(const _ in i){const E=i[_];re(E)&&(n[_]=E.bind(s))}if(r){const _=r.call(s,s);ye(_)&&(e.data=Jn(_))}if(Cn=!0,o)for(const _ in o){const E=o[_],me=re(E)?E.bind(s,s):re(E.get)?E.get.bind(s,s):ot,Re=!re(E)&&re(E.set)?E.set.bind(s):ot,xe=Ce({get:me,set:Re});Object.defineProperty(n,_,{enumerable:!0,configurable:!0,get:()=>xe.value,set:F=>xe.value=F})}if(l)for(const _ in l)Do(l[_],n,s,_);if(c){const _=re(c)?c.call(s):c;Reflect.ownKeys(_).forEach(E=>{zl(E,_[E])})}u&&kr(u,e,"c");function L(_,E){se(E)?E.forEach(me=>_(me.bind(s))):E&&_(E.bind(s))}if(L(Tl,g),L(Nt,y),L(Lo,f),L(Sl,S),L(yl,$),L(kl,P),L(Al,le),L(El,ke),L(Cl,ce),L(_l,q),L(Ht,V),L($l,Se),se(G))if(G.length){const _=e.exposed||(e.exposed={});G.forEach(E=>{Object.defineProperty(_,E,{get:()=>s[E],set:me=>s[E]=me})})}else e.exposed||(e.exposed={});ie&&e.render===ot&&(e.render=ie),ge!=null&&(e.inheritAttrs=ge),Ee&&(e.components=Ee),lt&&(e.directives=lt),Se&&Oo(e)}function Ol(e,t,s=ot){se(e)&&(e=En(e));for(const n in e){const r=e[n];let o;ye(r)?"default"in r?o=Bs(r.from||n,r.default,!0):o=Bs(r.from||n):o=Bs(r),Le(o)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:i=>o.value=i}):t[n]=o}}function kr(e,t,s){pt(se(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function Do(e,t,s,n){let r=n.includes(".")?Yo(s,n):()=>s[n];if(Pe(e)){const o=t[e];re(o)&&we(r,o)}else if(re(e))we(r,e.bind(s));else if(ye(e))if(se(e))e.forEach(o=>Do(o,t,s,n));else{const o=re(e.handler)?e.handler.bind(s):t[e.handler];re(o)&&we(r,o,e)}}function Bo(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:r,optionsCache:o,config:{optionMergeStrategies:i}}=e.appContext,l=o.get(t);let c;return l?c=l:!r.length&&!s&&!n?c=t:(c={},r.length&&r.forEach(a=>Ks(c,a,i,!0)),Ks(c,t,i)),ye(t)&&o.set(t,c),c}function Ks(e,t,s,n=!1){const{mixins:r,extends:o}=t;o&&Ks(e,o,s,!0),r&&r.forEach(i=>Ks(e,i,s,!0));for(const i in t)if(!(n&&i==="expose")){const l=Il[i]||s&&s[i];e[i]=l?l(e[i],t[i]):t[i]}return e}const Il={data:xr,props:Tr,emits:Tr,methods:ls,computed:ls,beforeCreate:Ue,created:Ue,beforeMount:Ue,mounted:Ue,beforeUpdate:Ue,updated:Ue,beforeDestroy:Ue,beforeUnmount:Ue,destroyed:Ue,unmounted:Ue,activated:Ue,deactivated:Ue,errorCaptured:Ue,serverPrefetch:Ue,components:ls,directives:ls,watch:Ll,provide:xr,inject:Vl};function xr(e,t){return t?e?function(){return je(re(e)?e.call(this,this):e,re(t)?t.call(this,this):t)}:t:e}function Vl(e,t){return ls(En(e),En(t))}function En(e){if(se(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Ue(e,t){return e?[...new Set([].concat(e,t))]:t}function ls(e,t){return e?je(Object.create(null),e,t):t}function Tr(e,t){return e?se(e)&&se(t)?[...new Set([...e,...t])]:je(Object.create(null),yr(e),yr(t??{})):t}function Ll(e,t){if(!e)return t;if(!t)return e;const s=je(Object.create(null),e);for(const n in t)s[n]=Ue(e[n],t[n]);return s}function zo(){return{app:null,config:{isNativeTag:Ei,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Dl=0;function Bl(e,t){return function(n,r=null){re(n)||(n=je({},n)),r!=null&&!ye(r)&&(r=null);const o=zo(),i=new WeakSet,l=[];let c=!1;const a=o.app={_uid:Dl++,_component:n,_props:r,_container:null,_context:o,_instance:null,version:ba,get config(){return o.config},set config(u){},use(u,...g){return i.has(u)||(u&&re(u.install)?(i.add(u),u.install(a,...g)):re(u)&&(i.add(u),u(a,...g))),a},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),a},component(u,g){return g?(o.components[u]=g,a):o.components[u]},directive(u,g){return g?(o.directives[u]=g,a):o.directives[u]},mount(u,g,y){if(!c){const f=a._ceVNode||Ve(n,r);return f.appContext=o,y===!0?y="svg":y===!1&&(y=void 0),e(f,u,y),c=!0,a._container=u,u.__vue_app__=a,an(f.component)}},onUnmount(u){l.push(u)},unmount(){c&&(pt(l,a._instance,16),e(null,a._container),delete a._container.__vue_app__)},provide(u,g){return o.provides[u]=g,a},runWithContext(u){const g=Xt;Xt=a;try{return u()}finally{Xt=g}}};return a}}let Xt=null;function zl(e,t){if(ze){let s=ze.provides;const n=ze.parent&&ze.parent.provides;n===s&&(s=ze.provides=Object.create(n)),s[e]=t}}function Bs(e,t,s=!1){const n=ze||Qe;if(n||Xt){const r=Xt?Xt._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return s&&re(t)?t.call(n&&n.proxy):t}}const jo={},Ho=()=>Object.create(jo),Fo=e=>Object.getPrototypeOf(e)===jo;function jl(e,t,s,n=!1){const r={},o=Ho();e.propsDefaults=Object.create(null),Uo(e,t,r,o);for(const i in e.propsOptions[0])i in r||(r[i]=void 0);s?e.props=n?r:il(r):e.type.props?e.props=r:e.props=o,e.attrs=o}function Hl(e,t,s,n){const{props:r,attrs:o,vnode:{patchFlag:i}}=e,l=ue(r),[c]=e.propsOptions;let a=!1;if((n||i>0)&&!(i&16)){if(i&8){const u=e.vnode.dynamicProps;for(let g=0;g<u.length;g++){let y=u[g];if(on(e.emitsOptions,y))continue;const f=t[y];if(c)if(fe(o,y))f!==o[y]&&(o[y]=f,a=!0);else{const S=Et(y);r[S]=An(c,l,S,f,e,!1)}else f!==o[y]&&(o[y]=f,a=!0)}}}else{Uo(e,t,r,o)&&(a=!0);let u;for(const g in l)(!t||!fe(t,g)&&((u=At(g))===g||!fe(t,u)))&&(c?s&&(s[g]!==void 0||s[u]!==void 0)&&(r[g]=An(c,l,g,void 0,e,!0)):delete r[g]);if(o!==l)for(const g in o)(!t||!fe(t,g))&&(delete o[g],a=!0)}a&&bt(e.attrs,"set","")}function Uo(e,t,s,n){const[r,o]=e.propsOptions;let i=!1,l;if(t)for(let c in t){if(us(c))continue;const a=t[c];let u;r&&fe(r,u=Et(c))?!o||!o.includes(u)?s[u]=a:(l||(l={}))[u]=a:on(e.emitsOptions,c)||(!(c in n)||a!==n[c])&&(n[c]=a,i=!0)}if(o){const c=ue(s),a=l||ve;for(let u=0;u<o.length;u++){const g=o[u];s[g]=An(r,c,g,a[g],e,!fe(a,g))}}return i}function An(e,t,s,n,r,o){const i=e[s];if(i!=null){const l=fe(i,"default");if(l&&n===void 0){const c=i.default;if(i.type!==Function&&!i.skipFactory&&re(c)){const{propsDefaults:a}=r;if(s in a)n=a[s];else{const u=$s(r);n=a[s]=c.call(null,t),u()}}else n=c;r.ce&&r.ce._setProp(s,n)}i[0]&&(o&&!l?n=!1:i[1]&&(n===""||n===At(s))&&(n=!0))}return n}const Fl=new WeakMap;function No(e,t,s=!1){const n=s?Fl:t.propsCache,r=n.get(e);if(r)return r;const o=e.props,i={},l=[];let c=!1;if(!re(e)){const u=g=>{c=!0;const[y,f]=No(g,t,!0);je(i,y),f&&l.push(...f)};!s&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!o&&!c)return ye(e)&&n.set(e,Qt),Qt;if(se(o))for(let u=0;u<o.length;u++){const g=Et(o[u]);Sr(g)&&(i[g]=ve)}else if(o)for(const u in o){const g=Et(u);if(Sr(g)){const y=o[u],f=i[g]=se(y)||re(y)?{type:y}:je({},y),S=f.type;let $=!1,P=!0;if(se(S))for(let N=0;N<S.length;++N){const q=S[N],X=re(q)&&q.name;if(X==="Boolean"){$=!0;break}else X==="String"&&(P=!1)}else $=re(S)&&S.name==="Boolean";f[0]=$,f[1]=P,($||fe(f,"default"))&&l.push(g)}}const a=[i,l];return ye(e)&&n.set(e,a),a}function Sr(e){return e[0]!=="$"&&!us(e)}const Wo=e=>e[0]==="_"||e==="$stable",tr=e=>se(e)?e.map(ft):[ft(e)],Ul=(e,t,s)=>{if(t._n)return t;const n=vl((...r)=>tr(t(...r)),s);return n._c=!1,n},qo=(e,t,s)=>{const n=e._ctx;for(const r in e){if(Wo(r))continue;const o=e[r];if(re(o))t[r]=Ul(r,o,n);else if(o!=null){const i=tr(o);t[r]=()=>i}}},Ko=(e,t)=>{const s=tr(t);e.slots.default=()=>s},Jo=(e,t,s)=>{for(const n in t)(s||n!=="_")&&(e[n]=t[n])},Nl=(e,t,s)=>{const n=e.slots=Ho();if(e.vnode.shapeFlag&32){const r=t._;r?(Jo(n,t,s),s&&oo(n,"_",r,!0)):qo(t,n)}else t&&Ko(e,t)},Wl=(e,t,s)=>{const{vnode:n,slots:r}=e;let o=!0,i=ve;if(n.shapeFlag&32){const l=t._;l?s&&l===1?o=!1:Jo(r,t,s):(o=!t.$stable,qo(t,r)),i=t}else t&&(Ko(e,t),i={default:1});if(o)for(const l in r)!Wo(l)&&i[l]==null&&delete r[l]},Je=oa;function ql(e){return Kl(e)}function Kl(e,t){const s=tn();s.__VUE__=!0;const{insert:n,remove:r,patchProp:o,createElement:i,createText:l,createComment:c,setText:a,setElementText:u,parentNode:g,nextSibling:y,setScopeId:f=ot,insertStaticContent:S}=e,$=(d,m,k,R=null,C=null,A=null,j=void 0,B=null,I=!!m.dynamicChildren)=>{if(d===m)return;d&&!rs(d,m)&&(R=Ie(d),F(d,C,A,!0),d=null),m.patchFlag===-2&&(I=!1,m.dynamicChildren=null);const{type:M,ref:b,shapeFlag:h}=m;switch(M){case ln:P(d,m,k,R);break;case Ft:N(d,m,k,R);break;case zs:d==null&&q(m,k,R,j);break;case $e:Ee(d,m,k,R,C,A,j,B,I);break;default:h&1?ie(d,m,k,R,C,A,j,B,I):h&6?lt(d,m,k,R,C,A,j,B,I):(h&64||h&128)&&M.process(d,m,k,R,C,A,j,B,I,Ot)}b!=null&&C&&qs(b,d&&d.ref,A,m||d,!m)},P=(d,m,k,R)=>{if(d==null)n(m.el=l(m.children),k,R);else{const C=m.el=d.el;m.children!==d.children&&a(C,m.children)}},N=(d,m,k,R)=>{d==null?n(m.el=c(m.children||""),k,R):m.el=d.el},q=(d,m,k,R)=>{[d.el,d.anchor]=S(d.children,m,k,R,d.el,d.anchor)},X=({el:d,anchor:m},k,R)=>{let C;for(;d&&d!==m;)C=y(d),n(d,k,R),d=C;n(m,k,R)},V=({el:d,anchor:m})=>{let k;for(;d&&d!==m;)k=y(d),r(d),d=k;r(m)},ie=(d,m,k,R,C,A,j,B,I)=>{m.type==="svg"?j="svg":m.type==="math"&&(j="mathml"),d==null?ke(m,k,R,C,A,j,B,I):Se(d,m,C,A,j,B,I)},ke=(d,m,k,R,C,A,j,B)=>{let I,M;const{props:b,shapeFlag:h,transition:v,dirs:w}=d;if(I=d.el=i(d.type,A,b&&b.is,b),h&8?u(I,d.children):h&16&&le(d.children,I,null,R,C,bn(d,A),j,B),w&&Vt(d,null,R,"created"),ce(I,d,d.scopeId,j,R),b){for(const W in b)W!=="value"&&!us(W)&&o(I,W,null,b[W],A,R);"value"in b&&o(I,"value",null,b.value,A),(M=b.onVnodeBeforeMount)&&ct(M,R,d)}w&&Vt(d,null,R,"beforeMount");const O=Jl(C,v);O&&v.beforeEnter(I),n(I,m,k),((M=b&&b.onVnodeMounted)||O||w)&&Je(()=>{M&&ct(M,R,d),O&&v.enter(I),w&&Vt(d,null,R,"mounted")},C)},ce=(d,m,k,R,C)=>{if(k&&f(d,k),R)for(let A=0;A<R.length;A++)f(d,R[A]);if(C){let A=C.subTree;if(m===A||ei(A.type)&&(A.ssContent===m||A.ssFallback===m)){const j=C.vnode;ce(d,j,j.scopeId,j.slotScopeIds,C.parent)}}},le=(d,m,k,R,C,A,j,B,I=0)=>{for(let M=I;M<d.length;M++){const b=d[M]=B?_t(d[M]):ft(d[M]);$(null,b,m,k,R,C,A,j,B)}},Se=(d,m,k,R,C,A,j)=>{const B=m.el=d.el;let{patchFlag:I,dynamicChildren:M,dirs:b}=m;I|=d.patchFlag&16;const h=d.props||ve,v=m.props||ve;let w;if(k&&Lt(k,!1),(w=v.onVnodeBeforeUpdate)&&ct(w,k,m,d),b&&Vt(m,d,k,"beforeUpdate"),k&&Lt(k,!0),(h.innerHTML&&v.innerHTML==null||h.textContent&&v.textContent==null)&&u(B,""),M?G(d.dynamicChildren,M,B,k,R,bn(m,C),A):j||E(d,m,B,null,k,R,bn(m,C),A,!1),I>0){if(I&16)ge(B,h,v,k,C);else if(I&2&&h.class!==v.class&&o(B,"class",null,v.class,C),I&4&&o(B,"style",h.style,v.style,C),I&8){const O=m.dynamicProps;for(let W=0;W<O.length;W++){const ee=O[W],U=h[ee],Z=v[ee];(Z!==U||ee==="value")&&o(B,ee,U,Z,C,k)}}I&1&&d.children!==m.children&&u(B,m.children)}else!j&&M==null&&ge(B,h,v,k,C);((w=v.onVnodeUpdated)||b)&&Je(()=>{w&&ct(w,k,m,d),b&&Vt(m,d,k,"updated")},R)},G=(d,m,k,R,C,A,j)=>{for(let B=0;B<m.length;B++){const I=d[B],M=m[B],b=I.el&&(I.type===$e||!rs(I,M)||I.shapeFlag&70)?g(I.el):k;$(I,M,b,null,R,C,A,j,!0)}},ge=(d,m,k,R,C)=>{if(m!==k){if(m!==ve)for(const A in m)!us(A)&&!(A in k)&&o(d,A,m[A],null,C,R);for(const A in k){if(us(A))continue;const j=k[A],B=m[A];j!==B&&A!=="value"&&o(d,A,B,j,C,R)}"value"in k&&o(d,"value",m.value,k.value,C)}},Ee=(d,m,k,R,C,A,j,B,I)=>{const M=m.el=d?d.el:l(""),b=m.anchor=d?d.anchor:l("");let{patchFlag:h,dynamicChildren:v,slotScopeIds:w}=m;w&&(B=B?B.concat(w):w),d==null?(n(M,k,R),n(b,k,R),le(m.children||[],k,b,C,A,j,B,I)):h>0&&h&64&&v&&d.dynamicChildren?(G(d.dynamicChildren,v,k,C,A,j,B),(m.key!=null||C&&m===C.subTree)&&Qo(d,m,!0)):E(d,m,k,b,C,A,j,B,I)},lt=(d,m,k,R,C,A,j,B,I)=>{m.slotScopeIds=B,d==null?m.shapeFlag&512?C.ctx.activate(m,k,R,j,I):Ye(m,k,R,C,A,j,I):at(d,m,I)},Ye=(d,m,k,R,C,A,j)=>{const B=d.component=da(d,R,C);if(Io(d)&&(B.ctx.renderer=Ot),pa(B,!1,j),B.asyncDep){if(C&&C.registerDep(B,L,j),!d.el){const I=B.subTree=Ve(Ft);N(null,I,m,k)}}else L(B,d,m,k,C,A,j)},at=(d,m,k)=>{const R=m.component=d.component;if(na(d,m,k))if(R.asyncDep&&!R.asyncResolved){_(R,m,k);return}else R.next=m,R.update();else m.el=d.el,R.vnode=m},L=(d,m,k,R,C,A,j)=>{const B=()=>{if(d.isMounted){let{next:h,bu:v,u:w,parent:O,vnode:W}=d;{const ne=Go(d);if(ne){h&&(h.el=W.el,_(d,h,j)),ne.asyncDep.then(()=>{d.isUnmounted||B()});return}}let ee=h,U;Lt(d,!1),h?(h.el=W.el,_(d,h,j)):h=W,v&&Ds(v),(U=h.props&&h.props.onVnodeBeforeUpdate)&&ct(U,O,h,W),Lt(d,!0);const Z=$r(d),oe=d.subTree;d.subTree=Z,$(oe,Z,g(oe.el),Ie(oe),d,C,A),h.el=Z.el,ee===null&&ra(d,Z.el),w&&Je(w,C),(U=h.props&&h.props.onVnodeUpdated)&&Je(()=>ct(U,O,h,W),C)}else{let h;const{el:v,props:w}=m,{bm:O,m:W,parent:ee,root:U,type:Z}=d,oe=ps(m);Lt(d,!1),O&&Ds(O),!oe&&(h=w&&w.onVnodeBeforeMount)&&ct(h,ee,m),Lt(d,!0);{U.ce&&U.ce._injectChildStyle(Z);const ne=d.subTree=$r(d);$(null,ne,k,R,d,C,A),m.el=ne.el}if(W&&Je(W,C),!oe&&(h=w&&w.onVnodeMounted)){const ne=m;Je(()=>ct(h,ee,ne),C)}(m.shapeFlag&256||ee&&ps(ee.vnode)&&ee.vnode.shapeFlag&256)&&d.a&&Je(d.a,C),d.isMounted=!0,m=k=R=null}};d.scope.on();const I=d.effect=new uo(B);d.scope.off();const M=d.update=I.run.bind(I),b=d.job=I.runIfDirty.bind(I);b.i=d,b.id=d.uid,I.scheduler=()=>Yn(b),Lt(d,!0),M()},_=(d,m,k)=>{m.component=d;const R=d.vnode.props;d.vnode=m,d.next=null,Hl(d,m.props,R,k),Wl(d,m.children,k),Pt(),wr(d),Rt()},E=(d,m,k,R,C,A,j,B,I=!1)=>{const M=d&&d.children,b=d?d.shapeFlag:0,h=m.children,{patchFlag:v,shapeFlag:w}=m;if(v>0){if(v&128){Re(M,h,k,R,C,A,j,B,I);return}else if(v&256){me(M,h,k,R,C,A,j,B,I);return}}w&8?(b&16&&te(M,C,A),h!==M&&u(k,h)):b&16?w&16?Re(M,h,k,R,C,A,j,B,I):te(M,C,A,!0):(b&8&&u(k,""),w&16&&le(h,k,R,C,A,j,B,I))},me=(d,m,k,R,C,A,j,B,I)=>{d=d||Qt,m=m||Qt;const M=d.length,b=m.length,h=Math.min(M,b);let v;for(v=0;v<h;v++){const w=m[v]=I?_t(m[v]):ft(m[v]);$(d[v],w,k,null,C,A,j,B,I)}M>b?te(d,C,A,!0,!1,h):le(m,k,R,C,A,j,B,I,h)},Re=(d,m,k,R,C,A,j,B,I)=>{let M=0;const b=m.length;let h=d.length-1,v=b-1;for(;M<=h&&M<=v;){const w=d[M],O=m[M]=I?_t(m[M]):ft(m[M]);if(rs(w,O))$(w,O,k,null,C,A,j,B,I);else break;M++}for(;M<=h&&M<=v;){const w=d[h],O=m[v]=I?_t(m[v]):ft(m[v]);if(rs(w,O))$(w,O,k,null,C,A,j,B,I);else break;h--,v--}if(M>h){if(M<=v){const w=v+1,O=w<b?m[w].el:R;for(;M<=v;)$(null,m[M]=I?_t(m[M]):ft(m[M]),k,O,C,A,j,B,I),M++}}else if(M>v)for(;M<=h;)F(d[M],C,A,!0),M++;else{const w=M,O=M,W=new Map;for(M=O;M<=v;M++){const Fe=m[M]=I?_t(m[M]):ft(m[M]);Fe.key!=null&&W.set(Fe.key,M)}let ee,U=0;const Z=v-O+1;let oe=!1,ne=0;const Me=new Array(Z);for(M=0;M<Z;M++)Me[M]=0;for(M=w;M<=h;M++){const Fe=d[M];if(U>=Z){F(Fe,C,A,!0);continue}let Xe;if(Fe.key!=null)Xe=W.get(Fe.key);else for(ee=O;ee<=v;ee++)if(Me[ee-O]===0&&rs(Fe,m[ee])){Xe=ee;break}Xe===void 0?F(Fe,C,A,!0):(Me[Xe-O]=M+1,Xe>=ne?ne=Xe:oe=!0,$(Fe,m[Xe],k,null,C,A,j,B,I),U++)}const Es=oe?Ql(Me):Qt;for(ee=Es.length-1,M=Z-1;M>=0;M--){const Fe=O+M,Xe=m[Fe],As=Fe+1<b?m[Fe+1].el:R;Me[M]===0?$(null,Xe,k,As,C,A,j,B,I):oe&&(ee<0||M!==Es[ee]?xe(Xe,k,As,2):ee--)}}},xe=(d,m,k,R,C=null)=>{const{el:A,type:j,transition:B,children:I,shapeFlag:M}=d;if(M&6){xe(d.component.subTree,m,k,R);return}if(M&128){d.suspense.move(m,k,R);return}if(M&64){j.move(d,m,k,Ot);return}if(j===$e){n(A,m,k);for(let h=0;h<I.length;h++)xe(I[h],m,k,R);n(d.anchor,m,k);return}if(j===zs){X(d,m,k);return}if(R!==2&&M&1&&B)if(R===0)B.beforeEnter(A),n(A,m,k),Je(()=>B.enter(A),C);else{const{leave:h,delayLeave:v,afterLeave:w}=B,O=()=>n(A,m,k),W=()=>{h(A,()=>{O(),w&&w()})};v?v(A,O,W):W()}else n(A,m,k)},F=(d,m,k,R=!1,C=!1)=>{const{type:A,props:j,ref:B,children:I,dynamicChildren:M,shapeFlag:b,patchFlag:h,dirs:v,cacheIndex:w}=d;if(h===-2&&(C=!1),B!=null&&qs(B,null,k,d,!0),w!=null&&(m.renderCache[w]=void 0),b&256){m.ctx.deactivate(d);return}const O=b&1&&v,W=!ps(d);let ee;if(W&&(ee=j&&j.onVnodeBeforeUnmount)&&ct(ee,m,d),b&6)D(d.component,k,R);else{if(b&128){d.suspense.unmount(k,R);return}O&&Vt(d,null,m,"beforeUnmount"),b&64?d.type.remove(d,m,k,Ot,R):M&&!M.hasOnce&&(A!==$e||h>0&&h&64)?te(M,m,k,!1,!0):(A===$e&&h&384||!C&&b&16)&&te(I,m,k),R&&K(d)}(W&&(ee=j&&j.onVnodeUnmounted)||O)&&Je(()=>{ee&&ct(ee,m,d),O&&Vt(d,null,m,"unmounted")},k)},K=d=>{const{type:m,el:k,anchor:R,transition:C}=d;if(m===$e){z(k,R);return}if(m===zs){V(d);return}const A=()=>{r(k),C&&!C.persisted&&C.afterLeave&&C.afterLeave()};if(d.shapeFlag&1&&C&&!C.persisted){const{leave:j,delayLeave:B}=C,I=()=>j(k,A);B?B(d.el,A,I):I()}else A()},z=(d,m)=>{let k;for(;d!==m;)k=y(d),r(d),d=k;r(m)},D=(d,m,k)=>{const{bum:R,scope:C,job:A,subTree:j,um:B,m:I,a:M}=d;_r(I),_r(M),R&&Ds(R),C.stop(),A&&(A.flags|=8,F(j,d,m,k)),B&&Je(B,m),Je(()=>{d.isUnmounted=!0},m),m&&m.pendingBranch&&!m.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===m.pendingId&&(m.deps--,m.deps===0&&m.resolve())},te=(d,m,k,R=!1,C=!1,A=0)=>{for(let j=A;j<d.length;j++)F(d[j],m,k,R,C)},Ie=d=>{if(d.shapeFlag&6)return Ie(d.component.subTree);if(d.shapeFlag&128)return d.suspense.next();const m=y(d.anchor||d.el),k=m&&m[bl];return k?y(k):m};let Mt=!1;const He=(d,m,k)=>{d==null?m._vnode&&F(m._vnode,null,null,!0):$(m._vnode||null,d,m,null,null,null,k),m._vnode=d,Mt||(Mt=!0,wr(),Po(),Mt=!1)},Ot={p:$,um:F,m:xe,r:K,mt:Ye,mc:le,pc:E,pbc:G,n:Ie,o:e};return{render:He,hydrate:void 0,createApp:Bl(He)}}function bn({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Lt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Jl(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Qo(e,t,s=!1){const n=e.children,r=t.children;if(se(n)&&se(r))for(let o=0;o<n.length;o++){const i=n[o];let l=r[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=r[o]=_t(r[o]),l.el=i.el),!s&&l.patchFlag!==-2&&Qo(i,l)),l.type===ln&&(l.el=i.el)}}function Ql(e){const t=e.slice(),s=[0];let n,r,o,i,l;const c=e.length;for(n=0;n<c;n++){const a=e[n];if(a!==0){if(r=s[s.length-1],e[r]<a){t[n]=r,s.push(n);continue}for(o=0,i=s.length-1;o<i;)l=o+i>>1,e[s[l]]<a?o=l+1:i=l;a<e[s[o]]&&(o>0&&(t[n]=s[o-1]),s[o]=n)}}for(o=s.length,i=s[o-1];o-- >0;)s[o]=i,i=t[i];return s}function Go(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Go(t)}function _r(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Gl=Symbol.for("v-scx"),Zl=()=>Bs(Gl);function we(e,t,s){return Zo(e,t,s)}function Zo(e,t,s=ve){const{immediate:n,deep:r,flush:o,once:i}=s,l=je({},s),c=t&&n||!t&&o!=="post";let a;if(ys){if(o==="sync"){const f=Zl();a=f.__watcherHandles||(f.__watcherHandles=[])}else if(!c){const f=()=>{};return f.stop=ot,f.resume=ot,f.pause=ot,f}}const u=ze;l.call=(f,S,$)=>pt(f,u,S,$);let g=!1;o==="post"?l.scheduler=f=>{Je(f,u&&u.suspense)}:o!=="sync"&&(g=!0,l.scheduler=(f,S)=>{S?f():Yn(f)}),l.augmentJob=f=>{t&&(f.flags|=4),g&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const y=hl(e,t,l);return ys&&(a?a.push(y):c&&y()),y}function Yl(e,t,s){const n=this.proxy,r=Pe(e)?e.includes(".")?Yo(n,e):()=>n[e]:e.bind(n,n);let o;re(t)?o=t:(o=t.handler,s=t);const i=$s(this),l=Zo(r,o.bind(n),s);return i(),l}function Yo(e,t){const s=t.split(".");return()=>{let n=e;for(let r=0;r<s.length&&n;r++)n=n[s[r]];return n}}const Xl=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Et(t)}Modifiers`]||e[`${At(t)}Modifiers`];function ea(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||ve;let r=s;const o=t.startsWith("update:"),i=o&&Xl(n,t.slice(7));i&&(i.trim&&(r=s.map(u=>Pe(u)?u.trim():u)),i.number&&(r=s.map(Fs)));let l,c=n[l=dn(t)]||n[l=dn(Et(t))];!c&&o&&(c=n[l=dn(At(t))]),c&&pt(c,e,6,r);const a=n[l+"Once"];if(a){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,pt(a,e,6,r)}}function Xo(e,t,s=!1){const n=t.emitsCache,r=n.get(e);if(r!==void 0)return r;const o=e.emits;let i={},l=!1;if(!re(e)){const c=a=>{const u=Xo(a,t,!0);u&&(l=!0,je(i,u))};!s&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!o&&!l?(ye(e)&&n.set(e,null),null):(se(o)?o.forEach(c=>i[c]=null):je(i,o),ye(e)&&n.set(e,i),i)}function on(e,t){return!e||!Xs(t)?!1:(t=t.slice(2).replace(/Once$/,""),fe(e,t[0].toLowerCase()+t.slice(1))||fe(e,At(t))||fe(e,t))}function $r(e){const{type:t,vnode:s,proxy:n,withProxy:r,propsOptions:[o],slots:i,attrs:l,emit:c,render:a,renderCache:u,props:g,data:y,setupState:f,ctx:S,inheritAttrs:$}=e,P=Ws(e);let N,q;try{if(s.shapeFlag&4){const V=r||n,ie=V;N=ft(a.call(ie,V,u,g,f,y,S)),q=l}else{const V=t;N=ft(V.length>1?V(g,{attrs:l,slots:i,emit:c}):V(g,null)),q=t.props?l:ta(l)}}catch(V){gs.length=0,nn(V,e,1),N=Ve(Ft)}let X=N;if(q&&$!==!1){const V=Object.keys(q),{shapeFlag:ie}=X;V.length&&ie&7&&(o&&V.some(zn)&&(q=sa(q,o)),X=es(X,q,!1,!0))}return s.dirs&&(X=es(X,null,!1,!0),X.dirs=X.dirs?X.dirs.concat(s.dirs):s.dirs),s.transition&&Xn(X,s.transition),N=X,Ws(P),N}const ta=e=>{let t;for(const s in e)(s==="class"||s==="style"||Xs(s))&&((t||(t={}))[s]=e[s]);return t},sa=(e,t)=>{const s={};for(const n in e)(!zn(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function na(e,t,s){const{props:n,children:r,component:o}=e,{props:i,children:l,patchFlag:c}=t,a=o.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&c>=0){if(c&1024)return!0;if(c&16)return n?Cr(n,i,a):!!i;if(c&8){const u=t.dynamicProps;for(let g=0;g<u.length;g++){const y=u[g];if(i[y]!==n[y]&&!on(a,y))return!0}}}else return(r||l)&&(!l||!l.$stable)?!0:n===i?!1:n?i?Cr(n,i,a):!0:!!i;return!1}function Cr(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let r=0;r<n.length;r++){const o=n[r];if(t[o]!==e[o]&&!on(s,o))return!0}return!1}function ra({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const ei=e=>e.__isSuspense;function oa(e,t){t&&t.pendingBranch?se(e)?t.effects.push(...e):t.effects.push(e):Ao(e)}const $e=Symbol.for("v-fgt"),ln=Symbol.for("v-txt"),Ft=Symbol.for("v-cmt"),zs=Symbol.for("v-stc"),gs=[];let Ge=null;function Q(e=!1){gs.push(Ge=e?null:[])}function ia(){gs.pop(),Ge=gs[gs.length-1]||null}let ws=1;function Er(e,t=!1){ws+=e,e<0&&Ge&&t&&(Ge.hasOnce=!0)}function ti(e){return e.dynamicChildren=ws>0?Ge||Qt:null,ia(),ws>0&&Ge&&Ge.push(e),e}function Y(e,t,s,n,r,o){return ti(p(e,t,s,n,r,o,!0))}function sr(e,t,s,n,r){return ti(Ve(e,t,s,n,r,!0))}function si(e){return e?e.__v_isVNode===!0:!1}function rs(e,t){return e.type===t.type&&e.key===t.key}const ni=({key:e})=>e??null,js=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Pe(e)||Le(e)||re(e)?{i:Qe,r:e,k:t,f:!!s}:e:null);function p(e,t=null,s=null,n=0,r=null,o=e===$e?0:1,i=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ni(t),ref:t&&js(t),scopeId:Mo,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Qe};return l?(nr(c,s),o&128&&e.normalize(c)):s&&(c.shapeFlag|=Pe(s)?8:16),ws>0&&!i&&Ge&&(c.patchFlag>0||o&6)&&c.patchFlag!==32&&Ge.push(c),c}const Ve=la;function la(e,t=null,s=null,n=0,r=null,o=!1){if((!e||e===Pl)&&(e=Ft),si(e)){const l=es(e,t,!0);return s&&nr(l,s),ws>0&&!o&&Ge&&(l.shapeFlag&6?Ge[Ge.indexOf(e)]=l:Ge.push(l)),l.patchFlag=-2,l}if(va(e)&&(e=e.__vccOpts),t){t=aa(t);let{class:l,style:c}=t;l&&!Pe(l)&&(t.class=Ae(l)),ye(c)&&(Zn(c)&&!se(c)&&(c=je({},c)),t.style=kt(c))}const i=Pe(e)?1:ei(e)?128:wl(e)?64:ye(e)?4:re(e)?2:0;return p(e,t,s,n,r,i,o,!0)}function aa(e){return e?Zn(e)||Fo(e)?je({},e):e:null}function es(e,t,s=!1,n=!1){const{props:r,ref:o,patchFlag:i,children:l,transition:c}=e,a=t?ca(r||{},t):r,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&ni(a),ref:t&&t.ref?s&&o?se(o)?o.concat(js(t)):[o,js(t)]:js(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==$e?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&es(e.ssContent),ssFallback:e.ssFallback&&es(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&n&&Xn(u,c.clone(u)),u}function rt(e=" ",t=0){return Ve(ln,null,e,t)}function Te(e="",t=!1){return t?(Q(),sr(Ft,null,e)):Ve(Ft,null,e)}function ft(e){return e==null||typeof e=="boolean"?Ve(Ft):se(e)?Ve($e,null,e.slice()):si(e)?_t(e):Ve(ln,null,String(e))}function _t(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:es(e)}function nr(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(se(t))s=16;else if(typeof t=="object")if(n&65){const r=t.default;r&&(r._c&&(r._d=!1),nr(e,r()),r._c&&(r._d=!0));return}else{s=32;const r=t._;!r&&!Fo(t)?t._ctx=Qe:r===3&&Qe&&(Qe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else re(t)?(t={default:t,_ctx:Qe},s=32):(t=String(t),n&64?(s=16,t=[rt(t)]):s=8);e.children=t,e.shapeFlag|=s}function ca(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const r in n)if(r==="class")t.class!==n.class&&(t.class=Ae([t.class,n.class]));else if(r==="style")t.style=kt([t.style,n.style]);else if(Xs(r)){const o=t[r],i=n[r];i&&o!==i&&!(se(o)&&o.includes(i))&&(t[r]=o?[].concat(o,i):i)}else r!==""&&(t[r]=n[r])}return t}function ct(e,t,s,n=null){pt(e,t,7,[s,n])}const ua=zo();let fa=0;function da(e,t,s){const n=e.type,r=(t?t.appContext:e.appContext)||ua,o={uid:fa++,vnode:e,type:n,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ji(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:No(n,r),emitsOptions:Xo(n,r),emit:null,emitted:null,propsDefaults:ve,inheritAttrs:n.inheritAttrs,ctx:ve,data:ve,props:ve,attrs:ve,slots:ve,refs:ve,setupState:ve,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=ea.bind(null,o),e.ce&&e.ce(o),o}let ze=null;const ri=()=>ze||Qe;let Js,Pn;{const e=tn(),t=(s,n)=>{let r;return(r=e[s])||(r=e[s]=[]),r.push(n),o=>{r.length>1?r.forEach(i=>i(o)):r[0](o)}};Js=t("__VUE_INSTANCE_SETTERS__",s=>ze=s),Pn=t("__VUE_SSR_SETTERS__",s=>ys=s)}const $s=e=>{const t=ze;return Js(e),e.scope.on(),()=>{e.scope.off(),Js(t)}},Ar=()=>{ze&&ze.scope.off(),Js(null)};function oi(e){return e.vnode.shapeFlag&4}let ys=!1;function pa(e,t=!1,s=!1){t&&Pn(t);const{props:n,children:r}=e.vnode,o=oi(e);jl(e,n,o,t),Nl(e,r,s);const i=o?ha(e,t):void 0;return t&&Pn(!1),i}function ha(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Rl);const{setup:n}=s;if(n){Pt();const r=e.setupContext=n.length>1?ma(e):null,o=$s(e),i=_s(n,e,0,[e.props,r]),l=to(i);if(Rt(),o(),(l||e.sp)&&!ps(e)&&Oo(e),l){if(i.then(Ar,Ar),t)return i.then(c=>{Pr(e,c)}).catch(c=>{nn(c,e,0)});e.asyncDep=i}else Pr(e,i)}else ii(e)}function Pr(e,t,s){re(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ye(t)&&(e.setupState=$o(t)),ii(e)}function ii(e,t,s){const n=e.type;e.render||(e.render=n.render||ot);{const r=$s(e);Pt();try{Ml(e)}finally{Rt(),r()}}}const ga={get(e,t){return De(e,"get",""),e[t]}};function ma(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,ga),slots:e.slots,emit:e.emit,expose:t}}function an(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy($o(ll(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in hs)return hs[s](e)},has(t,s){return s in t||s in hs}})):e.proxy}function va(e){return re(e)&&"__vccOpts"in e}const Ce=(e,t)=>dl(e,t,ys),ba="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Rn;const Rr=typeof window<"u"&&window.trustedTypes;if(Rr)try{Rn=Rr.createPolicy("vue",{createHTML:e=>e})}catch{}const li=Rn?e=>Rn.createHTML(e):e=>e,wa="http://www.w3.org/2000/svg",ya="http://www.w3.org/1998/Math/MathML",vt=typeof document<"u"?document:null,Mr=vt&&vt.createElement("template"),ka={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const r=t==="svg"?vt.createElementNS(wa,e):t==="mathml"?vt.createElementNS(ya,e):s?vt.createElement(e,{is:s}):vt.createElement(e);return e==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:e=>vt.createTextNode(e),createComment:e=>vt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>vt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,r,o){const i=s?s.previousSibling:t.lastChild;if(r&&(r===o||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),s),!(r===o||!(r=r.nextSibling)););else{Mr.innerHTML=li(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const l=Mr.content;if(n==="svg"||n==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,s)}return[i?i.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},xa=Symbol("_vtc");function Ta(e,t,s){const n=e[xa];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Or=Symbol("_vod"),Sa=Symbol("_vsh"),ai=Symbol("");function _a(e){const t=ri();if(!t)return;const s=t.ut=(r=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(o=>Qs(o,r))},n=()=>{const r=e(t.proxy);t.ce?Qs(t.ce,r):Mn(t.subTree,r),s(r)};Lo(()=>{Ao(n)}),Nt(()=>{we(n,ot,{flush:"post"});const r=new MutationObserver(n);r.observe(t.subTree.el.parentNode,{childList:!0}),Ht(()=>r.disconnect())})}function Mn(e,t){if(e.shapeFlag&128){const s=e.suspense;e=s.activeBranch,s.pendingBranch&&!s.isHydrating&&s.effects.push(()=>{Mn(s.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)Qs(e.el,t);else if(e.type===$e)e.children.forEach(s=>Mn(s,t));else if(e.type===zs){let{el:s,anchor:n}=e;for(;s&&(Qs(s,t),s!==n);)s=s.nextSibling}}function Qs(e,t){if(e.nodeType===1){const s=e.style;let n="";for(const r in t)s.setProperty(`--${r}`,t[r]),n+=`--${r}: ${t[r]};`;s[ai]=n}}const $a=/(^|;)\s*display\s*:/;function Ca(e,t,s){const n=e.style,r=Pe(s);let o=!1;if(s&&!r){if(t)if(Pe(t))for(const i of t.split(";")){const l=i.slice(0,i.indexOf(":")).trim();s[l]==null&&Hs(n,l,"")}else for(const i in t)s[i]==null&&Hs(n,i,"");for(const i in s)i==="display"&&(o=!0),Hs(n,i,s[i])}else if(r){if(t!==s){const i=n[ai];i&&(s+=";"+i),n.cssText=s,o=$a.test(s)}}else t&&e.removeAttribute("style");Or in e&&(e[Or]=o?n.display:"",e[Sa]&&(n.display="none"))}const Ir=/\s*!important$/;function Hs(e,t,s){if(se(s))s.forEach(n=>Hs(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=Ea(e,t);Ir.test(s)?e.setProperty(At(n),s.replace(Ir,""),"important"):e[n]=s}}const Vr=["Webkit","Moz","ms"],wn={};function Ea(e,t){const s=wn[t];if(s)return s;let n=Et(t);if(n!=="filter"&&n in e)return wn[t]=n;n=ro(n);for(let r=0;r<Vr.length;r++){const o=Vr[r]+n;if(o in e)return wn[t]=o}return t}const Lr="http://www.w3.org/1999/xlink";function Dr(e,t,s,n,r,o=Bi(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Lr,t.slice(6,t.length)):e.setAttributeNS(Lr,t,s):s==null||o&&!io(s)?e.removeAttribute(t):e.setAttribute(t,o?"":dt(s)?String(s):s)}function Br(e,t,s,n,r){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?li(s):s);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const l=o==="OPTION"?e.getAttribute("value")||"":e.value,c=s==null?e.type==="checkbox"?"on":"":String(s);(l!==c||!("_value"in e))&&(e.value=c),s==null&&e.removeAttribute(t),e._value=s;return}let i=!1;if(s===""||s==null){const l=typeof e[t];l==="boolean"?s=io(s):s==null&&l==="string"?(s="",i=!0):l==="number"&&(s=0,i=!0)}try{e[t]=s}catch{}i&&e.removeAttribute(r||t)}function $t(e,t,s,n){e.addEventListener(t,s,n)}function Aa(e,t,s,n){e.removeEventListener(t,s,n)}const zr=Symbol("_vei");function Pa(e,t,s,n,r=null){const o=e[zr]||(e[zr]={}),i=o[t];if(n&&i)i.value=n;else{const[l,c]=Ra(t);if(n){const a=o[t]=Ia(n,r);$t(e,l,a,c)}else i&&(Aa(e,l,i,c),o[t]=void 0)}}const jr=/(?:Once|Passive|Capture)$/;function Ra(e){let t;if(jr.test(e)){t={};let n;for(;n=e.match(jr);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):At(e.slice(2)),t]}let yn=0;const Ma=Promise.resolve(),Oa=()=>yn||(Ma.then(()=>yn=0),yn=Date.now());function Ia(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;pt(Va(n,s.value),t,5,[n])};return s.value=e,s.attached=Oa(),s}function Va(e,t){if(se(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>r=>!r._stopped&&n&&n(r))}else return t}const Hr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,La=(e,t,s,n,r,o)=>{const i=r==="svg";t==="class"?Ta(e,n,i):t==="style"?Ca(e,s,n):Xs(t)?zn(t)||Pa(e,t,s,n,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Da(e,t,n,i))?(Br(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Dr(e,t,n,i,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Pe(n))?Br(e,Et(t),n,o,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Dr(e,t,n,i))};function Da(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&Hr(t)&&re(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Hr(t)&&Pe(s)?!1:t in e}const ts=e=>{const t=e.props["onUpdate:modelValue"]||!1;return se(t)?s=>Ds(t,s):t};function Ba(e){e.target.composing=!0}function Fr(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const xt=Symbol("_assign"),et={created(e,{modifiers:{lazy:t,trim:s,number:n}},r){e[xt]=ts(r);const o=n||r.props&&r.props.type==="number";$t(e,t?"change":"input",i=>{if(i.target.composing)return;let l=e.value;s&&(l=l.trim()),o&&(l=Fs(l)),e[xt](l)}),s&&$t(e,"change",()=>{e.value=e.value.trim()}),t||($t(e,"compositionstart",Ba),$t(e,"compositionend",Fr),$t(e,"change",Fr))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:n,trim:r,number:o}},i){if(e[xt]=ts(i),e.composing)return;const l=(o||e.type==="number")&&!/^0\d/.test(e.value)?Fs(e.value):e.value,c=t??"";l!==c&&(document.activeElement===e&&e.type!=="range"&&(n&&t===s||r&&e.value.trim()===c)||(e.value=c))}},Kt={deep:!0,created(e,t,s){e[xt]=ts(s),$t(e,"change",()=>{const n=e._modelValue,r=ks(e),o=e.checked,i=e[xt];if(se(n)){const l=Fn(n,r),c=l!==-1;if(o&&!c)i(n.concat(r));else if(!o&&c){const a=[...n];a.splice(l,1),i(a)}}else if(ss(n)){const l=new Set(n);o?l.add(r):l.delete(r),i(l)}else i(ci(e,o))})},mounted:Ur,beforeUpdate(e,t,s){e[xt]=ts(s),Ur(e,t,s)}};function Ur(e,{value:t,oldValue:s},n){e._modelValue=t;let r;if(se(t))r=Fn(t,n.props.value)>-1;else if(ss(t))r=t.has(n.props.value);else{if(t===s)return;r=Ss(t,ci(e,!0))}e.checked!==r&&(e.checked=r)}const Nr={deep:!0,created(e,{value:t,modifiers:{number:s}},n){const r=ss(t);$t(e,"change",()=>{const o=Array.prototype.filter.call(e.options,i=>i.selected).map(i=>s?Fs(ks(i)):ks(i));e[xt](e.multiple?r?new Set(o):o:o[0]),e._assigning=!0,_e(()=>{e._assigning=!1})}),e[xt]=ts(n)},mounted(e,{value:t}){Wr(e,t)},beforeUpdate(e,t,s){e[xt]=ts(s)},updated(e,{value:t}){e._assigning||Wr(e,t)}};function Wr(e,t){const s=e.multiple,n=se(t);if(!(s&&!n&&!ss(t))){for(let r=0,o=e.options.length;r<o;r++){const i=e.options[r],l=ks(i);if(s)if(n){const c=typeof l;c==="string"||c==="number"?i.selected=t.some(a=>String(a)===String(l)):i.selected=Fn(t,l)>-1}else i.selected=t.has(l);else if(Ss(ks(i),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function ks(e){return"_value"in e?e._value:e.value}function ci(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const za=["ctrl","shift","alt","meta"],ja={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>za.some(s=>e[`${s}Key`]&&!t.includes(s))},xs=(e,t)=>{const s=e._withMods||(e._withMods={}),n=t.join(".");return s[n]||(s[n]=(r,...o)=>{for(let i=0;i<t.length;i++){const l=ja[t[i]];if(l&&l(r,t))return}return e(r,...o)})},Ha={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Fa=(e,t)=>{const s=e._withKeys||(e._withKeys={}),n=t.join(".");return s[n]||(s[n]=r=>{if(!("key"in r))return;const o=At(r.key);if(t.some(i=>i===o||Ha[i]===o))return e(r)})},Ua=je({patchProp:La},ka);let qr;function Na(){return qr||(qr=ql(Ua))}const Wa=(...e)=>{const t=Na().createApp(...e),{mount:s}=t;return t.mount=n=>{const r=Ka(n);if(!r)return;const o=t._component;!re(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const i=s(r,!1,qa(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},t};function qa(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Ka(e){return Pe(e)?document.querySelector(e):e}function Ja(e){return co()?(Hi(e),!0):!1}function rr(e){return typeof e=="function"?e():T(e)}const Qa=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Ga=Object.prototype.toString,Za=e=>Ga.call(e)==="[object Object]",Ya=()=>{};function Xa(e,t){function s(...n){return new Promise((r,o)=>{Promise.resolve(e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})).then(r).catch(o)})}return s}const ui=e=>e();function ec(e=ui){const t=J(!0);function s(){t.value=!1}function n(){t.value=!0}const r=(...o)=>{t.value&&e(...o)};return{isActive:Qn(t),pause:s,resume:n,eventFilter:r}}function tc(e){return ri()}function sc(e,t,s={}){const{eventFilter:n=ui,...r}=s;return we(e,Xa(n,t),r)}function nc(e,t,s={}){const{eventFilter:n,...r}=s,{eventFilter:o,pause:i,resume:l,isActive:c}=ec(n);return{stop:sc(e,t,{...r,eventFilter:o}),pause:i,resume:l,isActive:c}}function rc(e,t=!0,s){tc()?Nt(e,s):t?e():_e(e)}function oc(e){var t;const s=rr(e);return(t=s==null?void 0:s.$el)!=null?t:s}const On=Qa?window:void 0;function Kr(...e){let t,s,n,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([s,n,r]=e,t=On):[t,s,n,r]=e,!t)return Ya;Array.isArray(s)||(s=[s]),Array.isArray(n)||(n=[n]);const o=[],i=()=>{o.forEach(u=>u()),o.length=0},l=(u,g,y,f)=>(u.addEventListener(g,y,f),()=>u.removeEventListener(g,y,f)),c=we(()=>[oc(t),rr(r)],([u,g])=>{if(i(),!u)return;const y=Za(g)?{...g}:g;o.push(...s.flatMap(f=>n.map(S=>l(u,f,S,y))))},{immediate:!0,flush:"post"}),a=()=>{c(),i()};return Ja(a),a}const Os=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Is="__vueuse_ssr_handlers__",ic=lc();function lc(){return Is in Os||(Os[Is]=Os[Is]||{}),Os[Is]}function ac(e,t){return ic[e]||t}function cc(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const uc={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},Jr="vueuse-storage";function fc(e,t,s,n={}){var r;const{flush:o="pre",deep:i=!0,listenToStorageChanges:l=!0,writeDefaults:c=!0,mergeDefaults:a=!1,shallow:u,window:g=On,eventFilter:y,onError:f=G=>{console.error(G)},initOnMounted:S}=n,$=(u?al:J)(typeof t=="function"?t():t);if(!s)try{s=ac("getDefaultStorage",()=>{var G;return(G=On)==null?void 0:G.localStorage})()}catch(G){f(G)}if(!s)return $;const P=rr(t),N=cc(P),q=(r=n.serializer)!=null?r:uc[N],{pause:X,resume:V}=nc($,()=>ke($.value),{flush:o,deep:i,eventFilter:y});g&&l&&rc(()=>{Kr(g,"storage",le),Kr(g,Jr,Se),S&&le()}),S||le();function ie(G,ge){g&&g.dispatchEvent(new CustomEvent(Jr,{detail:{key:e,oldValue:G,newValue:ge,storageArea:s}}))}function ke(G){try{const ge=s.getItem(e);if(G==null)ie(ge,null),s.removeItem(e);else{const Ee=q.write(G);ge!==Ee&&(s.setItem(e,Ee),ie(ge,Ee))}}catch(ge){f(ge)}}function ce(G){const ge=G?G.newValue:s.getItem(e);if(ge==null)return c&&P!=null&&s.setItem(e,q.write(P)),P;if(!G&&a){const Ee=q.read(ge);return typeof a=="function"?a(Ee,P):N==="object"&&!Array.isArray(Ee)?{...P,...Ee}:Ee}else return typeof ge!="string"?ge:q.read(ge)}function le(G){if(!(G&&G.storageArea!==s)){if(G&&G.key==null){$.value=P;return}if(!(G&&G.key!==e)){X();try{(G==null?void 0:G.newValue)!==q.write($.value)&&($.value=ce(G))}catch(ge){f(ge)}finally{G?_e(V):V()}}}}function Se(G){le(G.detail)}return $}const dc={async createMemo(e,t,s,n){return fetch(`${e}/api/v1/memo`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({content:s,visibility:n})})},async testConnection(e,t){return fetch(`${e}/api/v1/status`,{headers:{Authorization:`Bearer ${t}`}})},async uploadResource(e,t,s){const n=new FormData;n.append("file",s);const r=await fetch(`${e}/api/v1/resource/blob`,{method:"POST",headers:{Authorization:`Bearer ${t}`},body:n});if(!r.ok)throw new Error("");const o=await r.json();return{id:o.id,url:`${e}/o/r/${o.id}/${o.name}`,type:s.type,name:s.name}},async getTags(e,t){const s=await fetch(`${e}/api/v1/tag`,{headers:{Authorization:`Bearer ${t}`}});if(!s.ok)throw new Error("");return s.json()},async getMemos(e,t,{offset:s=0,limit:n=20,content:r,visibility:o,tag:i}={}){const l=new URL(`${e}/api/v1/memo`);return l.searchParams.append("offset",s),l.searchParams.append("limit",n),r&&l.searchParams.append("content",r),o&&o!=="all"&&l.searchParams.append("visibility",o),i&&l.searchParams.append("tag",i),await fetch(l.toString(),{headers:{Authorization:`Bearer ${t}`}})},async deleteMemo(e,t,s){const n=await fetch(`${e}/api/v1/memo/${s}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error(`: ${n.statusText}`)},async updateMemo(e,t,s,n){return fetch(`${e}/api/v1/memo/${s}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({content:n.content,visibility:n.visibility,resourceIdList:n.resourceIdList||[]})})}},pc={async createMemo(e,t,s,n="PUBLIC",r=[]){return await fetch(`${e}/api/v1/memos`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({content:s,visibility:n,createdTs:Date.now(),relationList:r})})},async listMemos(e,t,s="users/-"){const n=await fetch(`${e}/api/v1/${s}/memos`,{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error("");return n.json()},async getMemo(e,t,s){const n=await fetch(`${e}/api/v1/${s}`,{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error("");return n.json()},async updateMemo(e,t,s,n){return await fetch(`${e}/api/v1/${s}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({content:n.content,visibility:n.visibility})})},async deleteMemo(e,t,s){if(!(await fetch(`${e}/api/v1/${s}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}})).ok)throw new Error("")},async renameTag(e,t,s,n,r){const o=await fetch(`${e}/api/v1/${s}/tags:rename`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({old_tag:n,new_tag:r})});if(!o.ok)throw new Error("");return o.json()},async deleteTag(e,t,s,n){if(!(await fetch(`${e}/api/v1/${s}/tags/${n}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}})).ok)throw new Error("")},async setResources(e,t,s,n){const r=await fetch(`${e}/api/v1/${s}/resources`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({resources:n.map(o=>({id:o}))})});if(!r.ok)throw new Error("");return r.json()},async listResources(e,t,s){const n=await fetch(`${e}/api/v1/${s}/resources`,{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error("");const r=await n.json();return r.resources&&Array.isArray(r.resources)&&(r.resources=r.resources.map(o=>({...o,url:`${e}/file/${o.name}/${o.filename}?thumbnail=true`}))),r},async setRelations(e,t,s,n){const r=await fetch(`${e}/api/v1/${s}/relations`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({relations:n.map(o=>({type:o.type,memo:{id:o.memoId}}))})});if(!r.ok)throw new Error("");return r.json()},async listRelations(e,t,s){const n=await fetch(`${e}/api/v1/${s}/relations`,{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error("");return n.json()},async createComment(e,t,s,n){const r=await fetch(`${e}/api/v1/${s}/comments`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({comment:{content:n}})});if(!r.ok)throw new Error("");return r.json()},async listComments(e,t,s){const n=await fetch(`${e}/api/v1/${s}/comments`,{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error("");return n.json()},async listReactions(e,t,s){const n=await fetch(`${e}/api/v1/${s}/reactions`,{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error("");return n.json()},async setReaction(e,t,s,n){const r=await fetch(`${e}/api/v1/${s}/reactions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({reaction:{type:n}})});if(!r.ok)throw new Error("");return r.json()},async deleteReaction(e,t,s){if(!(await fetch(`${e}/api/v1/reactions/${s}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}})).ok)throw new Error("")},async getTags(e,t){try{const s=localStorage.getItem("memos-settings");if(!s)return console.log(""),await this.getTagsWithoutUserInfo(e,t);const n=JSON.parse(s);if(!n.userInfo||!n.userInfo.name)return console.log(""),await this.getTagsWithoutUserInfo(e,t);const r=localStorage.getItem("memos-tags");if(r)return JSON.parse(r);const o=n.userInfo.name,i=await fetch(`${e}/api/v1/${o}/memos?pageSize=1000`,{headers:{Authorization:`Bearer ${t}`}});if(!i.ok)throw new Error("");const c=(await i.json()).memos.reduce((u,g)=>g.tags&&Array.isArray(g.tags)?[...u,...g.tags]:u,[]),a=[...new Set(c)];return localStorage.setItem("memos-tags",JSON.stringify(a)),a}catch(s){throw console.error(":",s),s}},async getTagsWithoutUserInfo(e,t){try{const s=[`${e}/api/v1/users/-/memos?pageSize=100`,`${e}/api/v1/memos?pageSize=100`];for(const n of s)try{const r=await fetch(n,{headers:{Authorization:`Bearer ${t}`}});if(r.ok){const i=((await r.json()).memos||[]).reduce((c,a)=>a.tags&&Array.isArray(a.tags)?[...c,...a.tags]:c,[]);return[...new Set(i)]}}catch(r){console.log(` ${n} :`,r.message);continue}return[]}catch(s){return console.error(":",s),[]}},clearTagCache(){localStorage.removeItem("memos-tags")},async uploadResource(e,t,s,n){const r=await new Promise((a,u)=>{const g=new FileReader;g.onload=()=>{const y=g.result.split(",")[1];a(y)},g.onerror=u,g.readAsDataURL(s)}),o=await fetch(`${e}/api/v1/resources`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({content:r,filename:s.name,type:s.type,visibility:n})});if(!o.ok)throw new Error("");const i=await o.json(),l=i.externalLink||`${e}/file/${i.name}/${i.filename}`;let c="";return s.type.startsWith("image/")?c=`![${s.name}](${l})`:c=`[${s.name}](${l})`,{id:i.name,name:i.name,url:l,type:s.type,filename:s.name,markdown:c}},async testConnection(e,t){const s=[{url:`${e}/api/v1/me`,method:"GET"},{url:`${e}/api/v1/user/me`,method:"GET"},{url:`${e}/api/v1/auth/status`,method:"POST"}];let n=null;for(const r of s)try{const o={method:r.method,headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}};r.method==="POST"&&(o.body=JSON.stringify({}));const i=await fetch(r.url,o);if(i.ok){const l=await i.json();if(l.name||l.username||l.id)return{ok:!0,data:{name:l.name||l.username||`user_${l.id}`,role:l.role||"USER",state:l.state||"NORMAL",id:l.id,endpoint:r.url}}}}catch(o){n=o;continue}throw new Error(`: ${(n==null?void 0:n.message)||""}`)},async associateResources(e,t,s,n){const r=await fetch(`${e}/api/v1/${s}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(n)});if(!r.ok)throw new Error("");return r},async getMemos(e,t,{offset:s=null,limit:n=10,content:r,visibility:o,tag:i}={}){const l=localStorage.getItem("memos-settings");if(!l)throw new Error("");const c=JSON.parse(l);if(!c.userInfo||!c.userInfo.name)throw new Error("");const a=c.userInfo.name,u=new URL(`${e}/api/v1/${a}/memos`);let g="";return r&&(g=`content.contains("${r}")`),s&&u.searchParams.append("pageToken",s),u.searchParams.append("pageSize",n),g&&u.searchParams.append("filter",g),o&&o!=="all"&&u.searchParams.append("visibility",o),i&&u.searchParams.append("tag",i),await fetch(u.toString(),{headers:{Authorization:`Bearer ${t}`}})}},hc={async createMemo(e,t,s,n="PUBLIC",r=[],o=!1){const i=await fetch(`${e}/api/v1/memos`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({content:s,visibility:n,tags:r,pinned:o})});if(!i.ok)throw new Error("");return i},async listMemos(e,t,s={}){const{pageSize:n=50,pageToken:r,filter:o,orderBy:i="pinned desc, display_time desc",state:l="NORMAL",showDeleted:c=!1}=s,a=new URL(`${e}/api/v1/memos`);a.searchParams.append("page_size",n),r&&a.searchParams.append("page_token",r),o&&a.searchParams.append("filter",o),i&&a.searchParams.append("order_by",i),l&&a.searchParams.append("state",l),c&&a.searchParams.append("show_deleted",c);const u=await fetch(a.toString(),{headers:{Authorization:`Bearer ${t}`}});if(!u.ok)throw new Error("");return u},async getMemo(e,t,s){const n=await fetch(`${e}/api/v1/${s}`,{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error("");return n.json()},async updateMemo(e,t,s,n,r=[]){const o={name:s,...n};r.length>0&&(o.update_mask={paths:r}),console.log("v25 updateMemo:",{url:`${e}/api/v1/${s}`,body:o});const i=await fetch(`${e}/api/v1/${s}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(o)});if(!i.ok)throw new Error("");return i},async deleteMemo(e,t,s){if(!(await fetch(`${e}/api/v1/${s}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}})).ok)throw new Error("")},async renameMemoTag(e,t,s,n,r){const o=await fetch(`${e}/api/v1/${s}/tags:rename`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({old_tag:n,new_tag:r})});if(!o.ok)throw new Error("");return o.json()},async deleteMemoTag(e,t,s,n){if(!(await fetch(`${e}/api/v1/${s}/tags:delete`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({tag:n})})).ok)throw new Error("")},async setMemoAttachments(e,t,s,n){const r=await fetch(`${e}/api/v1/${s}/attachments`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({attachments:n.map(o=>({name:o}))})});if(!r.ok)throw new Error("");return r.json()},async listMemoAttachments(e,t,s){const n=await fetch(`${e}/api/v1/${s}/attachments`,{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error("");const r=await n.json();return r.attachments&&Array.isArray(r.attachments)&&(r.attachments=r.attachments.map(o=>{const i=o.name.replace("attachments/","");return{...o,url:`${e}/file/attachments/${i}/${o.filename}`,thumbnailUrl:`${e}/file/attachments/${i}/${o.filename}?thumbnail=true`}})),r},async createAttachment(e,t,s,n=null){const r=await new Promise((g,y)=>{const f=new FileReader;f.onload=()=>{const S=f.result.split(",")[1];g(S)},f.onerror=y,f.readAsDataURL(s)}),o={filename:s.name,content:r,type:s.type};n&&n.startsWith("memos/")&&(o.memo=n);const i=await fetch(`${e}/api/v1/attachments`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(o)});if(!i.ok){const g=await i.json().catch(()=>({}));throw new Error(`: ${g.message||i.statusText}`)}const l=await i.json(),c=l.name.replace("attachments/",""),a=l.external_link||`${e}/file/attachments/${c}/${l.filename}`;let u="";return s.type.startsWith("image/")?u=`![${s.name}](${a})`:u=`[${s.name}](${a})`,{...l,id:l.name,url:a,thumbnailUrl:`${e}/file/attachments/${c}/${l.filename}?thumbnail=true`,markdown:u}},async listAttachments(e,t,s={}){const{pageSize:n=50,pageToken:r,filter:o,orderBy:i="create_time desc"}=s,l=new URL(`${e}/api/v1/attachments`);l.searchParams.append("page_size",n),r&&l.searchParams.append("page_token",r),o&&l.searchParams.append("filter",o),i&&l.searchParams.append("order_by",i);const c=await fetch(l.toString(),{headers:{Authorization:`Bearer ${t}`}});if(!c.ok)throw new Error("");return c.json()},async deleteAttachment(e,t,s){if(!(await fetch(`${e}/api/v1/${s}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}})).ok)throw new Error("")},async setRelations(e,t,s,n){const r=await fetch(`${e}/api/v1/${s}/relations`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({relations:n.map(o=>({type:o.type,memo:{id:o.memoId}}))})});if(!r.ok)throw new Error("");return r.json()},async listRelations(e,t,s){const n=await fetch(`${e}/api/v1/${s}/relations`,{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error("");return n.json()},async createComment(e,t,s,n){const r=await fetch(`${e}/api/v1/${s}/comments`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({comment:{content:n}})});if(!r.ok)throw new Error("");return r.json()},async listComments(e,t,s){const n=await fetch(`${e}/api/v1/${s}/comments`,{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error("");return n.json()},async listReactions(e,t,s){const n=await fetch(`${e}/api/v1/${s}/reactions`,{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error("");return n.json()},async setReaction(e,t,s,n){const r=await fetch(`${e}/api/v1/${s}/reactions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({reaction:{type:n}})});if(!r.ok)throw new Error("");return r.json()},async deleteReaction(e,t,s){if(!(await fetch(`${e}/api/v1/reactions/${s}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}})).ok)throw new Error("")},async getTags(e,t){try{const s=localStorage.getItem("memos-settings");if(!s)return console.log(""),await this.getTagsWithoutUserInfo(e,t);const n=JSON.parse(s);if(!n.userInfo||!n.userInfo.name)return console.log(""),await this.getTagsWithoutUserInfo(e,t);const r=localStorage.getItem("memos-tags");if(r)return JSON.parse(r);const o=await this.listMemos(e,t,{pageSize:1e3,orderBy:"create_time desc"});if(o.ok){const l=((await o.json()).memos||[]).reduce((a,u)=>u.tags&&Array.isArray(u.tags)?[...a,...u.tags]:a,[]),c=[...new Set(l)];return localStorage.setItem("memos-tags",JSON.stringify(c)),c}else throw new Error("")}catch(s){return console.error(":",s),await this.getTagsWithoutUserInfo(e,t)}},async getTagsWithoutUserInfo(e,t){try{const s=[`${e}/api/v1/memos?page_size=100&order_by=create_time desc`,`${e}/api/v1/users/-/memos?page_size=100`];for(const n of s)try{const r=await fetch(n,{headers:{Authorization:`Bearer ${t}`}});if(r.ok){const i=((await r.json()).memos||[]).reduce((c,a)=>a.tags&&Array.isArray(a.tags)?[...c,...a.tags]:c,[]);return[...new Set(i)]}}catch(r){console.log(` ${n} :`,r.message);continue}return[]}catch(s){return console.error(":",s),[]}},clearTagCache(){localStorage.removeItem("memos-tags")},async uploadResource(e,t,s,n=null){return await this.createAttachment(e,t,s,n)},async testConnection(e,t){const s=[{url:`${e}/api/v1/auth/sessions/current`,method:"GET"},{url:`${e}/api/v1/users/-`,method:"GET"},{url:`${e}/api/v1/me`,method:"GET"},{url:`${e}/api/v1/user/me`,method:"GET"}];let n=null;for(const r of s)try{const o=await fetch(r.url,{method:r.method,headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(o.ok){const i=await o.json();if(i.user)return{ok:!0,data:{name:i.user.name||i.user.username||`user_${i.user.id}`,username:i.user.username,email:i.user.email,role:i.user.role||"USER",state:i.user.state||"NORMAL",id:i.user.id,lastAccessedAt:i.last_accessed_at,endpoint:r.url}};if(i.name||i.username||i.id)return{ok:!0,data:{name:i.name||i.username||`user_${i.id}`,username:i.username,email:i.email,role:i.role||"USER",state:i.state||"NORMAL",id:i.id,endpoint:r.url}}}}catch(o){n=o;continue}throw new Error(`: ${(n==null?void 0:n.message)||""}`)},async createSession(e,t,s){const n=await fetch(`${e}/api/v1/auth/sessions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password_credentials:{username:t,password:s}})});if(!n.ok)throw new Error("");return n.json()},async deleteSession(e,t){if(!(await fetch(`${e}/api/v1/auth/sessions/current`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}})).ok)throw new Error("")},async associateResources(e,t,s,n){const r=await fetch(`${e}/api/v1/${s}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(n)});if(!r.ok)throw new Error("");return r},async getMemos(e,t,{offset:s=null,limit:n=10,content:r,visibility:o,tag:i}={}){const l=new URL(`${e}/api/v1/memos`);let c="";if(r){const a=r.trim();a&&(c=`content.contains("${a}")`)}return s&&l.searchParams.append("page_token",s),l.searchParams.append("page_size",n),c&&l.searchParams.append("filter",c),o&&o!=="all"&&(c?c+=` && visibility == '${o.toUpperCase()}'`:c=`visibility == '${o.toUpperCase()}'`,l.searchParams.set("filter",c)),i&&console.log(":",i),l.searchParams.append("order_by","pinned desc, display_time desc"),l.searchParams.append("state","NORMAL"),await fetch(l.toString(),{headers:{Authorization:`Bearer ${t}`}})},async listUsers(e,t,s={}){const{pageSize:n=50,pageToken:r,filter:o,showDeleted:i=!1}=s,l=new URL(`${e}/api/v1/users`);l.searchParams.append("page_size",n),r&&l.searchParams.append("page_token",r),o&&l.searchParams.append("filter",o),i&&l.searchParams.append("show_deleted",i);const c=await fetch(l.toString(),{headers:{Authorization:`Bearer ${t}`}});if(!c.ok)throw new Error("");return c.json()},async getUser(e,t,s){const n=await fetch(`${e}/api/v1/users/${s}`,{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error("");return n.json()},async listUserSettings(e,t,s){const n=await fetch(`${e}/api/v1/${s}/settings`,{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error("");return n.json()},async getUserSetting(e,t,s,n){const r=await fetch(`${e}/api/v1/${s}/settings/${n}`,{headers:{Authorization:`Bearer ${t}`}});if(!r.ok)throw new Error("");return r.json()},async updateUserSetting(e,t,s,n,r,o=[]){const i={setting:{name:`${s}/settings/${n}`,...r}};o.length>0&&(i.update_mask={paths:o});const l=await fetch(`${e}/api/v1/${s}/settings/${n}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(i)});if(!l.ok)throw new Error("");return l.json()},async getWorkspaceProfile(e,t){const s=await fetch(`${e}/api/v1/workspace/profile`,{headers:{Authorization:`Bearer ${t}`}});if(!s.ok)throw new Error("");return s.json()},async getWorkspaceSetting(e,t,s){const n=await fetch(`${e}/api/v1/workspace/settings/${s}`,{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error("");return n.json()},async updateWorkspaceSetting(e,t,s,n,r=[]){const o={setting:{name:`workspace/settings/${s}`,...n}};r.length>0&&(o.update_mask={paths:r});const i=await fetch(`${e}/api/v1/workspace/settings/${s}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(o)});if(!i.ok)throw new Error("");return i.json()}},gc={async testConnection(e,t){const s=e.replace(/\/+$/,"");try{const n=await fetch(`${s}/api/v1/users/me`,{headers:{Authorization:`Bearer ${t}`}});if(n.ok){const o=await n.json();return{ok:!0,data:{name:o.displayName||o.username}}}if((await fetch(`${s}/api/v1/memos?pageSize=1`,{headers:{Authorization:`Bearer ${t}`}})).ok)return{ok:!0,data:{name:" Memos"}}}catch(n){console.error("Test connection error:",n)}throw new Error(" Token  API ")},async createMemo(e,t,s,n="PRIVATE",r=[],o=!1){const i=e.replace(/\/+$/,""),l=await fetch(`${i}/api/v1/memos`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({content:s,visibility:n.toUpperCase(),tags:r,pinned:o})});if(!l.ok){const c=await l.json().catch(()=>({}));throw new Error(c.message||` (${l.status})`)}return l},async getMemos(e,t,{pageSize:s=20,pageToken:n="",filter:r=""}={}){const o=e.replace(/\/+$/,""),i=new URL(`${o}/api/v1/memos`);i.searchParams.append("pageSize",s),n&&i.searchParams.append("pageToken",n),r&&i.searchParams.append("filter",r);const l=await fetch(i.toString(),{headers:{Authorization:`Bearer ${t}`}});if(!l.ok)throw new Error("");return l},async getTags(e,t){try{const s=await this.getMemos(e,t,{pageSize:50});if(s.ok){const n=await s.json(),r=new Set;return(n.memos||[]).forEach(o=>{o.tags&&o.tags.forEach(i=>r.add(i))}),Array.from(r)}}catch(s){console.error("Tags fetch error:",s)}return[]},async createAttachment(e,t,s,n=null){const r=e.replace(/\/+$/,""),o=await new Promise((g,y)=>{const f=new FileReader;f.onload=()=>{const S=f.result.split(",")[1];g(S)},f.onerror=y,f.readAsDataURL(s)}),i={filename:s.name,content:o,type:s.type};n&&n.startsWith("memos/")&&(i.memo=n);const l=await fetch(`${r}/api/v1/attachments`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(i)});if(!l.ok){const g=await l.json().catch(()=>({}));throw new Error(`: ${g.message||l.statusText}`)}const c=await l.json(),a=c.name.split("/").pop(),u=c.externalLink||`${r}/file/attachments/${a}/${c.filename}`;return{id:a,url:u,name:s.name,type:s.type,originalData:c}}},yt=e=>{const t={v18:dc,v24:pc,v25:hc,v26:gc};if(!t[e])throw new Error(` API : ${e}`);return t[e]},he=(e,t="success")=>{const s=document.createElement("div");s.className=`toast ${t}`;const n=document.createElement("i");n.className=mc(t);const r=document.createElement("span");r.textContent=e,s.appendChild(n),s.appendChild(r),document.body.appendChild(s),setTimeout(()=>{s.style.opacity="1",s.style.transform="translate(-50%, 0)"},10),setTimeout(()=>{s.style.opacity="0",s.style.transform="translate(-50%, -100%)",setTimeout(()=>{document.body.removeChild(s)},300)},3e3)},mc=e=>{const t={success:"fas fa-check-circle",error:"fas fa-exclamation-circle",info:"fas fa-info-circle"};return t[e]||t.success},fi=document.createElement("style");fi.textContent=`
.toast {
  position: fixed;
  top: 20px;
  left: 50%;
  transform: translate(-50%, -100%);
  padding: 12px 24px;
  border-radius: 8px;
  background: white;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  display: flex;
  align-items: center;
  gap: 8px;
  opacity: 0;
  transition: all 0.3s ease-out;
  z-index: 1000;
}

.toast.success {
  background: #10B981;
  color: white;
}

.toast.error {
  background: #EF4444;
  color: white;
}

.toast.info {
  background: #3B82F6;
  color: white;
}
`;document.head.appendChild(fi);const cn=(e,t)=>{const s=e.__vccOpts||e;for(const[n,r]of t)s[n]=r;return s},vc={class:"selected-value"},bc=["onMousedown"],wc={key:0,class:"check-mark"},yc={__name:"CustomSelect",props:{modelValue:{type:[String,Number],required:!0},options:{type:Array,required:!0,validator:e=>e.every(t=>typeof t=="object"&&"value"in t&&"label"in t)}},emits:["update:modelValue"],setup(e,{emit:t}){const s=e,n=t,r=J(null),o=J(!1),i=Ce(()=>{const f=s.options.find(S=>S.value===s.modelValue);return f?f.label:""}),l=Ce(()=>{if(!r.value)return!1;const f=r.value.getBoundingClientRect();return window.innerHeight-f.bottom<200}),c=Ce(()=>r.value?{width:`${r.value.getBoundingClientRect().width}px`}:{}),a=()=>{o.value=!o.value},u=f=>{n("update:modelValue",f.value),o.value=!1},g=()=>{};Nt(()=>{window.addEventListener("resize",g),document.addEventListener("click",y)}),Ht(()=>{window.removeEventListener("resize",g),document.removeEventListener("click",y)});const y=f=>{r.value&&!r.value.contains(f.target)&&(o.value=!1)};return(f,S)=>(Q(),Y("div",{class:"custom-select",ref_key:"containerRef",ref:r},[p("div",{class:Ae(["select-input",{"is-open":o.value}]),onClick:a},[p("span",vc,H(i.value),1),S[0]||(S[0]=p("span",{class:"arrow-icon"},[p("i",{class:"fas fa-chevron-down"})],-1))],2),o.value?(Q(),Y("div",{key:0,class:Ae(["select-dropdown",{"dropdown-up":l.value}]),style:kt(c.value)},[(Q(!0),Y($e,null,nt(e.options,$=>(Q(),Y("div",{key:$.value,class:Ae(["dropdown-item",{selected:e.modelValue===$.value}]),onMousedown:xs(P=>u($),["prevent"])},[rt(H($.label)+" ",1),e.modelValue===$.value?(Q(),Y("span",wc,"")):Te("",!0)],42,bc))),128))],6)):Te("",!0)],512))}},as=cn(yc,[["__scopeId","data-v-01bb39ad"]]),kc={class:"selected-tags"},xc=["onClick"],Tc=["placeholder"],Sc=["onMousedown"],_c={key:0,class:"check-mark"},$c={__name:"TagSelector",props:{modelValue:{type:Array,default:()=>[]},options:{type:Array,default:()=>[]},placeholder:{type:String,default:"..."}},emits:["update:modelValue"],setup(e,{emit:t}){const s=e,n=t,r=J(null),o=J(null),i=J(!1),l=J(""),c=Ce(()=>{if(!r.value)return!1;const q=r.value.getBoundingClientRect();return window.innerHeight-q.bottom<200}),a=Ce(()=>({})),u=Ce(()=>l.value?s.options.filter(q=>q.toLowerCase().includes(l.value.toLowerCase())):s.options),g=()=>{i.value=!0,_e(()=>{var q;(q=o.value)==null||q.focus()})},y=q=>{setTimeout(()=>{var X;(X=r.value)!=null&&X.contains(q.relatedTarget)||(i.value=!1,l.value="")},200)},f=q=>{q.key==="Enter"?(q.preventDefault(),l.value&&!s.modelValue.includes(l.value)&&S(l.value),l.value=""):q.key==="Escape"&&(i.value=!1,l.value="")},S=q=>{const X=[...s.modelValue],V=X.indexOf(q);V===-1?X.push(q):X.splice(V,1),n("update:modelValue",X),l.value="",_e(()=>{var ie;(ie=o.value)==null||ie.focus()})},$=q=>{const X=s.modelValue.filter(V=>V!==q);n("update:modelValue",X),_e(()=>{var V;(V=o.value)==null||V.focus()})},P=()=>{};Nt(()=>{window.addEventListener("resize",P),document.addEventListener("click",N)}),Ht(()=>{window.removeEventListener("resize",P),document.removeEventListener("click",N)});const N=q=>{r.value&&!r.value.contains(q.target)&&(i.value=!1,l.value="")};return(q,X)=>(Q(),Y("div",{class:"tag-selector",ref_key:"containerRef",ref:r},[p("div",{class:"tag-input-container",onClick:g},[p("div",kc,[(Q(!0),Y($e,null,nt(e.modelValue,V=>(Q(),Y("span",{key:V,class:"tag-item"},[rt(" #"+H(V)+" ",1),p("span",{class:"remove-tag",onClick:xs(ie=>$(V),["stop"])},"",8,xc)]))),128))]),Oe(p("input",{ref_key:"inputRef",ref:o,"onUpdate:modelValue":X[0]||(X[0]=V=>l.value=V),class:"tag-filter",placeholder:e.placeholder,onKeydown:f,onFocus:X[1]||(X[1]=V=>i.value=!0),onBlur:y},null,40,Tc),[[et,l.value]])]),i.value?(Q(),Y("div",{key:0,class:Ae(["tag-dropdown",{"dropdown-up":c.value}]),style:kt(a.value)},[(Q(!0),Y($e,null,nt(u.value,V=>(Q(),Y("div",{key:V,class:Ae(["dropdown-item",{selected:e.modelValue.includes(V)}]),onMousedown:xs(ie=>S(V),["prevent"])},[rt(" #"+H(V)+" ",1),e.modelValue.includes(V)?(Q(),Y("span",_c,"")):Te("",!0)],42,Sc))),128))],6)):Te("",!0)],512))}},or=cn($c,[["__scopeId","data-v-ad4ecb06"]]),di={zh:{name:"",code:"zh"},en:{name:"English",code:"en"}},Cc={zh:{save:"",cancel:"",confirm:"",delete:"",edit:"",loading:"...",success:"",error:"",warning:"",app:{title:"Memos Quick Note",editSuccess:"",saveSuccess:"",editError:"",saveError:"",switchToEditor:"",switchToList:"",editMemo:"",saveMemo:""},settings:{title:"",basic:"",content:"",default:"",shortcut:"",tag:"",page:"",other:"",config:"",about:"",host:"Memos ",hostPlaceholder:" Memos ",apiVersion:"API ",token:"Access Token",tokenOpenAPI:"Access Token / OpenAPI",tokenPlaceholder:" Memos Access Tokens",tokenOpenAPIPlaceholder:" Access Token  OpenAPI",addSource:"",useQuote:">",skipDefaultTags:"",preserveFormatting:"",defaultVisibility:"",customTags:"",customTagsPlaceholder:": daily,note",template:"",templatePlaceholder:"{content}, {url}, {title}, {date}",enableShortcuts:"",shortcuts:{save:"",visibility:""},tagBehavior:"",tagBehaviorOptions:{space:"",newline:""},tagSpaceCount:"",tagNewlineCount:"",tagFilterStyle:"",tagFilterStyleOptions:{list:"",selector:""},preferredTags:"",preferredTagsDescription:"",preferredTagsPlaceholder:"...",preview:"",defaultView:"",defaultViewOptions:{editor:"",list:""},width:"",height:"",settingHeight:"",listHeight:"",showWordCount:"",theme:"",themeOptions:{light:"",dark:""},language:"",languageChanged:"",export:"",import:"",reset:"",about:{title:"Memos Quick Note - ",description:" Memos v0.18/v0.24 ",contact:"",email:"",qq:"QQ",github:"GitHub"},visibility:{public:"",private:"",protected:""}},list:{all:"",search:"...",refresh:"",create:"",noMemos:"",noResults:"",loadMore:"...",expand:"",collapse:"",selectTag:"...",confirmDelete:"",deleteSuccess:"",deleteError:"",visibility:{public:"",private:"",protected:""}},editor:{placeholder:"...",wordCount:"",charCount:"",lineCount:"",cancel:"",save:"",saving:"...",emptyContent:"",saveSuccess:"",saveError:"",submit:"",uploading:"...",selectTag:"...",tools:{heading:" (Ctrl+H)",bold:" (Ctrl+B)",italic:" (Ctrl+I)",strikethrough:"",unorderedList:"",orderedList:"",taskList:"",quote:"",codeBlock:"",table:"",link:" (Ctrl+K)",divider:"",uploadImage:"",uploadFile:""},visibility:{public:"",private:"",protected:""}},memo:{expand:"",collapse:"",edit:"",delete:"",visibility:{public:"",private:"",protected:""},expandMore:"",showLess:""}},en:{save:"Save",cancel:"Cancel",confirm:"Confirm",delete:"Delete",edit:"Edit",loading:"Loading...",success:"Success",error:"Error",warning:"Warning",app:{title:"Memos Quick Note",editSuccess:"Update successful",saveSuccess:"Create successful",editError:"Update failed",saveError:"Create failed",switchToEditor:"Switch to editor",switchToList:"Switch to list",editMemo:"Edit memo",saveMemo:"Save memo"},settings:{title:"Settings",basic:"Basic Settings",content:"Content Settings",default:"Default Settings",shortcut:"Shortcut Settings",tag:"Tag Settings",page:"Page Settings",other:"Other Settings",config:"Configuration Management",about:"About",host:"Memos Host URL",hostPlaceholder:"Enter Memos host URL",apiVersion:"API Version",token:"Access Token",tokenOpenAPI:"Access Token / OpenAPI",tokenPlaceholder:"Enter Memos Access Tokens",tokenOpenAPIPlaceholder:"Enter Access Token or OpenAPI",addSource:"Automatically add source information",useQuote:"Wrap selected text with quote format (>)",skipDefaultTags:"Add default custom tags when content contains no tags",preserveFormatting:"Preserve text formatting when adding via right-click",defaultVisibility:"Default Visibility",customTags:"Custom Tags",customTagsPlaceholder:"Separate with commas, e.g.: daily,note",template:"Content Template",templatePlaceholder:"Available variables: {content}, {url}, {title}, {date}",enableShortcuts:"Enable Shortcuts",shortcuts:{save:"Quick Save",visibility:"Toggle Visibility"},tagBehavior:"Tag Input Behavior",tagBehaviorOptions:{space:"Add Space",newline:"Add Newline"},tagSpaceCount:"Space Count",tagNewlineCount:"Newline Count",tagFilterStyle:"Tag Filter Style",tagFilterStyleOptions:{list:"Tag List",selector:"Dropdown Selector"},preferredTags:"Preferred Tags",preferredTagsDescription:"Select tags to display first",preferredTagsPlaceholder:"Select preferred tags...",preview:"Preview",defaultView:"Default View",defaultViewOptions:{editor:"Editor",list:"List"},width:"Default Width",height:"Editor Height",settingHeight:"Settings Height",listHeight:"List Height",showWordCount:"Show Word Count",theme:"Theme",themeOptions:{light:"Light",dark:"Dark"},language:"Language",languageChanged:"Language changed, page will refresh",export:"Export Configuration",import:"Import Configuration",reset:"Reset Settings",about:{title:"Memos Quick Note - Your Smart Note Assistant",description:"Quickly capture ideas and manage knowledge. Supports Memos v0.18/v0.24, one-click save webpage content, smart tag completion, file and image upload, custom shortcuts, personalized settings, making your note-taking experience more efficient and intelligent.",contact:"Contact",email:"Email",qq:"QQ",github:"GitHub"},visibility:{public:"Public",private:"Private",protected:"Protected"}},list:{all:"All",search:"Search content...",refresh:"Refresh",create:"Create",noMemos:"No memos yet",noResults:"No matching memos found",loadMore:"Load more...",expand:"Expand",collapse:"Collapse",selectTag:"Select tag...",confirmDelete:"Are you sure you want to delete this memo?",deleteSuccess:"Delete successful",deleteError:"Delete failed: ",visibility:{public:"Public",private:"Private",protected:"Protected"}},editor:{placeholder:"Enter content...",wordCount:"Words",charCount:"Characters",lineCount:"Lines",cancel:"Cancel",save:"Save",saving:"Saving...",emptyContent:"Content cannot be empty",saveSuccess:"Save successful",saveError:"Save failed: ",submit:"Save",uploading:"Uploading...",selectTag:"Select tag...",tools:{heading:"Heading (Ctrl+H)",bold:"Bold (Ctrl+B)",italic:"Italic (Ctrl+I)",strikethrough:"Strikethrough",unorderedList:"Unordered list",orderedList:"Ordered list",taskList:"Task list",quote:"Quote",codeBlock:"Code block",table:"Table",link:"Link (Ctrl+K)",divider:"Divider",uploadImage:"Upload image",uploadFile:"Upload file"},visibility:{public:"Public",private:"Private",protected:"Protected"}},memo:{expand:"Show more",collapse:"Show less",edit:"Edit",delete:"Delete",visibility:{public:"Public",private:"Private",protected:"Protected"},expandMore:"Show More",showLess:"Show Less"}}},In=()=>localStorage.getItem("memos-language")||"zh",Ec=e=>di[e]?(localStorage.setItem("memos-language",e),!0):!1,x=e=>{const t=In(),s=e.split(".");let n=Cc[t];for(const r of s)if(n&&n[r])n=n[r];else return e;return n},Ac=()=>Object.values(di),Pc={key:0,class:"settings-panel"},Rc={class:"settings-content"},Mc={class:"form-group"},Oc=["placeholder","disabled"],Ic={class:"form-group"},Vc={class:"form-group"},Lc=["placeholder","disabled"],Dc={class:"form-group checkbox"},Bc=["disabled"],zc={for:"addSource",class:"label-content"},jc={class:"form-group checkbox"},Hc=["disabled"],Fc={for:"useQuote",class:"label-content"},Uc={class:"form-group checkbox"},Nc=["disabled"],Wc={for:"skipDefaultTags",class:"label-content"},qc={class:"form-group checkbox"},Kc=["disabled"],Jc={for:"preserveFormatting",class:"label-content"},Qc={class:"form-group"},Gc={class:"form-group"},Zc=["placeholder","disabled"],Yc={class:"form-group"},Xc=["placeholder","disabled"],eu={class:"form-group checkbox"},tu=["disabled"],su={for:"enableShortcuts"},nu={key:0,class:"shortcut-list"},ru={class:"shortcut-item"},ou={class:"shortcut-item"},iu={key:1},lu={key:2,class:"setting-item"},au={key:3,class:"setting-item"},cu={class:"setting-description"},uu={class:"form-group"},fu={class:"form-group"},du={class:"number-input"},pu=["disabled"],hu=["disabled"],gu=["disabled"],mu={class:"form-group"},vu={class:"number-input"},bu=["disabled"],wu=["disabled"],yu=["disabled"],ku={class:"form-group"},xu={class:"number-input"},Tu=["disabled"],Su=["disabled"],_u=["disabled"],$u={class:"form-group"},Cu={class:"number-input"},Eu=["disabled"],Au=["disabled"],Pu=["disabled"],Ru={class:"form-group checkbox"},Mu={for:"showWordCount"},Ou={class:"form-group"},Iu={value:"light"},Vu={value:"dark"},Lu={class:"form-group"},Du=["value"],Bu={class:"form-group"},zu={class:"config-actions"},ju=["disabled"],Hu=["disabled"],Fu=["disabled"],Uu={class:"about-section"},Nu={class:"contact-info"},Wu={class:"settings-footer"},qu=["disabled"],Ku=["disabled"],Ju=er({__name:"setting",props:{showSettings:{type:Boolean,default:!1},editorRef:{type:Object,default:null},content:{type:String,default:""},settings:{type:Object,required:!0}},emits:["update:showSettings","update:content","update:settings"],setup(e,{emit:t}){_a(L=>({f10abab6:`${a.value.settingHeight}px`}));const s=e,n=t,r=async()=>{if(!a.value.host||!a.value.token){console.log("token");return}try{const _=await yt(a.value.apiVersion).getTags(a.value.host,a.value.token);a.value.apiVersion==="v18"?(o.value=_||[],i.value=(_||[]).reduce((E,me)=>(E[me]=1,E),{})):(o.value=_,i.value=(_||[]).reduce((E,me)=>(E[me.name]=me.count,E),{}))}catch(L){console.error(":",L),L.message.includes("")||L.message.includes("")?console.log(""):he(": "+L.message,"error"),o.value=[],i.value={}}},o=J([]),i=J({}),l=J(s.content),c=J(s.showSettings);J(s.editorRef);const a=J({...s.settings});we(()=>s.showSettings,L=>{c.value=L}),we(()=>s.settings,L=>{c.value||(a.value={...L})},{deep:!0}),we(()=>s.content,L=>{l.value=L}),we(a,L=>{},{deep:!0}),we(()=>s.showSettings,L=>{c.value=L,L&&(a.value={...s.settings})});const u=L=>{if(!L)return{isValid:!0,tags:[]};const _=L.split(",").map(xe=>xe.trim()).filter(xe=>xe),E=_.filter(xe=>!!(xe.includes(" ")||!/^[a-zA-Z0-9\u4e00-\u9fa5_-]+$/.test(xe)||xe.length>20)),me=[...new Set(_)],Re=me.length!==_.length;return{isValid:E.length===0&&!Re,tags:me,invalidTags:E,hasDuplicates:Re}},g=J(In()),y=Ac(),f=L=>{g.value=L.target.value},S=async()=>{if(!N.value){he("","error");return}if(!a.value.host){he("","error");return}if(!a.value.token){he("Access Token ","error");return}if(a.value.host.endsWith("/")&&(a.value.host=a.value.host.slice(0,-1)),a.value.customTags){const L=u(a.value.customTags);if(!L.isValid){let _="";L.invalidTags.length>0&&(_+=`
- ${L.invalidTags.join(", ")}`),L.hasDuplicates&&(_+=`
- `),he(_,"error");return}a.value.customTags=L.tags.join(", ")}P.value=!0;try{const _=await yt(a.value.apiVersion).testConnection(a.value.host,a.value.token);if(!_.ok)throw new Error("API ");const E={...a.value,userInfo:_.data,preferredTags:a.value.preferredTags||[]};console.log("Memos: ",E),console.log("Memos: preserveFormatting",E.preserveFormatting),chrome.storage.local.set({"memos-settings":E}),n("update:settings",E),Ec(g.value)?(he(x("settings.languageChanged")),n("update:showSettings",!1),window.location.reload()):n("update:showSettings",!1),he(""),await r()}catch(L){console.error(":",L),he(`: ${L.message}`,"error")}finally{P.value=!1}},$=J(!1),P=J(!1);Ce(()=>({settings:a.value,content:s.content,showSettings:s.showSettings,isDev:$.value}));const N=Ce(()=>a.value.host&&a.value.token),q=()=>{a.value.width<800&&(a.value.width+=50)},X=()=>{a.value.width>300&&(a.value.width-=50)},V=()=>{a.value.height<600&&(a.value.height+=50)},ie=()=>{a.value.height>200&&(a.value.height-=50)},ke=()=>{a.value.listMaxHeight<1e3&&(a.value.listMaxHeight+=50)},ce=()=>{a.value.listMaxHeight>300&&(a.value.listMaxHeight-=50)},le=()=>{a.value.settingHeight<1e3&&(a.value.settingHeight+=50)},Se=()=>{a.value.settingHeight>300&&(a.value.settingHeight-=50)},G=()=>{try{const L={...a.value,preferredTags:a.value.preferredTags||[]},_=new Blob([JSON.stringify(L,null,2)],{type:"application/json"}),E=URL.createObjectURL(_),me=document.createElement("a");me.href=E,me.download="memos-settings.json",document.body.appendChild(me),me.click(),document.body.removeChild(me),URL.revokeObjectURL(E),he("")}catch(L){console.error(":",L),he(""+L.message,"error")}},ge=L=>{const _=L.target.files[0];if(!_)return;const E=new FileReader;E.onload=me=>{try{const Re=JSON.parse(me.target.result);if(!Re.host||!Re.token)throw new Error("");const xe=a.value.width,F=a.value.height;Object.assign(a.value,Re),a.value.width=xe,a.value.height=F,he("")}catch(Re){console.error(":",Re),he(""+Re.message,"error")}},E.readAsText(_),L.target.value=""},Ee=()=>{confirm("")&&(a.value={host:"",token:"",apiVersion:"v25",addSource:!0,useQuote:!0,skipDefaultTags:!1,defaultVisibility:"PRIVATE",customTags:"",template:`{content}

[{title}]({url})`,enableShortcuts:!0,tagSpaceCount:1,defaultView:"editor",showWordCount:!0,theme:"light",width:550,height:400,listMaxHeight:600,settingHeight:600,tagFilterStyle:"list",preferredTags:[],preserveFormatting:!0},he(""))},lt=()=>{a.value={...s.settings},g.value=In(),n("update:showSettings",!1)};let Ye=null;const at=()=>{Ye&&clearTimeout(Ye),Ye=setTimeout(()=>{r()},1e3)};return we(()=>a.value.host,L=>{L&&a.value.token&&at()}),we(()=>a.value.token,L=>{L&&a.value.host&&at()}),we(()=>a.value.apiVersion,()=>{a.value.host&&a.value.token&&at()}),(L,_)=>c.value?(Q(),Y("div",Pc,[p("div",Rc,[p("h2",null,H(T(x)("settings.basic")),1),p("div",Mc,[p("label",null,H(T(x)("settings.host")),1),Oe(p("input",{"onUpdate:modelValue":_[0]||(_[0]=E=>a.value.host=E),type:"text",placeholder:T(x)("settings.hostPlaceholder"),disabled:P.value},null,8,Oc),[[et,a.value.host]])]),p("div",Ic,[p("label",null,H(T(x)("settings.apiVersion")),1),Ve(as,{modelValue:a.value.apiVersion,"onUpdate:modelValue":_[1]||(_[1]=E=>a.value.apiVersion=E),options:[{value:"v18",label:"0.18"},{value:"v24",label:"0.24"},{value:"v25",label:"0.25"},{value:"v26",label:"0.26"}],disabled:P.value},null,8,["modelValue","disabled"])]),p("div",Vc,[p("label",null,H(a.value.apiVersion==="v18"?T(x)("settings.token"):T(x)("settings.tokenOpenAPI")),1),Oe(p("input",{"onUpdate:modelValue":_[2]||(_[2]=E=>a.value.token=E),type:"password",placeholder:a.value.apiVersion==="v18"?T(x)("settings.tokenPlaceholder"):T(x)("settings.tokenOpenAPIPlaceholder"),disabled:P.value},null,8,Lc),[[et,a.value.token]])]),p("h2",null,H(T(x)("settings.content")),1),p("div",Dc,[Oe(p("input",{type:"checkbox",id:"addSource","onUpdate:modelValue":_[3]||(_[3]=E=>a.value.addSource=E),disabled:P.value},null,8,Bc),[[Kt,a.value.addSource]]),p("label",zc,H(T(x)("settings.addSource")),1)]),p("div",jc,[Oe(p("input",{type:"checkbox",id:"useQuote","onUpdate:modelValue":_[4]||(_[4]=E=>a.value.useQuote=E),disabled:P.value},null,8,Hc),[[Kt,a.value.useQuote]]),p("label",Fc,H(T(x)("settings.useQuote")),1)]),p("div",Uc,[Oe(p("input",{type:"checkbox",id:"skipDefaultTags","onUpdate:modelValue":_[5]||(_[5]=E=>a.value.skipDefaultTags=E),disabled:P.value},null,8,Nc),[[Kt,a.value.skipDefaultTags]]),p("label",Wc,H(T(x)("settings.skipDefaultTags")),1)]),p("div",qc,[Oe(p("input",{type:"checkbox",id:"preserveFormatting","onUpdate:modelValue":_[6]||(_[6]=E=>a.value.preserveFormatting=E),disabled:P.value},null,8,Kc),[[Kt,a.value.preserveFormatting]]),p("label",Jc,H(T(x)("settings.preserveFormatting")),1)]),p("h2",null,H(T(x)("settings.default")),1),p("div",Qc,[p("label",null,H(T(x)("settings.defaultVisibility")),1),Ve(as,{modelValue:a.value.defaultVisibility,"onUpdate:modelValue":_[7]||(_[7]=E=>a.value.defaultVisibility=E),options:[{value:"PUBLIC",label:T(x)("settings.visibility.public")},{value:"PRIVATE",label:T(x)("settings.visibility.private")},{value:"PROTECTED",label:T(x)("settings.visibility.protected")}],disabled:P.value},null,8,["modelValue","options","disabled"])]),p("div",Gc,[p("label",null,H(T(x)("settings.customTags")),1),Oe(p("input",{"onUpdate:modelValue":_[8]||(_[8]=E=>a.value.customTags=E),type:"text",placeholder:T(x)("settings.customTagsPlaceholder"),disabled:P.value},null,8,Zc),[[et,a.value.customTags]])]),p("div",Yc,[p("label",null,H(T(x)("settings.template")),1),Oe(p("textarea",{"onUpdate:modelValue":_[9]||(_[9]=E=>a.value.template=E),placeholder:T(x)("settings.templatePlaceholder"),rows:"3",disabled:P.value},null,8,Xc),[[et,a.value.template]])]),p("h2",null,H(T(x)("settings.shortcut")),1),p("div",eu,[Oe(p("input",{type:"checkbox",id:"enableShortcuts","onUpdate:modelValue":_[10]||(_[10]=E=>a.value.enableShortcuts=E),disabled:P.value},null,8,tu),[[Kt,a.value.enableShortcuts]]),p("label",su,H(T(x)("settings.enableShortcuts")),1)]),a.value.enableShortcuts?(Q(),Y("div",nu,[p("div",ru,[_[21]||(_[21]=p("span",null,"Ctrl/Cmd + Enter",-1)),p("span",null,H(T(x)("settings.shortcuts.save")),1)]),p("div",ou,[_[22]||(_[22]=p("span",null,"Ctrl/Cmd + Shift + P",-1)),p("span",null,H(T(x)("settings.shortcuts.visibility")),1)])])):Te("",!0),a.value.apiVersion!=="v24"?(Q(),Y("h2",iu,H(T(x)("settings.tag")),1)):Te("",!0),a.value.apiVersion!=="v24"?(Q(),Y("div",lu,[p("label",null,H(T(x)("settings.tagFilterStyle")),1),Ve(as,{modelValue:a.value.tagFilterStyle,"onUpdate:modelValue":_[11]||(_[11]=E=>a.value.tagFilterStyle=E),options:[{value:"list",label:T(x)("settings.tagFilterStyleOptions.list")},{value:"selector",label:T(x)("settings.tagFilterStyleOptions.selector")}],disabled:P.value},null,8,["modelValue","options","disabled"])])):Te("",!0),a.value.apiVersion!=="v24"?(Q(),Y("div",au,[p("label",null,H(T(x)("settings.preferredTags")),1),p("div",cu,H(T(x)("settings.preferredTagsDescription")),1),Ve(or,{modelValue:a.value.preferredTags,"onUpdate:modelValue":_[12]||(_[12]=E=>a.value.preferredTags=E),options:o.value,placeholder:T(x)("settings.preferredTagsPlaceholder"),multiple:"",disabled:P.value||!a.value.host||!a.value.token},null,8,["modelValue","options","placeholder","disabled"])])):Te("",!0),p("h2",null,H(T(x)("settings.page")),1),p("div",uu,[p("label",null,H(T(x)("settings.defaultView")),1),Ve(as,{modelValue:a.value.defaultView,"onUpdate:modelValue":_[13]||(_[13]=E=>a.value.defaultView=E),options:[{value:"editor",label:T(x)("settings.defaultViewOptions.editor")},{value:"list",label:T(x)("settings.defaultViewOptions.list")}],disabled:P.value},null,8,["modelValue","options","disabled"])]),p("div",fu,[p("label",null,H(T(x)("settings.width")),1),p("div",du,[p("button",{onClick:X,type:"button",class:"number-btn",disabled:P.value},"-",8,pu),Oe(p("input",{type:"number","onUpdate:modelValue":_[14]||(_[14]=E=>a.value.width=E),min:"300",max:"800",class:"count-input",disabled:P.value},null,8,hu),[[et,a.value.width,void 0,{number:!0}]]),p("button",{onClick:q,type:"button",class:"number-btn",disabled:P.value},"+",8,gu)])]),p("div",mu,[p("label",null,H(T(x)("settings.height")),1),p("div",vu,[p("button",{onClick:ie,type:"button",class:"number-btn",disabled:P.value},"-",8,bu),Oe(p("input",{type:"number","onUpdate:modelValue":_[15]||(_[15]=E=>a.value.height=E),min:"400",max:"600",class:"count-input",disabled:P.value},null,8,wu),[[et,a.value.height,void 0,{number:!0}]]),p("button",{onClick:V,type:"button",class:"number-btn",disabled:P.value},"+",8,yu)])]),p("div",ku,[p("label",null,H(T(x)("settings.settingHeight")),1),p("div",xu,[p("button",{onClick:Se,type:"button",class:"number-btn",disabled:P.value},"-",8,Tu),Oe(p("input",{type:"number","onUpdate:modelValue":_[16]||(_[16]=E=>a.value.settingHeight=E),min:"400",max:"600",step:"50",class:"count-input",disabled:P.value},null,8,Su),[[et,a.value.settingHeight,void 0,{number:!0}]]),p("button",{onClick:le,type:"button",class:"number-btn",disabled:P.value},"+",8,_u)])]),p("div",$u,[p("label",null,H(T(x)("settings.listHeight")),1),p("div",Cu,[p("button",{onClick:ce,type:"button",class:"number-btn",disabled:P.value},"-",8,Eu),Oe(p("input",{type:"number","onUpdate:modelValue":_[17]||(_[17]=E=>a.value.listMaxHeight=E),min:"400",max:"600",step:"50",class:"count-input",disabled:P.value},null,8,Au),[[et,a.value.listMaxHeight,void 0,{number:!0}]]),p("button",{onClick:ke,type:"button",class:"number-btn",disabled:P.value},"+",8,Pu)])]),p("h2",null,H(T(x)("settings.other")),1),p("div",Ru,[Oe(p("input",{type:"checkbox",id:"showWordCount","onUpdate:modelValue":_[18]||(_[18]=E=>a.value.showWordCount=E)},null,512),[[Kt,a.value.showWordCount]]),p("label",Mu,H(T(x)("settings.showWordCount")),1)]),p("div",Ou,[p("label",null,H(T(x)("settings.theme")),1),Oe(p("select",{"onUpdate:modelValue":_[19]||(_[19]=E=>a.value.theme=E)},[p("option",Iu,H(T(x)("settings.themeOptions.light")),1),p("option",Vu,H(T(x)("settings.themeOptions.dark")),1)],512),[[Nr,a.value.theme]])]),p("div",Lu,[p("label",null,H(T(x)("settings.language")),1),Oe(p("select",{"onUpdate:modelValue":_[20]||(_[20]=E=>g.value=E),onChange:f},[(Q(!0),Y($e,null,nt(T(y),E=>(Q(),Y("option",{key:E.code,value:E.code},H(E.name),9,Du))),128))],544),[[Nr,g.value]])]),p("h2",null,H(T(x)("settings.config")),1),p("div",Bu,[p("div",zu,[p("button",{class:"export-btn",onClick:G,disabled:P.value},H(T(x)("settings.export")),9,ju),p("label",{class:Ae(["import-btn",{disabled:P.value}])},[rt(H(T(x)("settings.import"))+" ",1),p("input",{type:"file",accept:".json",onChange:ge,disabled:P.value,style:{display:"none"}},null,40,Hu)],2),p("button",{class:"reset-btn",onClick:Ee,disabled:P.value},H(T(x)("settings.reset")),9,Fu)])]),p("h2",null,H(T(x)("settings.about.title")),1),p("div",Uu,[p("p",null,H(T(x)("settings.about.title")),1),p("p",null,H(T(x)("settings.about.description")),1),p("div",Nu,[p("h3",null,H(T(x)("settings.about.contact")),1),p("p",null,[_[23]||(_[23]=p("i",{class:"fas fa-envelope"},null,-1)),rt(" "+H(T(x)("settings.about.email"))+"",1),_[24]||(_[24]=p("a",{href:"mailto:admin@chendimao.com"},"admin@chendimao.com",-1))]),p("p",null,[_[25]||(_[25]=p("i",{class:"fab fa-qq"},null,-1)),rt(" "+H(T(x)("settings.about.qq"))+"122803265",1)]),p("p",null,[_[26]||(_[26]=p("i",{class:"fab fa-github"},null,-1)),rt(" "+H(T(x)("settings.about.github"))+"",1),_[27]||(_[27]=p("a",{href:"https://github.com/chendimao/memos-browers-plugin/",target:"_blank"},"chendimao/memos-browers-plugin",-1))])])])]),p("div",Wu,[p("button",{class:"cancel-btn",onClick:lt,disabled:P.value},H(T(x)("cancel")),9,qu),p("button",{class:"save-btn",onClick:S,disabled:P.value},H(P.value?T(x)("loading"):T(x)("save")),9,Ku)])])):Te("",!0)}}),Qu=cn(Ju,[["__scopeId","data-v-176ff1d7"]]),Gu=e=>{if(!e)return"";let t;if(typeof e=="string"&&e.includes("T"))t=new Date(e);else{const a=Number(e);if(isNaN(a))return"";a.toString().length===10?t=new Date(a*1e3):t=new Date(a)}if(isNaN(t.getTime()))return console.error("Invalid date:",e),"";const s=a=>a.toString().padStart(2,"0"),n=t.getFullYear(),r=s(t.getMonth()+1),o=s(t.getDate()),i=s(t.getHours()),l=s(t.getMinutes()),c=s(t.getSeconds());return`${n}-${r}-${o} ${i}:${l}:${c}`};function ir(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Wt=ir();function pi(e){Wt=e}var Bt={exec:()=>null};function ae(e,t=""){let s=typeof e=="string"?e:e.source,n={replace:(r,o)=>{let i=typeof o=="string"?o:o.source;return i=i.replace(qe.caret,"$1"),s=s.replace(r,i),n},getRegex:()=>new RegExp(s,t)};return n}var Zu=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),qe={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i"),blockquoteBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}>`)},Yu=/^(?:[ \t]*(?:\n|$))+/,Xu=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,ef=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Cs=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,tf=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,lr=/ {0,3}(?:[*+-]|\d{1,9}[.)])/,hi=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,gi=ae(hi).replace(/bull/g,lr).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),sf=ae(hi).replace(/bull/g,lr).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),ar=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,nf=/^[^\n]+/,cr=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,rf=ae(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",cr).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),of=ae(/^(bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,lr).getRegex(),un="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ur=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,lf=ae("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",ur).replace("tag",un).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),mi=ae(ar).replace("hr",Cs).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)])[ \\t]").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",un).getRegex(),af=ae(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",mi).getRegex(),fr={blockquote:af,code:Xu,def:rf,fences:ef,heading:tf,hr:Cs,html:lf,lheading:gi,list:of,newline:Yu,paragraph:mi,table:Bt,text:nf},Qr=ae("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Cs).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)])[ \\t]").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",un).getRegex(),cf={...fr,lheading:sf,table:Qr,paragraph:ae(ar).replace("hr",Cs).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Qr).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)])[ \\t]").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",un).getRegex()},uf={...fr,html:ae(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",ur).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Bt,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ae(ar).replace("hr",Cs).replace("heading",` *#{1,6} *[^
]`).replace("lheading",gi).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},ff=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,df=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,vi=/^( {2,}|\\)\n(?!\s*$)/,pf=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,fn=/[\p{P}\p{S}]/u,dr=/[\s\p{P}\p{S}]/u,bi=/[^\s\p{P}\p{S}]/u,hf=ae(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,dr).getRegex(),wi=/(?!~)[\p{P}\p{S}]/u,gf=/(?!~)[\s\p{P}\p{S}]/u,mf=/(?:[^\s\p{P}\p{S}]|~)/u,yi=/(?![*_])[\p{P}\p{S}]/u,vf=/(?![*_])[\s\p{P}\p{S}]/u,bf=/(?:[^\s\p{P}\p{S}]|[*_])/u,wf=ae(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",Zu?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),ki=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,yf=ae(ki,"u").replace(/punct/g,fn).getRegex(),kf=ae(ki,"u").replace(/punct/g,wi).getRegex(),xi="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",xf=ae(xi,"gu").replace(/notPunctSpace/g,bi).replace(/punctSpace/g,dr).replace(/punct/g,fn).getRegex(),Tf=ae(xi,"gu").replace(/notPunctSpace/g,mf).replace(/punctSpace/g,gf).replace(/punct/g,wi).getRegex(),Sf=ae("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,bi).replace(/punctSpace/g,dr).replace(/punct/g,fn).getRegex(),_f=ae(/^~~?(?:((?!~)punct)|[^\s~])/,"u").replace(/punct/g,yi).getRegex(),$f="^[^~]+(?=[^~])|(?!~)punct(~~?)(?=[\\s]|$)|notPunctSpace(~~?)(?!~)(?=punctSpace|$)|(?!~)punctSpace(~~?)(?=notPunctSpace)|[\\s](~~?)(?!~)(?=punct)|(?!~)punct(~~?)(?!~)(?=punct)|notPunctSpace(~~?)(?=notPunctSpace)",Cf=ae($f,"gu").replace(/notPunctSpace/g,bf).replace(/punctSpace/g,vf).replace(/punct/g,yi).getRegex(),Ef=ae(/\\(punct)/,"gu").replace(/punct/g,fn).getRegex(),Af=ae(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Pf=ae(ur).replace("(?:-->|$)","-->").getRegex(),Rf=ae("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Pf).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Gs=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,Mf=ae(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Gs).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Ti=ae(/^!?\[(label)\]\[(ref)\]/).replace("label",Gs).replace("ref",cr).getRegex(),Si=ae(/^!?\[(ref)\](?:\[\])?/).replace("ref",cr).getRegex(),Of=ae("reflink|nolink(?!\\()","g").replace("reflink",Ti).replace("nolink",Si).getRegex(),Gr=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,pr={_backpedal:Bt,anyPunctuation:Ef,autolink:Af,blockSkip:wf,br:vi,code:df,del:Bt,delLDelim:Bt,delRDelim:Bt,emStrongLDelim:yf,emStrongRDelimAst:xf,emStrongRDelimUnd:Sf,escape:ff,link:Mf,nolink:Si,punctuation:hf,reflink:Ti,reflinkSearch:Of,tag:Rf,text:pf,url:Bt},If={...pr,link:ae(/^!?\[(label)\]\((.*?)\)/).replace("label",Gs).getRegex(),reflink:ae(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Gs).getRegex()},Vn={...pr,emStrongRDelimAst:Tf,emStrongLDelim:kf,delLDelim:_f,delRDelim:Cf,url:ae(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",Gr).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:ae(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",Gr).getRegex()},Vf={...Vn,br:ae(vi).replace("{2,}","*").getRegex(),text:ae(Vn.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Vs={normal:fr,gfm:cf,pedantic:uf},os={normal:pr,gfm:Vn,breaks:Vf,pedantic:If},Lf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Zr=e=>Lf[e];function mt(e,t){if(t){if(qe.escapeTest.test(e))return e.replace(qe.escapeReplace,Zr)}else if(qe.escapeTestNoEncode.test(e))return e.replace(qe.escapeReplaceNoEncode,Zr);return e}function Yr(e){try{e=encodeURI(e).replace(qe.percentDecode,"%")}catch{return null}return e}function Xr(e,t){var o;let s=e.replace(qe.findPipe,(i,l,c)=>{let a=!1,u=l;for(;--u>=0&&c[u]==="\\";)a=!a;return a?"|":" |"}),n=s.split(qe.splitPipe),r=0;if(n[0].trim()||n.shift(),n.length>0&&!((o=n.at(-1))!=null&&o.trim())&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(qe.slashPipe,"|");return n}function is(e,t,s){let n=e.length;if(n===0)return"";let r=0;for(;r<n&&e.charAt(n-r-1)===t;)r++;return e.slice(0,n-r)}function Df(e,t){if(e.indexOf(t[1])===-1)return-1;let s=0;for(let n=0;n<e.length;n++)if(e[n]==="\\")n++;else if(e[n]===t[0])s++;else if(e[n]===t[1]&&(s--,s<0))return n;return s>0?-2:-1}function Bf(e,t=0){let s=t,n="";for(let r of e)if(r==="	"){let o=4-s%4;n+=" ".repeat(o),s+=o}else n+=r,s++;return n}function eo(e,t,s,n,r){let o=t.href,i=t.title||null,l=e[1].replace(r.other.outputLinkReplace,"$1");n.state.inLink=!0;let c={type:e[0].charAt(0)==="!"?"image":"link",raw:s,href:o,title:i,text:l,tokens:n.inlineTokens(l)};return n.state.inLink=!1,c}function zf(e,t,s){let n=e.match(s.other.indentCodeCompensation);if(n===null)return t;let r=n[1];return t.split(`
`).map(o=>{let i=o.match(s.other.beginningSpace);if(i===null)return o;let[l]=i;return l.length>=r.length?o.slice(r.length):o}).join(`
`)}var Zs=class{constructor(e){pe(this,"options");pe(this,"rules");pe(this,"lexer");this.options=e||Wt}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let s=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?s:is(s,`
`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let s=t[0],n=zf(s,t[3]||"",this.rules);return{type:"code",raw:s,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let s=t[2].trim();if(this.rules.other.endingHash.test(s)){let n=is(s,"#");(this.options.pedantic||!n||this.rules.other.endingSpaceChar.test(n))&&(s=n.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:s,tokens:this.lexer.inline(s)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:is(t[0],`
`)}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let s=is(t[0],`
`).split(`
`),n="",r="",o=[];for(;s.length>0;){let i=!1,l=[],c;for(c=0;c<s.length;c++)if(this.rules.other.blockquoteStart.test(s[c]))l.push(s[c]),i=!0;else if(!i)l.push(s[c]);else break;s=s.slice(c);let a=l.join(`
`),u=a.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}
${a}`:a,r=r?`${r}
${u}`:u;let g=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(u,o,!0),this.lexer.state.top=g,s.length===0)break;let y=o.at(-1);if((y==null?void 0:y.type)==="code")break;if((y==null?void 0:y.type)==="blockquote"){let f=y,S=f.raw+`
`+s.join(`
`),$=this.blockquote(S);o[o.length-1]=$,n=n.substring(0,n.length-f.raw.length)+$.raw,r=r.substring(0,r.length-f.text.length)+$.text;break}else if((y==null?void 0:y.type)==="list"){let f=y,S=f.raw+`
`+s.join(`
`),$=this.list(S);o[o.length-1]=$,n=n.substring(0,n.length-y.raw.length)+$.raw,r=r.substring(0,r.length-f.raw.length)+$.raw,s=S.substring(o.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:n,tokens:o,text:r}}}list(e){var s,n;let t=this.rules.block.list.exec(e);if(t){let r=t[1].trim(),o=r.length>1,i={type:"list",raw:"",ordered:o,start:o?+r.slice(0,-1):"",loose:!1,items:[]};r=o?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=o?r:"[*+-]");let l=this.rules.other.listItemRegex(r),c=!1;for(;e;){let u=!1,g="",y="";if(!(t=l.exec(e))||this.rules.block.hr.test(e))break;g=t[0],e=e.substring(g.length);let f=Bf(t[2].split(`
`,1)[0],t[1].length),S=e.split(`
`,1)[0],$=!f.trim(),P=0;if(this.options.pedantic?(P=2,y=f.trimStart()):$?P=t[1].length+1:(P=f.search(this.rules.other.nonSpaceChar),P=P>4?1:P,y=f.slice(P),P+=t[1].length),$&&this.rules.other.blankLine.test(S)&&(g+=S+`
`,e=e.substring(S.length+1),u=!0),!u){let N=this.rules.other.nextBulletRegex(P),q=this.rules.other.hrRegex(P),X=this.rules.other.fencesBeginRegex(P),V=this.rules.other.headingBeginRegex(P),ie=this.rules.other.htmlBeginRegex(P),ke=this.rules.other.blockquoteBeginRegex(P);for(;e;){let ce=e.split(`
`,1)[0],le;if(S=ce,this.options.pedantic?(S=S.replace(this.rules.other.listReplaceNesting,"  "),le=S):le=S.replace(this.rules.other.tabCharGlobal,"    "),X.test(S)||V.test(S)||ie.test(S)||ke.test(S)||N.test(S)||q.test(S))break;if(le.search(this.rules.other.nonSpaceChar)>=P||!S.trim())y+=`
`+le.slice(P);else{if($||f.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||X.test(f)||V.test(f)||q.test(f))break;y+=`
`+S}$=!S.trim(),g+=ce+`
`,e=e.substring(ce.length+1),f=le.slice(P)}}i.loose||(c?i.loose=!0:this.rules.other.doubleBlankLine.test(g)&&(c=!0)),i.items.push({type:"list_item",raw:g,task:!!this.options.gfm&&this.rules.other.listIsTask.test(y),loose:!1,text:y,tokens:[]}),i.raw+=g}let a=i.items.at(-1);if(a)a.raw=a.raw.trimEnd(),a.text=a.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let u of i.items){if(this.lexer.state.top=!1,u.tokens=this.lexer.blockTokens(u.text,[]),u.task){if(u.text=u.text.replace(this.rules.other.listReplaceTask,""),((s=u.tokens[0])==null?void 0:s.type)==="text"||((n=u.tokens[0])==null?void 0:n.type)==="paragraph"){u.tokens[0].raw=u.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),u.tokens[0].text=u.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let y=this.lexer.inlineQueue.length-1;y>=0;y--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[y].src)){this.lexer.inlineQueue[y].src=this.lexer.inlineQueue[y].src.replace(this.rules.other.listReplaceTask,"");break}}let g=this.rules.other.listTaskCheckbox.exec(u.raw);if(g){let y={type:"checkbox",raw:g[0]+" ",checked:g[0]!=="[ ]"};u.checked=y.checked,i.loose?u.tokens[0]&&["paragraph","text"].includes(u.tokens[0].type)&&"tokens"in u.tokens[0]&&u.tokens[0].tokens?(u.tokens[0].raw=y.raw+u.tokens[0].raw,u.tokens[0].text=y.raw+u.tokens[0].text,u.tokens[0].tokens.unshift(y)):u.tokens.unshift({type:"paragraph",raw:y.raw,text:y.raw,tokens:[y]}):u.tokens.unshift(y)}}if(!i.loose){let g=u.tokens.filter(f=>f.type==="space"),y=g.length>0&&g.some(f=>this.rules.other.anyLine.test(f.raw));i.loose=y}}if(i.loose)for(let u of i.items){u.loose=!0;for(let g of u.tokens)g.type==="text"&&(g.type="paragraph")}return i}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let s=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:s,raw:t[0],href:n,title:r}}}table(e){var i;let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let s=Xr(t[1]),n=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),r=(i=t[3])!=null&&i.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],o={type:"table",raw:t[0],header:[],align:[],rows:[]};if(s.length===n.length){for(let l of n)this.rules.other.tableAlignRight.test(l)?o.align.push("right"):this.rules.other.tableAlignCenter.test(l)?o.align.push("center"):this.rules.other.tableAlignLeft.test(l)?o.align.push("left"):o.align.push(null);for(let l=0;l<s.length;l++)o.header.push({text:s[l],tokens:this.lexer.inline(s[l]),header:!0,align:o.align[l]});for(let l of r)o.rows.push(Xr(l,o.header.length).map((c,a)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:o.align[a]})));return o}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let s=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:s,tokens:this.lexer.inline(s)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let s=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(s)){if(!this.rules.other.endAngleBracket.test(s))return;let o=is(s.slice(0,-1),"\\");if((s.length-o.length)%2===0)return}else{let o=Df(t[2],"()");if(o===-2)return;if(o>-1){let i=(t[0].indexOf("!")===0?5:4)+t[1].length+o;t[2]=t[2].substring(0,o),t[0]=t[0].substring(0,i).trim(),t[3]=""}}let n=t[2],r="";if(this.options.pedantic){let o=this.rules.other.pedanticHrefTitle.exec(n);o&&(n=o[1],r=o[3])}else r=t[3]?t[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(s)?n=n.slice(1):n=n.slice(1,-1)),eo(t,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:r&&r.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let s;if((s=this.rules.inline.reflink.exec(e))||(s=this.rules.inline.nolink.exec(e))){let n=(s[2]||s[1]).replace(this.rules.other.multipleSpaceGlobal," "),r=t[n.toLowerCase()];if(!r){let o=s[0].charAt(0);return{type:"text",raw:o,text:o}}return eo(s,r,s[0],this.lexer,this.rules)}}emStrong(e,t,s=""){let n=this.rules.inline.emStrongLDelim.exec(e);if(!(!n||n[3]&&s.match(this.rules.other.unicodeAlphaNumeric))&&(!(n[1]||n[2])||!s||this.rules.inline.punctuation.exec(s))){let r=[...n[0]].length-1,o,i,l=r,c=0,a=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(a.lastIndex=0,t=t.slice(-1*e.length+r);(n=a.exec(t))!=null;){if(o=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!o)continue;if(i=[...o].length,n[3]||n[4]){l+=i;continue}else if((n[5]||n[6])&&r%3&&!((r+i)%3)){c+=i;continue}if(l-=i,l>0)continue;i=Math.min(i,i+l+c);let u=[...n[0]][0].length,g=e.slice(0,r+n.index+u+i);if(Math.min(r,i)%2){let f=g.slice(1,-1);return{type:"em",raw:g,text:f,tokens:this.lexer.inlineTokens(f)}}let y=g.slice(2,-2);return{type:"strong",raw:g,text:y,tokens:this.lexer.inlineTokens(y)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let s=t[2].replace(this.rules.other.newLineCharGlobal," "),n=this.rules.other.nonSpaceChar.test(s),r=this.rules.other.startingSpaceChar.test(s)&&this.rules.other.endingSpaceChar.test(s);return n&&r&&(s=s.substring(1,s.length-1)),{type:"codespan",raw:t[0],text:s}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e,t,s=""){let n=this.rules.inline.delLDelim.exec(e);if(n&&(!n[1]||!s||this.rules.inline.punctuation.exec(s))){let r=[...n[0]].length-1,o,i,l=r,c=this.rules.inline.delRDelim;for(c.lastIndex=0,t=t.slice(-1*e.length+r);(n=c.exec(t))!=null;){if(o=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!o||(i=[...o].length,i!==r))continue;if(n[3]||n[4]){l+=i;continue}if(l-=i,l>0)continue;i=Math.min(i,i+l);let a=[...n[0]][0].length,u=e.slice(0,r+n.index+a+i),g=u.slice(r,-r);return{type:"del",raw:u,text:g,tokens:this.lexer.inlineTokens(g)}}}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let s,n;return t[2]==="@"?(s=t[1],n="mailto:"+s):(s=t[1],n=s),{type:"link",raw:t[0],text:s,href:n,tokens:[{type:"text",raw:s,text:s}]}}}url(e){var s;let t;if(t=this.rules.inline.url.exec(e)){let n,r;if(t[2]==="@")n=t[0],r="mailto:"+n;else{let o;do o=t[0],t[0]=((s=this.rules.inline._backpedal.exec(t[0]))==null?void 0:s[0])??"";while(o!==t[0]);n=t[0],t[1]==="www."?r="http://"+t[0]:r=t[0]}return{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let s=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:s}}}},tt=class Ln{constructor(t){pe(this,"tokens");pe(this,"options");pe(this,"state");pe(this,"inlineQueue");pe(this,"tokenizer");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Wt,this.options.tokenizer=this.options.tokenizer||new Zs,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let s={other:qe,block:Vs.normal,inline:os.normal};this.options.pedantic?(s.block=Vs.pedantic,s.inline=os.pedantic):this.options.gfm&&(s.block=Vs.gfm,this.options.breaks?s.inline=os.breaks:s.inline=os.gfm),this.tokenizer.rules=s}static get rules(){return{block:Vs,inline:os}}static lex(t,s){return new Ln(s).lex(t)}static lexInline(t,s){return new Ln(s).inlineTokens(t)}lex(t){t=t.replace(qe.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let s=0;s<this.inlineQueue.length;s++){let n=this.inlineQueue[s];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,s=[],n=!1){var r,o,i;for(this.options.pedantic&&(t=t.replace(qe.tabCharGlobal,"    ").replace(qe.spaceLine,""));t;){let l;if((o=(r=this.options.extensions)==null?void 0:r.block)!=null&&o.some(a=>(l=a.call({lexer:this},t,s))?(t=t.substring(l.raw.length),s.push(l),!0):!1))continue;if(l=this.tokenizer.space(t)){t=t.substring(l.raw.length);let a=s.at(-1);l.raw.length===1&&a!==void 0?a.raw+=`
`:s.push(l);continue}if(l=this.tokenizer.code(t)){t=t.substring(l.raw.length);let a=s.at(-1);(a==null?void 0:a.type)==="paragraph"||(a==null?void 0:a.type)==="text"?(a.raw+=(a.raw.endsWith(`
`)?"":`
`)+l.raw,a.text+=`
`+l.text,this.inlineQueue.at(-1).src=a.text):s.push(l);continue}if(l=this.tokenizer.fences(t)){t=t.substring(l.raw.length),s.push(l);continue}if(l=this.tokenizer.heading(t)){t=t.substring(l.raw.length),s.push(l);continue}if(l=this.tokenizer.hr(t)){t=t.substring(l.raw.length),s.push(l);continue}if(l=this.tokenizer.blockquote(t)){t=t.substring(l.raw.length),s.push(l);continue}if(l=this.tokenizer.list(t)){t=t.substring(l.raw.length),s.push(l);continue}if(l=this.tokenizer.html(t)){t=t.substring(l.raw.length),s.push(l);continue}if(l=this.tokenizer.def(t)){t=t.substring(l.raw.length);let a=s.at(-1);(a==null?void 0:a.type)==="paragraph"||(a==null?void 0:a.type)==="text"?(a.raw+=(a.raw.endsWith(`
`)?"":`
`)+l.raw,a.text+=`
`+l.raw,this.inlineQueue.at(-1).src=a.text):this.tokens.links[l.tag]||(this.tokens.links[l.tag]={href:l.href,title:l.title},s.push(l));continue}if(l=this.tokenizer.table(t)){t=t.substring(l.raw.length),s.push(l);continue}if(l=this.tokenizer.lheading(t)){t=t.substring(l.raw.length),s.push(l);continue}let c=t;if((i=this.options.extensions)!=null&&i.startBlock){let a=1/0,u=t.slice(1),g;this.options.extensions.startBlock.forEach(y=>{g=y.call({lexer:this},u),typeof g=="number"&&g>=0&&(a=Math.min(a,g))}),a<1/0&&a>=0&&(c=t.substring(0,a+1))}if(this.state.top&&(l=this.tokenizer.paragraph(c))){let a=s.at(-1);n&&(a==null?void 0:a.type)==="paragraph"?(a.raw+=(a.raw.endsWith(`
`)?"":`
`)+l.raw,a.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):s.push(l),n=c.length!==t.length,t=t.substring(l.raw.length);continue}if(l=this.tokenizer.text(t)){t=t.substring(l.raw.length);let a=s.at(-1);(a==null?void 0:a.type)==="text"?(a.raw+=(a.raw.endsWith(`
`)?"":`
`)+l.raw,a.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):s.push(l);continue}if(t){let a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,s}inline(t,s=[]){return this.inlineQueue.push({src:t,tokens:s}),s}inlineTokens(t,s=[]){var c,a,u,g,y;let n=t,r=null;if(this.tokens.links){let f=Object.keys(this.tokens.links);if(f.length>0)for(;(r=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)f.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(r=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,r.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let o;for(;(r=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)o=r[2]?r[2].length:0,n=n.slice(0,r.index+o)+"["+"a".repeat(r[0].length-o-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);n=((a=(c=this.options.hooks)==null?void 0:c.emStrongMask)==null?void 0:a.call({lexer:this},n))??n;let i=!1,l="";for(;t;){i||(l=""),i=!1;let f;if((g=(u=this.options.extensions)==null?void 0:u.inline)!=null&&g.some($=>(f=$.call({lexer:this},t,s))?(t=t.substring(f.raw.length),s.push(f),!0):!1))continue;if(f=this.tokenizer.escape(t)){t=t.substring(f.raw.length),s.push(f);continue}if(f=this.tokenizer.tag(t)){t=t.substring(f.raw.length),s.push(f);continue}if(f=this.tokenizer.link(t)){t=t.substring(f.raw.length),s.push(f);continue}if(f=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(f.raw.length);let $=s.at(-1);f.type==="text"&&($==null?void 0:$.type)==="text"?($.raw+=f.raw,$.text+=f.text):s.push(f);continue}if(f=this.tokenizer.emStrong(t,n,l)){t=t.substring(f.raw.length),s.push(f);continue}if(f=this.tokenizer.codespan(t)){t=t.substring(f.raw.length),s.push(f);continue}if(f=this.tokenizer.br(t)){t=t.substring(f.raw.length),s.push(f);continue}if(f=this.tokenizer.del(t,n,l)){t=t.substring(f.raw.length),s.push(f);continue}if(f=this.tokenizer.autolink(t)){t=t.substring(f.raw.length),s.push(f);continue}if(!this.state.inLink&&(f=this.tokenizer.url(t))){t=t.substring(f.raw.length),s.push(f);continue}let S=t;if((y=this.options.extensions)!=null&&y.startInline){let $=1/0,P=t.slice(1),N;this.options.extensions.startInline.forEach(q=>{N=q.call({lexer:this},P),typeof N=="number"&&N>=0&&($=Math.min($,N))}),$<1/0&&$>=0&&(S=t.substring(0,$+1))}if(f=this.tokenizer.inlineText(S)){t=t.substring(f.raw.length),f.raw.slice(-1)!=="_"&&(l=f.raw.slice(-1)),i=!0;let $=s.at(-1);($==null?void 0:$.type)==="text"?($.raw+=f.raw,$.text+=f.text):s.push(f);continue}if(t){let $="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error($);break}else throw new Error($)}}return s}},Ys=class{constructor(e){pe(this,"options");pe(this,"parser");this.options=e||Wt}space(e){return""}code({text:e,lang:t,escaped:s}){var o;let n=(o=(t||"").match(qe.notSpaceStart))==null?void 0:o[0],r=e.replace(qe.endingNewline,"")+`
`;return n?'<pre><code class="language-'+mt(n)+'">'+(s?r:mt(r,!0))+`</code></pre>
`:"<pre><code>"+(s?r:mt(r,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){let t=e.ordered,s=e.start,n="";for(let i=0;i<e.items.length;i++){let l=e.items[i];n+=this.listitem(l)}let r=t?"ol":"ul",o=t&&s!==1?' start="'+s+'"':"";return"<"+r+o+`>
`+n+"</"+r+`>
`}listitem(e){return`<li>${this.parser.parse(e.tokens)}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",s="";for(let r=0;r<e.header.length;r++)s+=this.tablecell(e.header[r]);t+=this.tablerow({text:s});let n="";for(let r=0;r<e.rows.length;r++){let o=e.rows[r];s="";for(let i=0;i<o.length;i++)s+=this.tablecell(o[i]);n+=this.tablerow({text:s})}return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+n+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let t=this.parser.parseInline(e.tokens),s=e.header?"th":"td";return(e.align?`<${s} align="${e.align}">`:`<${s}>`)+t+`</${s}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${mt(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:s}){let n=this.parser.parseInline(s),r=Yr(e);if(r===null)return n;e=r;let o='<a href="'+e+'"';return t&&(o+=' title="'+mt(t)+'"'),o+=">"+n+"</a>",o}image({href:e,title:t,text:s,tokens:n}){n&&(s=this.parser.parseInline(n,this.parser.textRenderer));let r=Yr(e);if(r===null)return mt(s);e=r;let o=`<img src="${e}" alt="${s}"`;return t&&(o+=` title="${mt(t)}"`),o+=">",o}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:mt(e.text)}},hr=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}checkbox({raw:e}){return e}},st=class Dn{constructor(t){pe(this,"options");pe(this,"renderer");pe(this,"textRenderer");this.options=t||Wt,this.options.renderer=this.options.renderer||new Ys,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new hr}static parse(t,s){return new Dn(s).parse(t)}static parseInline(t,s){return new Dn(s).parseInline(t)}parse(t){var n,r;let s="";for(let o=0;o<t.length;o++){let i=t[o];if((r=(n=this.options.extensions)==null?void 0:n.renderers)!=null&&r[i.type]){let c=i,a=this.options.extensions.renderers[c.type].call({parser:this},c);if(a!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(c.type)){s+=a||"";continue}}let l=i;switch(l.type){case"space":{s+=this.renderer.space(l);break}case"hr":{s+=this.renderer.hr(l);break}case"heading":{s+=this.renderer.heading(l);break}case"code":{s+=this.renderer.code(l);break}case"table":{s+=this.renderer.table(l);break}case"blockquote":{s+=this.renderer.blockquote(l);break}case"list":{s+=this.renderer.list(l);break}case"checkbox":{s+=this.renderer.checkbox(l);break}case"html":{s+=this.renderer.html(l);break}case"def":{s+=this.renderer.def(l);break}case"paragraph":{s+=this.renderer.paragraph(l);break}case"text":{s+=this.renderer.text(l);break}default:{let c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return s}parseInline(t,s=this.renderer){var r,o;let n="";for(let i=0;i<t.length;i++){let l=t[i];if((o=(r=this.options.extensions)==null?void 0:r.renderers)!=null&&o[l.type]){let a=this.options.extensions.renderers[l.type].call({parser:this},l);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type)){n+=a||"";continue}}let c=l;switch(c.type){case"escape":{n+=s.text(c);break}case"html":{n+=s.html(c);break}case"link":{n+=s.link(c);break}case"image":{n+=s.image(c);break}case"checkbox":{n+=s.checkbox(c);break}case"strong":{n+=s.strong(c);break}case"em":{n+=s.em(c);break}case"codespan":{n+=s.codespan(c);break}case"br":{n+=s.br(c);break}case"del":{n+=s.del(c);break}case"text":{n+=s.text(c);break}default:{let a='Token with "'+c.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return n}},Ls,cs=(Ls=class{constructor(e){pe(this,"options");pe(this,"block");this.options=e||Wt}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?tt.lex:tt.lexInline}provideParser(){return this.block?st.parse:st.parseInline}},pe(Ls,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),pe(Ls,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),Ls),jf=class{constructor(...e){pe(this,"defaults",ir());pe(this,"options",this.setOptions);pe(this,"parse",this.parseMarkdown(!0));pe(this,"parseInline",this.parseMarkdown(!1));pe(this,"Parser",st);pe(this,"Renderer",Ys);pe(this,"TextRenderer",hr);pe(this,"Lexer",tt);pe(this,"Tokenizer",Zs);pe(this,"Hooks",cs);this.use(...e)}walkTokens(e,t){var n,r;let s=[];for(let o of e)switch(s=s.concat(t.call(this,o)),o.type){case"table":{let i=o;for(let l of i.header)s=s.concat(this.walkTokens(l.tokens,t));for(let l of i.rows)for(let c of l)s=s.concat(this.walkTokens(c.tokens,t));break}case"list":{let i=o;s=s.concat(this.walkTokens(i.items,t));break}default:{let i=o;(r=(n=this.defaults.extensions)==null?void 0:n.childTokens)!=null&&r[i.type]?this.defaults.extensions.childTokens[i.type].forEach(l=>{let c=i[l].flat(1/0);s=s.concat(this.walkTokens(c,t))}):i.tokens&&(s=s.concat(this.walkTokens(i.tokens,t)))}}return s}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(s=>{let n={...s};if(n.async=this.defaults.async||n.async||!1,s.extensions&&(s.extensions.forEach(r=>{if(!r.name)throw new Error("extension name required");if("renderer"in r){let o=t.renderers[r.name];o?t.renderers[r.name]=function(...i){let l=r.renderer.apply(this,i);return l===!1&&(l=o.apply(this,i)),l}:t.renderers[r.name]=r.renderer}if("tokenizer"in r){if(!r.level||r.level!=="block"&&r.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let o=t[r.level];o?o.unshift(r.tokenizer):t[r.level]=[r.tokenizer],r.start&&(r.level==="block"?t.startBlock?t.startBlock.push(r.start):t.startBlock=[r.start]:r.level==="inline"&&(t.startInline?t.startInline.push(r.start):t.startInline=[r.start]))}"childTokens"in r&&r.childTokens&&(t.childTokens[r.name]=r.childTokens)}),n.extensions=t),s.renderer){let r=this.defaults.renderer||new Ys(this.defaults);for(let o in s.renderer){if(!(o in r))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;let i=o,l=s.renderer[i],c=r[i];r[i]=(...a)=>{let u=l.apply(r,a);return u===!1&&(u=c.apply(r,a)),u||""}}n.renderer=r}if(s.tokenizer){let r=this.defaults.tokenizer||new Zs(this.defaults);for(let o in s.tokenizer){if(!(o in r))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;let i=o,l=s.tokenizer[i],c=r[i];r[i]=(...a)=>{let u=l.apply(r,a);return u===!1&&(u=c.apply(r,a)),u}}n.tokenizer=r}if(s.hooks){let r=this.defaults.hooks||new cs;for(let o in s.hooks){if(!(o in r))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;let i=o,l=s.hooks[i],c=r[i];cs.passThroughHooks.has(o)?r[i]=a=>{if(this.defaults.async&&cs.passThroughHooksRespectAsync.has(o))return(async()=>{let g=await l.call(r,a);return c.call(r,g)})();let u=l.call(r,a);return c.call(r,u)}:r[i]=(...a)=>{if(this.defaults.async)return(async()=>{let g=await l.apply(r,a);return g===!1&&(g=await c.apply(r,a)),g})();let u=l.apply(r,a);return u===!1&&(u=c.apply(r,a)),u}}n.hooks=r}if(s.walkTokens){let r=this.defaults.walkTokens,o=s.walkTokens;n.walkTokens=function(i){let l=[];return l.push(o.call(this,i)),r&&(l=l.concat(r.call(this,i))),l}}this.defaults={...this.defaults,...n}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return tt.lex(e,t??this.defaults)}parser(e,t){return st.parse(e,t??this.defaults)}parseMarkdown(e){return(t,s)=>{let n={...s},r={...this.defaults,...n},o=this.onError(!!r.silent,!!r.async);if(this.defaults.async===!0&&n.async===!1)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||t===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(r.hooks&&(r.hooks.options=r,r.hooks.block=e),r.async)return(async()=>{let i=r.hooks?await r.hooks.preprocess(t):t,l=await(r.hooks?await r.hooks.provideLexer():e?tt.lex:tt.lexInline)(i,r),c=r.hooks?await r.hooks.processAllTokens(l):l;r.walkTokens&&await Promise.all(this.walkTokens(c,r.walkTokens));let a=await(r.hooks?await r.hooks.provideParser():e?st.parse:st.parseInline)(c,r);return r.hooks?await r.hooks.postprocess(a):a})().catch(o);try{r.hooks&&(t=r.hooks.preprocess(t));let i=(r.hooks?r.hooks.provideLexer():e?tt.lex:tt.lexInline)(t,r);r.hooks&&(i=r.hooks.processAllTokens(i)),r.walkTokens&&this.walkTokens(i,r.walkTokens);let l=(r.hooks?r.hooks.provideParser():e?st.parse:st.parseInline)(i,r);return r.hooks&&(l=r.hooks.postprocess(l)),l}catch(i){return o(i)}}}onError(e,t){return s=>{if(s.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let n="<p>An error occurred:</p><pre>"+mt(s.message+"",!0)+"</pre>";return t?Promise.resolve(n):n}if(t)return Promise.reject(s);throw s}}},Ut=new jf;function de(e,t){return Ut.parse(e,t)}de.options=de.setOptions=function(e){return Ut.setOptions(e),de.defaults=Ut.defaults,pi(de.defaults),de};de.getDefaults=ir;de.defaults=Wt;de.use=function(...e){return Ut.use(...e),de.defaults=Ut.defaults,pi(de.defaults),de};de.walkTokens=function(e,t){return Ut.walkTokens(e,t)};de.parseInline=Ut.parseInline;de.Parser=st;de.parser=st.parse;de.Renderer=Ys;de.TextRenderer=hr;de.Lexer=tt;de.lexer=tt.lex;de.Tokenizer=Zs;de.Hooks=cs;de.parse=de;de.options;de.setOptions;de.use;de.walkTokens;de.parseInline;st.parse;tt.lex;const Hf={class:"memos-list-wrapper"},Ff={class:"memos-list"},Uf={key:0,class:"tag-list-container"},Nf=["onClick"],Wf={class:"list-header"},qf={class:"filters"},Kf={class:"filters-row"},Jf={class:"search-box"},Qf=["placeholder"],Gf={class:"actions"},Zf=["disabled"],Yf={key:0,class:"loading"},Xf={key:1,class:"empty-state"},ed={key:2,class:"memo-list"},td=["data-memo-id"],sd={class:"memo-content-wrapper"},nd=["innerHTML"],rd=["onClick"],od={class:"expand-button-content"},id={class:"memo-meta"},ld={class:"memo-time"},ad={class:"memo-visibility"},cd={key:0,class:"memo-tags"},ud=["onClick"],fd={class:"memo-actions"},dd=["onClick"],pd=["onClick"],hd={key:0,class:"resources-container"},gd={class:"resources-list"},md=["src","alt","onClick"],vd={class:"resource-filename"},bd=["href","download"],wd={class:"resource-filename"},yd={key:0,class:"loading-more"},Ke=50,kd=er({__name:"MemosList",props:{settings:{type:Object,required:!0}},emits:["switchToEditor","editMemo"],setup(e,{emit:t}){const s=e,n=t,r=J([]),o=J(!1);J("all");const i=J(""),l=J([]),c=J({}),a=J(null),u=J(1),g=J(!1),y=J(null),f=J(!0),S=J(null),$=J(!1),P=J(new Set),N=J(new Map),q={code({text:F}){return`<pre class="plain-code"><code>@${F}</code></pre>`}};de.use({renderer:q});const X=F=>{switch(F){case"PUBLIC":return"fas fa-globe";case"PRIVATE":return"fas fa-lock";case"PROTECTED":return"fas fa-user-shield";default:return"fas fa-question"}},V=F=>de(F),ie=async()=>{if(!(!s.settings.host||!s.settings.token))try{const K=await yt(s.settings.apiVersion).getTags(s.settings.host,s.settings.token);s.settings.apiVersion==="v18"?(l.value=K||[],c.value=(K||[]).reduce((z,D)=>(z[D]=1,z),{})):(l.value=K||[],c.value=(K||[]).reduce((z,D)=>(z[D]=1,z),{}))}catch(F){console.error(":",F),he(": "+F.message,"error"),l.value=[],c.value={}}},ke=F=>{a.value=F&&F.length>0?F[0]:null,u.value=1,le()},ce=F=>{a.value=F,u.value=1,le()},le=async()=>{if(!(!s.settings.host||!s.settings.token)){o.value=!0;try{const F=yt(s.settings.apiVersion),K=0;u.value=1,f.value=!0;const z=await F.getMemos(s.settings.host,s.settings.token,{offset:K,limit:Ke,visibility:s.settings.visibilityFilter,content:i.value,tag:a.value});if(!z.ok)throw new Error("");let D=await z.json();if(s.settings.apiVersion==="v24"){S.value=D.nextPageToken,D=D.memos;for(const te of D){const Ie=await F.listResources(s.settings.host,s.settings.token,te.name);console.log(Ie,"resources"),Ie&&Ie.resources.length>0&&(te.resources=Ie.resources)}}else if(s.settings.apiVersion==="v25"){S.value=D.nextPageToken,D=D.memos;for(const te of D)if(te.createTime&&!te.createdTs&&(te.createdTs=new Date(te.createTime).getTime()),te.displayTime&&!te.displayTs&&(te.displayTs=new Date(te.displayTime).getTime()),te.updateTime&&!te.updatedTs&&(te.updatedTs=new Date(te.updateTime).getTime()),te.attachments&&te.attachments.length>0)try{const Ie=await F.listMemoAttachments(s.settings.host,s.settings.token,te.name);Ie&&Ie.attachments&&(te.resources=Ie.attachments)}catch(Ie){console.warn(":",Ie)}}s.settings.apiVersion==="v25"&&a.value&&(D=D.filter(te=>te.tags&&te.tags.includes(a.value)),console.log(":",D.length,":",a.value)),s.settings.apiVersion==="v25"?D.length>=Ke?(f.value=!0,console.log("fetchMemoshasMoretrue (v25limit):",{dataLength:D.length,limit:Ke,nextPageToken:S.value})):(f.value=!1,console.log("fetchMemoshasMorefalse (v25):",{dataLength:D.length,limit:Ke,nextPageToken:S.value})):(!S.value||S.value==="")&&D.length<Ke?(f.value=!1,console.log("fetchMemoshasMorefalse (nextPageToken):",{dataLength:D.length,limit:Ke,nextPageToken:S.value})):(f.value=!0,console.log("fetchMemoshasMoretrue:",{dataLength:D.length,limit:Ke,nextPageToken:S.value,reason:S.value?"has nextPageToken":"data equals limit"})),console.log("fetchMemos:",{dataCount:D.length,hasMore:f.value,nextPageToken:S.value}),r.value=D,_e(()=>{r.value.forEach(te=>{Re(te)})})}catch(F){console.error(":",F),he(": "+F.message,"error")}finally{o.value=!1}}},Se=()=>{le()},G=F=>{let K;return s.settings.apiVersion==="v18"?K=F.id:s.settings.apiVersion==="v24"||s.settings.apiVersion==="v25"?K=F.name:K=F.name||F.id,console.log("getMemoIdentifier:",{apiVersion:s.settings.apiVersion,memo:{id:F.id,name:F.name},identifier:K}),K},ge=async F=>{if(confirm(x("list.confirmDelete")))try{await yt(s.settings.apiVersion).deleteMemo(s.settings.host,s.settings.token,F),he(x("list.deleteSuccess")),le()}catch(K){console.error(":",K),he(x("list.deleteError")+K.message,"error")}},Ee=F=>{n("editMemo",F)},lt=()=>{n("switchToEditor")};we(i,()=>{le()}),we(a,()=>{le()}),we(()=>s.settings,()=>{le(),ie()},{deep:!0}),Nt(()=>{le(),ie()}),Ce(()=>({maxHeight:g.value?"none":"64px",overflow:"hidden",transition:"max-height 0.3s ease"})),Ce(()=>l.value.length>10);const Ye=()=>{g.value=!g.value},at=async F=>{if(!f.value||o.value||$.value)return;const K=F.target;K.scrollHeight-K.scrollTop-K.clientHeight<50&&await L()},L=async()=>{if(!(!f.value||$.value)){console.log("loadMore:",{hasMore:f.value,isLoadingMore:$.value,nextPageToken:S.value,currentMemosCount:r.value.length}),$.value=!0;try{const F=yt(s.settings.apiVersion),K=await F.getMemos(s.settings.host,s.settings.token,{offset:S.value,limit:Ke,visibility:s.settings.visibilityFilter,content:i.value,tag:a.value});if(!K.ok)throw new Error("");let z=await K.json();if(console.log(z),s.settings.apiVersion==="v24"){S.value=z.nextPageToken,z=z.memos;for(const D of z){const te=await F.listResources(s.settings.host,s.settings.token,D.name);console.log(te,"resources"),te&&te.resources.length>0&&(D.resources=te.resources)}}else if(s.settings.apiVersion==="v25"){S.value=z.nextPageToken,z=z.memos;for(const D of z)if(D.createTime&&!D.createdTs&&(D.createdTs=new Date(D.createTime).getTime()),D.displayTime&&!D.displayTs&&(D.displayTs=new Date(D.displayTime).getTime()),D.updateTime&&!D.updatedTs&&(D.updatedTs=new Date(D.updateTime).getTime()),D.attachments&&D.attachments.length>0)try{const te=await F.listMemoAttachments(s.settings.host,s.settings.token,D.name);te&&te.attachments&&(D.resources=te.attachments)}catch(te){console.warn(":",te)}}s.settings.apiVersion==="v25"&&a.value&&(z=z.filter(D=>D.tags&&D.tags.includes(a.value)),console.log("loadMore:",z.length,":",a.value)),s.settings.apiVersion==="v25"?z.length>=Ke?(f.value=!0,console.log("loadMorehasMoretrue (v25limit):",{dataLength:z.length,limit:Ke,nextPageToken:S.value})):(f.value=!1,console.log("loadMorehasMorefalse (v25):",{dataLength:z.length,limit:Ke,nextPageToken:S.value})):(!S.value||S.value==="")&&z.length<Ke?(f.value=!1,console.log("loadMorehasMorefalse (nextPageToken):",{dataLength:z.length,limit:Ke,nextPageToken:S.value})):(f.value=!0,console.log("loadMorehasMoretrue:",{dataLength:z.length,limit:Ke,nextPageToken:S.value,reason:S.value?"has nextPageToken":"data equals limit"})),r.value=[...r.value,...z],u.value++,console.log("loadMore:",{newDataCount:z.length,totalMemosCount:r.value.length,hasMore:f.value,nextPageToken:S.value}),_e(()=>{z.forEach(D=>{Re(D)})})}catch(F){console.error(":",F),he(": "+F.message,"error")}finally{$.value=!1}}},_=Ce(()=>{if(!s.settings.preferredTags||s.settings.preferredTags.length===0)return l.value;const F=s.settings.preferredTags.filter(z=>z&&z.trim()),K=l.value.filter(z=>!F.includes(z)&&z&&z.trim());return[...F,...K]}),E=F=>{window.open(F,"_blank")},me=F=>N.value.get(F)||!1,Re=F=>{const K=G(F);console.log("checkOverflow:",K,F),_e(()=>{const z=document.querySelector(`[data-memo-id="${K}"] .memo-content`);console.log("DOM:",z,`[data-memo-id="${K}"] .memo-content`),z&&setTimeout(()=>{const D=z.scrollHeight,te=D>300;N.value.set(K,te),console.log(":",{memoId:K,contentHeight:D,threshold:300,isOverflowing:te})},100)})},xe=F=>{P.value.has(F)?P.value.delete(F):P.value.add(F)};return(F,K)=>(Q(),Y("div",Hf,[p("div",Ff,[e.settings.tagFilterStyle==="list"&&e.settings.apiVersion!=="v24"&&e.settings.apiVersion!=="v25"?(Q(),Y("div",Uf,[p("div",{class:Ae(["tag-list",{expanded:g.value}])},[p("button",{class:Ae(["tag-item",{active:!a.value}]),onClick:K[0]||(K[0]=z=>ce(null))},H(T(x)("list.all")),3),(Q(!0),Y($e,null,nt(_.value,z=>{var D;return Q(),Y("button",{key:z,class:Ae(["tag-item",{active:a.value===z,preferred:(D=e.settings.preferredTags)==null?void 0:D.includes(z)}]),onClick:te=>ce(z)},H(z),11,Nf)}),128))],2),p("button",{class:Ae(["expand-tags",{expanded:g.value}]),onClick:Ye},[rt(H(g.value?T(x)("list.collapse"):T(x)("list.expand"))+" ",1),K[2]||(K[2]=p("i",{class:"fas fa-chevron-down"},null,-1))],2)])):Te("",!0),p("div",Wf,[p("div",qf,[p("div",Kf,[e.settings.tagFilterStyle==="selector"&&e.settings.apiVersion!=="v24"&&e.settings.apiVersion!=="v25"?(Q(),sr(or,{key:0,modelValue:a.value?[a.value]:[],options:l.value,placeholder:T(x)("list.selectTag"),"onUpdate:modelValue":ke},null,8,["modelValue","options","placeholder"])):Te("",!0),p("div",Jf,[Oe(p("input",{"onUpdate:modelValue":K[1]||(K[1]=z=>i.value=z),type:"text",placeholder:T(x)("list.search"),class:"search-input"},null,8,Qf),[[et,i.value]]),K[3]||(K[3]=p("i",{class:"fas fa-search search-icon"},null,-1))]),p("div",Gf,[p("button",{class:"refresh-btn",onClick:Se,disabled:o.value},[p("i",{class:Ae(["fas fa-sync-alt",{"fa-spin":o.value}])},null,2)],8,Zf),p("button",{class:"create-btn",onClick:lt},K[4]||(K[4]=[p("i",{class:"fas fa-plus"},null,-1)]))])])])]),p("div",{class:"memos-container",style:kt({maxHeight:e.settings.listMaxHeight+"px"}),onScroll:at,ref_key:"memosContainerRef",ref:y},[o.value?(Q(),Y("div",Yf,K[5]||(K[5]=[p("i",{class:"fas fa-spinner fa-spin"},null,-1)]))):r.value.length===0?(Q(),Y("div",Xf,H(i.value?T(x)("list.noResults"):T(x)("list.noMemos")),1)):(Q(),Y("div",ed,[(Q(!0),Y($e,null,nt(r.value,z=>(Q(),Y("div",{key:G(z),class:"memo-item","data-memo-id":G(z)},[p("div",sd,[p("div",{class:Ae(["memo-content",{expanded:P.value.has(G(z))}])},[p("div",{class:"memo-text",innerHTML:V(z.content)},null,8,nd)],2),me(G(z))?(Q(),Y("div",{key:0,class:"expand-button",onClick:D=>xe(G(z))},[p("div",od,[p("span",null,H(P.value.has(G(z))?T(x)("memo.showLess"):T(x)("memo.expandMore")),1),p("i",{class:Ae(["fas",P.value.has(G(z))?"fa-chevron-up":"fa-chevron-down"])},null,2)])],8,rd)):Te("",!0)]),p("div",id,[p("span",ld,H(T(Gu)(e.settings.apiVersion=="v18"?z.createdTs:z.updateTime)),1),p("span",ad,[p("i",{class:Ae(X(z.visibility))},null,2)]),z.tags&&z.tags.length>0?(Q(),Y("div",cd,[(Q(!0),Y($e,null,nt(z.tags,D=>(Q(),Y("span",{key:D,class:"tag",onClick:te=>ce(D)},[K[6]||(K[6]=p("i",{class:"fas fa-tag"},null,-1)),rt(H(D),1)],8,ud))),128))])):Te("",!0),p("div",fd,[p("button",{class:"edit-btn",onClick:D=>Ee(z)},K[7]||(K[7]=[p("i",{class:"fas fa-edit"},null,-1)]),8,dd),p("button",{class:"delete-btn",onClick:D=>ge(G(z))},K[8]||(K[8]=[p("i",{class:"fas fa-trash"},null,-1)]),8,pd)])]),(e.settings.apiVersion==="v24"||e.settings.apiVersion==="v25")&&z.resources&&z.resources.length>0?(Q(),Y("div",hd,[p("div",gd,[(Q(!0),Y($e,null,nt(z.resources.filter(D=>D.type.startsWith("image/")),D=>(Q(),Y("div",{key:D.name,class:"resource-item image-resource"},[p("img",{src:D.url,alt:D.filename,onClick:te=>E(D.url),class:"resource-image"},null,8,md),p("span",vd,H(D.filename),1)]))),128)),(Q(!0),Y($e,null,nt(z.resources.filter(D=>!D.type.startsWith("image/")),D=>(Q(),Y("div",{key:D.name,class:"resource-item file-resource"},[p("a",{href:D.url,download:D.filename,class:"file-link"},[K[9]||(K[9]=p("i",{class:"fas fa-file"},null,-1)),p("span",wd,H(D.filename),1)],8,bd)]))),128))])])):Te("",!0)],8,td))),128)),f.value?(Q(),Y("div",yd,[K[10]||(K[10]=p("i",{class:"fas fa-spinner fa-spin"},null,-1)),rt(" "+H(T(x)("list.loadMore")),1)])):Te("",!0)]))],36)])]))}}),xd={class:"header-actions"},Td=["title"],Sd={key:0,class:"format-notification"},_d={key:0,class:"editor-container"},$d={key:0,class:"upload-preview"},Cd={class:"upload-content"},Ed=["src","alt"],Ad={key:1,class:"file-info"},Pd=["onClick"],Rd={class:"editor-wrapper"},Md=["placeholder","onKeydown"],Od=["onClick"],Id={key:1,class:"stats-panel"},Vd={class:"toolbar"},Ld={class:"markdown-tools"},Dd=["title"],Bd=["title"],zd=["title"],jd=["title"],Hd=["title"],Fd=["title"],Ud=["title"],Nd=["title"],Wd=["title"],qd=["title"],Kd=["title"],Jd=["title"],Qd={class:"action-tools"},Gd={class:"left-tools"},Zd=["title"],Yd=["title"],Xd={class:"right-tools"},ep={key:1,class:"upload-progress"},tp={class:"progress-text"},sp={key:1,class:"list-view"},np=800,gt=600,rp=er({__name:"App",emits:["refresh","switchToList"],setup(e,{emit:t}){const s=t,n=J(!1),r=J(!1),o=J(""),i=J("PUBLIC"),l=J(null),c=J(null),a=J(null),u=J("PUBLIC"),g=J(!1),y=J(!1),f=fc("memos-settings",{host:"",token:"",apiVersion:"v25",addSource:!0,useQuote:!0,skipDefaultTags:!1,defaultVisibility:"PRIVATE",customTags:"",template:`{content}

[{title}]({url})`,enableShortcuts:!0,tagBehavior:"space",tagSpaceCount:1,width:550,height:400,preferredTags:[],tagFilterStyle:"list",listMaxHeight:600,settingHeight:600,showWordCount:!0,enablePreview:!0,theme:"light",defaultView:"editor",preserveFormatting:!0}),S=b=>typeof b=="string"&&b.trim()!=="",$=Ce(()=>S(f.value.host)&&S(f.value.token)),P=()=>$.value?!0:(r.value=!0,!1),N=J([]),q=J(!1),X=J(0),V=J([]),ie=J({}),ke=J(!1),ce=J(0),le=J(""),Se=J([]),G=J([]),ge=J(!1),Ee=J("");J(null),Ce(()=>Ee.value?G.value.filter(b=>b.toLowerCase().includes(Ee.value.toLowerCase())):G.value);const lt=Ce(()=>o.value.length),Ye=Ce(()=>o.value.replace(/\s/g,"").length),at=Ce(()=>o.value.split(`
`).length);Ce(()=>({settings:f.value,content:o.value,visibility:i.value,lastError:l.value,isDev:n.value})),Ce(()=>o.value);const L=J(f.value.defaultView||"editor"),_=Ce(()=>{const b={width:f.value.width+"px"};return L.value==="list"?b.height=Math.min(f.value.listMaxHeight,gt)+"px":r.value?b.height=Math.min(f.value.settingHeight,gt)+"px":(b.minHeight=Math.min(f.value.height,gt)+"px",b.height="auto"),b}),E=J({top:0,left:0,width:0}),me=()=>{r.value=!0},Re=async()=>{i.value=f.value.defaultVisibility,f.value.enableShortcuts?document.addEventListener("keydown",d,{capture:!0}):document.removeEventListener("keydown",d,{capture:!0}),await xe(),$.value&&f.value.defaultView&&(L.value=f.value.defaultView),_e(()=>{I()}),r.value=!$.value},xe=async()=>{if($.value)try{const h=await yt(f.value.apiVersion).getTags(f.value.host,f.value.token);let v=[];f.value.apiVersion==="v18"?(v=h,ie.value=h.reduce((O,W)=>(O[W]=1,O),{})):(v=h.map(O=>O.name),ie.value=h.reduce((O,W)=>(O[W.name]=W.count,O),{}));const w=f.value.customTags?f.value.customTags.split(",").map(O=>O.trim()).filter(O=>O):[];V.value=[...new Set([...v,...w])],G.value=V.value}catch(b){console.error(":",b)}};Nt(()=>{i.value=f.value.defaultVisibility,chrome.storage.local.get(["selectedText","sourceUrl","sourceTitle","hasFormatting"],v=>{v.selectedText&&(o.value=C(v.selectedText,v.sourceUrl,v.sourceTitle),chrome.storage.local.remove(["selectedText","sourceUrl","sourceTitle","hasFormatting"]),L.value="editor",v.hasFormatting?(console.log("Memos: "),R()):console.log("Memos: "))}),chrome.storage.onChanged.addListener(v=>{var w,O,W;v.selectedText&&v.selectedText.newValue&&(o.value=C(v.selectedText.newValue,(w=v.sourceUrl)==null?void 0:w.newValue,(O=v.sourceTitle)==null?void 0:O.newValue),L.value="editor",(W=v.hasFormatting)!=null&&W.newValue&&(console.log("Memos: "),R()))}),f.value.enableShortcuts&&document.addEventListener("keydown",d,{capture:!0}),xe(),document.addEventListener("click",v=>{const w=document.querySelector(".custom-tags-selector");w&&!w.contains(v.target)&&(ge.value=!1)});const b=new ResizeObserver(()=>{I()}),h=document.querySelector(".editor-container");h&&b.observe(h),Ht(()=>{b.disconnect()})}),we(()=>f.value,b=>{S(b.host)&&S(b.token)&&xe()},{deep:!0}),we($,b=>{b||(r.value=!0)},{immediate:!0}),we(()=>r.value,b=>{!$.value&&!b&&(r.value=!0)}),we(()=>f.value.enableShortcuts,b=>{b?document.addEventListener("keydown",d,{capture:!0}):document.removeEventListener("keydown",d,{capture:!0})}),Ht(()=>{document.removeEventListener("keydown",d,{capture:!0}),document.removeEventListener("click",()=>{})});const F=()=>{He("\n```\n\n```\n");const h=c.value,v=h.selectionStart-4;_e(()=>{h.setSelectionRange(v,v)})},K=()=>{He(`
| 1 | 2 | 3 |
| --- | --- | --- |
| 1 | 2 | 3 |
`)},z=async b=>{const h=b.target.files;if(h.length){if(f.value.apiVersion==="v26"){for(let v=0;v<h.length;v++){const w=h[v],O="temp_"+Date.now()+"_"+v,W=URL.createObjectURL(w);N.value.push({id:O,file:w,url:W,name:w.name,type:w.type,temp:!0})}b.target.value="";return}try{q.value=!0;const v=yt(f.value.apiVersion);for(let w=0;w<h.length;w++){const O=h[w];X.value=Math.round(w/h.length*100);const W=await v.uploadResource(f.value.host,f.value.token,O,i.value);N.value.push(W)}b.target.value=""}catch(v){console.error(":",v),he(""+v.message,"error")}finally{q.value=!1,X.value=0}}},D=async b=>{b.preventDefault();const h=b.dataTransfer.files;if(h.length>0){const v=document.createElement("input");v.type="file",v.multiple=!0,v.files=h,z({target:v})}},te=async b=>{const v=(b.clipboardData||b.originalEvent.clipboardData).items,w=Array.from(v).some(ee=>ee.type==="text/plain"),O=[];let W=!1;for(const ee of v)if(ee.kind==="file"){const U=ee.getAsFile();if(U)if(U.name==="image.png"){const Z=new File([U],`screenshot-${new Date().getTime()}.png`,{type:U.type});O.push(Z)}else O.push(U)}else if(ee.type==="text/plain"&&!W)try{const U=await new Promise(Z=>ee.getAsString(Z));if(U.match(/^https?:\/\/.*\.(jpg|jpeg|png|gif|webp)$/i)){W=!0;const oe=await(await fetch(U)).blob(),ne=U.split("/").pop(),Me=new File([oe],ne,{type:oe.type});O.push(Me)}}catch(U){console.error("URL:",U)}if(O.length>0&&(!w||W)){b.preventDefault();const ee=document.createElement("input");ee.type="file",ee.multiple=!0;const U=new DataTransfer;O.forEach(Z=>U.items.add(Z)),ee.files=U.files,await z({target:ee})}},Ie=async b=>{const h=N.value.findIndex(v=>v.id===b);if(h!==-1){const v=N.value[h];if(v.temp&&v.url&&v.url.startsWith("blob:")&&URL.revokeObjectURL(v.url),N.value.splice(h,1),v.type.startsWith("image/")){const w=new RegExp(`!\\[([^\\]]*)\\]\\(${v.url}\\)`,"g");o.value=o.value.replace(w,"")}else{const w=new RegExp(`\\[${v.name}\\]\\(${v.url}\\)`,"g");o.value=o.value.replace(w,"")}o.value=o.value.replace(/\n{3,}/g,`

`),await _e(),I()}},Mt=async()=>{if(!o.value.trim()){he(x("editor.emptyContent"));return}g.value=!0;const b=!!a.value;try{const h=yt(f.value.apiVersion);let v;const w=f.value;let O=o.value;if(!((o.value.match(/#[^\s#]+/g)||[]).length>0||Se.value.length>0)&&w.customTags&&w.skipDefaultTags){const U=w.customTags.split(",").map(Z=>Z.trim()).filter(Z=>Z);if(U.length>0){O.endsWith(`
`)||(O+=`
`);const Z=Math.min(Math.max(w.tagSpaceCount,1),5),oe=w.tagBehavior==="space"?" ".repeat(Z):`
`.repeat(Z);O+=U.map(ne=>`#${ne}`).join(oe)+oe}}if(b){console.log(a,663);let U;w.apiVersion==="v18"?U=a.value.id:w.apiVersion==="v24"||w.apiVersion==="v25"||w.apiVersion==="v26"?U=a.value.name:U=a.value.name||a.value.id,console.log(":",{apiVersion:w.apiVersion,memo:{id:a.value.id,name:a.value.name},selectedIdentifier:U});let Z={content:O,visibility:i.value};if(w.apiVersion!=="v25"&&w.apiVersion!=="v26"&&(Z.resourceIdList=N.value.map(oe=>oe.id)),v=await h.updateMemo(w.host,w.token,U,Z),console.log("updateMemo:",{ok:v.ok,status:v.status,statusText:v.statusText}),!v.ok)throw new Error(x("app.editError"));if(he(x("app.editSuccess")),(w.apiVersion==="v25"||w.apiVersion==="v26")&&N.value.length>0)try{const oe=N.value.map(ne=>ne.id).filter(ne=>ne!=null);oe.length>0&&(await h.setMemoAttachments(w.host,w.token,U,oe),console.log(`${w.apiVersion}`,{memo:U,attachments:oe}))}catch(oe){console.warn(":",oe)}}else if(w.apiVersion==="v24"){const U=await h.createMemo(w.host,w.token,O,i.value);if(console.log(N.value,U,"result"),N.value.length>0){const Z=await U.json();if(Z&&Z.name){const oe=N.value.map(ne=>({createTime:new Date().toISOString(),name:ne.name,type:ne.type}));await h.associateResources(w.host,w.token,Z.name,{resources:oe})}}v=U,he(x("app.saveSuccess"))}else if(w.apiVersion==="v25"){const U=Se.value.filter(Z=>Z&&Z.trim()!=="");if(v=await h.createMemo(w.host,w.token,O,i.value,U,!1),N.value.length>0&&v.ok)try{const oe=await v.clone().json(),ne=N.value.map(Me=>Me.id).filter(Me=>Me!=null);ne.length>0&&(await h.setMemoAttachments(w.host,w.token,oe.name,ne),console.log("v25",{memo:oe.name,attachments:ne}))}catch(Z){console.warn(":",Z)}he(x("app.saveSuccess"))}else if(w.apiVersion==="v26"){const U=Se.value.filter(ne=>ne&&ne.trim()!=="");if(v=await h.createMemo(w.host,w.token,O,i.value,U,!1),!v.ok)throw new Error(x("app.saveError"));const oe=(await v.json()).name;if(N.value.length>0){for(const ne of N.value)if(ne.file)try{const Me=await h.createAttachment(w.host,w.token,ne.file,oe);ne.id=Me.id,ne.url=Me.url,ne.temp=!1}catch(Me){console.warn(":",ne.name,Me)}}he(x("app.saveSuccess"))}else if(w.apiVersion==="v18"){if(v=await h.createMemo(w.host,w.token,O,i.value),N.value.length>0&&v.ok)try{const Z=await v.clone().json(),oe=N.value.map(ne=>ne.id).filter(ne=>ne!=null);oe.length>0&&Z.id&&(await h.updateMemo(w.host,w.token,Z.id,{content:O,visibility:i.value,resourceIdList:oe}),console.log("v18",{memo:Z.id,resources:oe}))}catch(U){console.warn("v18:",U)}he(x("app.saveSuccess"))}else{const U=N.value.map(Z=>Z.id).filter(Z=>Z!=null);v=await h.createMemo(w.host,w.token,O,i.value,U),he(x("app.saveSuccess"))}if(!b&&!v.ok)throw new Error(x("app.saveError"));o.value="",N.value.forEach(U=>{U.temp&&U.url&&U.url.startsWith("blob:")&&URL.revokeObjectURL(U.url)}),N.value=[],a.value=null,Se.value=[],s("refresh"),b&&(L.value="list")}catch(h){console.error(x(b?"app.editError":"app.saveError"),h),he(x(b?"app.editError":"app.saveError")+h.message,"error")}finally{g.value=!1}},He=(b,h="")=>{const v=c.value,w=v.selectionStart,O=v.selectionEnd,W=o.value,ee=W.substring(w,O);if(ee)o.value=W.substring(0,w)+b+ee+h+W.substring(O),_e(()=>{v.setSelectionRange(w+b.length,O+b.length)});else{o.value=W.substring(0,w)+b+h+W.substring(O);const U=w+b.length;_e(()=>{v.setSelectionRange(U,U)})}v.focus()},Ot=()=>{const b=c.value,h=b.value,v=b.selectionStart,O=h.slice(0,v).match(/#([^#\s]*)$/);O?(le.value=O[1].toLowerCase(),ke.value=!0,ce.value=0,_e(()=>{const W=b.getBoundingClientRect(),U=b.closest(".editor-wrapper").getBoundingClientRect();E.value={top:W.bottom-U.top+4,left:W.left-U.left,width:W.width}})):(ke.value=!1,le.value="")},It=Ce(()=>le.value?V.value.filter(b=>b.toLowerCase().includes(le.value)&&b.toLowerCase()!==le.value):V.value),d=b=>{if(g.value){b.preventDefault(),b.stopPropagation();return}if(ke.value&&It.value.length>0)switch(b.key){case"ArrowUp":b.preventDefault(),b.stopPropagation(),ce.value>0&&(ce.value--,M());return;case"ArrowDown":b.preventDefault(),b.stopPropagation(),ce.value<It.value.length-1&&(ce.value++,M());return;case"Enter":case"Tab":It.value.length>0&&(b.preventDefault(),b.stopPropagation(),m(It.value[ce.value]));return;case"Escape":b.preventDefault(),b.stopPropagation(),ke.value=!1;return}if(f.value.enableShortcuts){if((b.ctrlKey||b.metaKey)&&b.key==="Enter"){b.preventDefault(),b.stopPropagation(),Mt();return}if(b.ctrlKey&&b.altKey&&b.key.toLowerCase()==="p"){b.preventDefault();const h=["PUBLIC","PRIVATE","PROTECTED"],w=(h.indexOf(i.value)+1)%h.length;i.value=h[w],he(x("editor.visibility."+i.value.toLowerCase()));return}}},m=b=>{const h=c.value,v=h.value,w=h.selectionStart,O=v.slice(0,w),W=v.slice(w),ee=f.value,U=Math.min(Math.max(ee.tagSpaceCount,1),5),Z=ee.tagBehavior==="space"?" ".repeat(U):`
`.repeat(U),oe=O.replace(/#[^#\s]*$/,`#${b}${Z}`);o.value=oe+W,_e(()=>{const ne=oe.length;h.setSelectionRange(ne,ne),h.focus()}),ke.value=!1};we([()=>f.value.width,()=>f.value.height,()=>f.value.listMaxHeight,()=>f.value.settingHeight,()=>L.value,()=>r.value,()=>o.value],([b,h,v,w,O,W])=>{const ee=Math.min(b,np);let U;if(W)U=Math.min(w,gt);else if(O==="list")U=Math.min(v,gt);else{const Z=document.querySelector(".editor-container"),oe=document.querySelector(".content-editor"),ne=document.querySelector(".toolbar"),Me=document.querySelector(".upload-preview");if(Z&&oe&&ne){const Es=ne.offsetHeight,Fe=Me?Me.offsetHeight:0,As=oe.scrollHeight+Es+Fe+32,_i=Math.min(h,gt);U=Math.min(Math.max(As,_i),gt)}else U=Math.min(h,gt)}document.documentElement.style.width=`${ee}px`,document.documentElement.style.height=`${U}px`,document.body.style.width=`${ee}px`,document.body.style.height=`${U}px`},{immediate:!0}),we(()=>L.value,b=>{b==="editor"&&_e(()=>{I()})}),we(()=>f.value.defaultView,b=>{b&&(L.value=b)}),we(o,b=>{const v=(b.match(/#[^\s#]+/g)||[]).map(w=>w.slice(1));Se.value=v.filter(w=>G.value.includes(w)),localStorage.setItem("memos-cached-tags",JSON.stringify(Se.value))},{immediate:!0});const k=()=>{const h=(o.value.match(/#[^\s#]+/g)||[]).map(W=>W.slice(1)),v=h.filter(W=>!Se.value.includes(W)&&G.value.includes(W)),w=Se.value.filter(W=>!h.includes(W));let O=o.value;v.forEach(W=>{O=O.replace(`#${W}`,"")}),w.forEach(W=>{O=O+(O.endsWith(`
`)?"":`
`)+`#${W}`}),O=O.replace(/\n{3,}/g,`

`),o.value=O,localStorage.setItem("memos-cached-tags",JSON.stringify(Se.value))},R=()=>{y.value=!0,setTimeout(()=>{y.value=!1},3e3)},C=(b,h,v)=>{let w=b;return f.value.useQuote&&(w=`> ${w.replace(/\n/g,`
> `)}`),f.value.addSource&&h&&(w=f.value.template.replace("{content}",w).replace("{url}",h).replace("{title}",v||"")),w},A=()=>{P()&&(r.value&&(r.value=!1),L.value="editor",_e(()=>{I()}))},j=()=>{P()&&(L.value==="editor"&&(o.value="",a.value=null,N.value.forEach(b=>{b.temp&&b.url&&b.url.startsWith("blob:")&&URL.revokeObjectURL(b.url)}),N.value=[]),r.value&&(r.value=!1),L.value="list")},B=b=>{P()&&(a.value=b,o.value=b.content,u.value=b.visibility,L.value="editor")},I=()=>{L.value==="editor"&&!r.value&&_e(()=>{const b=document.querySelector(".editor-container");if(b){const h=Math.min(f.value.height,gt);requestAnimationFrame(()=>{b.style.height=`${h}px`,document.documentElement.style.height=`${h}px`,document.body.style.height=`${h}px`})}})};we(()=>N.value,()=>{_e(()=>{I()})},{deep:!0});const M=()=>{_e(()=>{const b=document.querySelector(".tag-item.active");b&&b.scrollIntoView({block:"nearest",behavior:"smooth"})})};return(b,h)=>(Q(),Y("div",{class:Ae(["memos-extension",{dark:T(f).theme==="dark"}]),style:kt(_.value)},[p("header",null,[p("h1",null,H(T(x)("app.title")),1),p("div",xd,[$.value?(Q(),Y("button",{key:0,class:"view-switch-btn",onClick:h[0]||(h[0]=v=>L.value==="editor"?j():A()),title:L.value==="editor"?T(x)("app.switchToList"):T(x)("app.switchToEditor")},[p("i",{class:Ae(L.value==="editor"?"fas fa-list":"fas fa-edit")},null,2)],8,Td)):Te("",!0),p("div",{class:"settings-icon",onClick:me},h[17]||(h[17]=[p("i",{class:"fas fa-cog"},null,-1)]))])]),y.value?(Q(),Y("div",Sd,h[18]||(h[18]=[p("i",{class:"fas fa-check-circle"},null,-1),p("span",null,"",-1)]))):Te("",!0),Ve(Qu,{content:o.value,"onUpdate:content":h[1]||(h[1]=v=>o.value=v),settings:T(f),"onUpdate:settings":h[2]||(h[2]=v=>Le(f)?f.value=v:null),editorRef:c.value,showSettings:r.value,"onUpdate:showSettings":h[3]||(h[3]=v=>r.value=v),onSettingsSaved:Re},null,8,["content","settings","editorRef","showSettings"]),r.value?Te("",!0):(Q(),Y($e,{key:1},[L.value==="editor"?(Q(),Y("div",_d,[N.value.length>0?(Q(),Y("div",$d,[(Q(!0),Y($e,null,nt(N.value,v=>(Q(),Y("div",{key:v.id,class:"upload-item"},[p("div",Cd,[v.type.startsWith("image/")?(Q(),Y("img",{key:0,src:v.url,alt:v.name},null,8,Ed)):(Q(),Y("div",Ad,[h[19]||(h[19]=p("i",{class:"fas fa-file"},null,-1)),p("span",null,H(v.name),1)]))]),p("button",{class:"remove-file",onClick:w=>Ie(v.id)},h[20]||(h[20]=[p("i",{class:"fas fa-times"},null,-1)]),8,Pd)]))),128))])):Te("",!0),p("div",Rd,[Oe(p("textarea",{"onUpdate:modelValue":h[4]||(h[4]=v=>o.value=v),placeholder:T(x)("editor.placeholder"),class:"content-editor",onKeydown:[Fa(xs(Mt,["meta","prevent"]),["enter"]),d],onDrop:xs(D,["prevent"]),onPaste:te,onInput:Ot,ref_key:"editorRef",ref:c},null,40,Md),[[et,o.value]]),ke.value&&It.value.length>0?(Q(),Y("div",{key:0,class:"tag-suggestions",style:kt({position:"absolute",top:E.value.top+"px",left:E.value.left+"px",width:E.value.width+"px"})},[(Q(!0),Y($e,null,nt(It.value,(v,w)=>(Q(),Y("div",{key:v,class:Ae(["tag-item",{active:w===ce.value}]),onClick:O=>m(v)}," #"+H(v),11,Od))),128))],4)):Te("",!0),T(f).showWordCount?(Q(),Y("div",Id,[p("span",null,H(T(x)("editor.wordCount"))+": "+H(lt.value)+"",1),p("span",null,H(T(x)("editor.charCount"))+": "+H(Ye.value)+"",1),p("span",null,H(T(x)("editor.lineCount"))+": "+H(at.value)+"",1)])):Te("",!0)]),p("div",Vd,[p("div",Ld,[p("button",{title:T(x)("editor.tools.heading"),onClick:h[5]||(h[5]=v=>He("# "))},h[21]||(h[21]=[p("i",{class:"fas fa-heading"},null,-1)]),8,Dd),p("button",{title:T(x)("editor.tools.bold"),onClick:h[6]||(h[6]=v=>He("**","**"))},h[22]||(h[22]=[p("i",{class:"fas fa-bold"},null,-1)]),8,Bd),p("button",{title:T(x)("editor.tools.italic"),onClick:h[7]||(h[7]=v=>He("*","*"))},h[23]||(h[23]=[p("i",{class:"fas fa-italic"},null,-1)]),8,zd),p("button",{title:T(x)("editor.tools.strikethrough"),onClick:h[8]||(h[8]=v=>He("~~","~~"))},h[24]||(h[24]=[p("i",{class:"fas fa-strikethrough"},null,-1)]),8,jd),h[33]||(h[33]=p("span",{class:"divider"},null,-1)),p("button",{title:T(x)("editor.tools.unorderedList"),onClick:h[9]||(h[9]=v=>He("- "))},h[25]||(h[25]=[p("i",{class:"fas fa-list-ul"},null,-1)]),8,Hd),p("button",{title:T(x)("editor.tools.orderedList"),onClick:h[10]||(h[10]=v=>He("1. "))},h[26]||(h[26]=[p("i",{class:"fas fa-list-ol"},null,-1)]),8,Fd),p("button",{title:T(x)("editor.tools.taskList"),onClick:h[11]||(h[11]=v=>He("- [ ] "))},h[27]||(h[27]=[p("i",{class:"fas fa-tasks"},null,-1)]),8,Ud),h[34]||(h[34]=p("span",{class:"divider"},null,-1)),p("button",{title:T(x)("editor.tools.quote"),onClick:h[12]||(h[12]=v=>He("> "))},h[28]||(h[28]=[p("i",{class:"fas fa-quote-right"},null,-1)]),8,Nd),p("button",{title:T(x)("editor.tools.codeBlock"),onClick:F},h[29]||(h[29]=[p("i",{class:"fas fa-code"},null,-1)]),8,Wd),p("button",{title:T(x)("editor.tools.table"),onClick:K},h[30]||(h[30]=[p("i",{class:"fas fa-table"},null,-1)]),8,qd),p("button",{title:T(x)("editor.tools.link"),onClick:h[13]||(h[13]=v=>He("[","](url)"))},h[31]||(h[31]=[p("i",{class:"fas fa-link"},null,-1)]),8,Kd),p("button",{title:T(x)("editor.tools.divider"),onClick:h[14]||(h[14]=v=>He(`
---
`))},h[32]||(h[32]=[p("i",{class:"fas fa-minus"},null,-1)]),8,Jd)]),p("div",Qd,[p("div",Gd,[p("label",{class:"upload-btn",title:T(x)("editor.tools.uploadImage")},[h[35]||(h[35]=p("i",{class:"fas fa-image"},null,-1)),p("input",{type:"file",accept:"image/*",multiple:"",onChange:z,style:{display:"none"}},null,32)],8,Zd),p("label",{class:"upload-btn",title:T(x)("editor.tools.uploadFile")},[h[36]||(h[36]=p("i",{class:"fas fa-paperclip"},null,-1)),p("input",{type:"file",multiple:"",onChange:z,style:{display:"none"}},null,32)],8,Yd)]),p("div",Xd,[T(f).apiVersion!=="v25"?(Q(),sr(or,{key:0,modelValue:Se.value,"onUpdate:modelValue":[h[15]||(h[15]=v=>Se.value=v),k],options:G.value,placeholder:T(x)("editor.selectTag")},null,8,["modelValue","options","placeholder"])):Te("",!0),Ve(as,{modelValue:i.value,"onUpdate:modelValue":h[16]||(h[16]=v=>i.value=v),options:[{value:"PUBLIC",label:T(x)("editor.visibility.public")},{value:"PRIVATE",label:T(x)("editor.visibility.private")},{value:"PROTECTED",label:T(x)("editor.visibility.protected")}]},null,8,["modelValue","options"]),p("button",{class:"submit-btn",onClick:Mt},H(T(x)("editor.submit")),1)])])]),q.value?(Q(),Y("div",ep,[p("div",{class:"progress-bar",style:kt({width:X.value+"%"})},null,4),p("span",tp,H(T(x)("editor.uploading"))+" "+H(X.value)+"%",1)])):Te("",!0)])):(Q(),Y("div",sp,[Ve(kd,{settings:T(f),onSwitchToEditor:A,onEditMemo:B},null,8,["settings"])]))],64))],6))}}),op=cn(rp,[["__scopeId","data-v-eb544442"]]),ip=Wa(op);ip.mount("#app");
